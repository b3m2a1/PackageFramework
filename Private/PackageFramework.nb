(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    230011,       5571]
NotebookOptionsPosition[    202996,       5110]
NotebookOutlinePosition[    206507,       5201]
CellTagsIndexPosition[    206464,       5198]
WindowTitle->EasyIDE: PackageFramework
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["PackageFramework", "Title",
 CellChangeTimes->{{3.7827540437939157`*^9, 
  3.7827540464345703`*^9}},ExpressionUUID->"ab17adfc-28fa-455f-8cac-\
78b331e7bc18"],

Cell["\<\
A framework for extending the built-in BeginPackage/EndPackage-style package \
mechanism.
Provides developer utilities so that packages may be developed with less \
effort and more features.\
\>", "Text",
 CellChangeTimes->{{3.7827541241525717`*^9, 3.782754161040722*^9}, {
  3.7827542225596724`*^9, 3.782754226616703*^9}, {3.783798236347351*^9, 
  3.7837982370960712`*^9}},ExpressionUUID->"fa051721-9a84-4be9-b178-\
50a8ad877d6f"],

Cell["\<\
This single package file allows for bootstrapping of the system, providing \
the capabilities necessary to do the core loading, but leaving out many \
utilities like auto-completion, exception handling, etc.\
\>", "Text",
 CellChangeTimes->{{3.783798238032102*^9, 3.783798287982626*^9}, {
  3.785433753565772*^9, 
  3.785433781706921*^9}},ExpressionUUID->"376b8c61-aa04-4492-a96c-\
34aaca202c11"],

Cell[BoxData[
 RowBox[{"BeginPackage", "[", "\"\<PackageFramework`\>\"", "]"}]], "Code",
 CellChangeTimes->{{3.784579885491132*^9, 
  3.784579890912372*^9}},ExpressionUUID->"61829561-0ae4-4a1c-9bfb-\
16ecc6d1ff4e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"LoadPackage", "::", "usage"}], "=", "\n", "\t", 
   "\"\<LoadPackage[pkg] loads a PackageFrameworkPackage\>\""}], 
  ";"}]], "Code",ExpressionUUID->"698134b2-ee27-4bf3-8e4a-ab8547242add"],

Cell[CellGroupData[{

Cell["Package", "Subsubsection",
 CellChangeTimes->{{3.7855999197446537`*^9, 
  3.785599920512259*^9}},ExpressionUUID->"adee1018-3ee9-4f4e-b3de-\
cdad4f5b6e4a"],

Cell["\<\
Stuff specific to the operation of the package and not related to LoadPackage \
or any of the other functionality\
\>", "Text",
 CellChangeTimes->{{3.785599925042759*^9, 
  3.785599942727417*^9}},ExpressionUUID->"9ec6fc6e-5913-4c53-8d60-\
a4bf73948dcd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"BeginPackage", "[", "\"\<`Package`\>\"", "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.785574086547062*^9, 3.7855740937507467`*^9}, {
  3.785594363550891*^9, 3.785594364070993*^9}, {3.78559990707131*^9, 
  3.785599922880385*^9}},ExpressionUUID->"95da9d94-27df-4671-bee1-\
5551b409771d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "::", "usage"}], "=", "\n", "  ", 
   "\"\<PackageFrameworkPackage[ops] represents a package and provides \
methods on this package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PackageFrameworkPackages", "::", "usage"}], "=", "\n", "  ", 
   "\"\<$PackageFrameworkPackages is a manager symbol so that can avoid a \
reload if unnecessary\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$CurrentPackage", "::", "usage"}], "=", 
   "\"\<The current package as configured by the loader\>\""}], 
  ";"}]}], "Code",
 CellChangeTimes->{
  3.782754035627187*^9, {3.782758121093128*^9, 3.782758167035838*^9}, {
   3.783125205230398*^9, 3.783125247262006*^9}, {3.784245375879442*^9, 
   3.784245376717746*^9}, {3.785426767972327*^9, 3.7854267684976788`*^9}, {
   3.785523631023245*^9, 3.785523632377655*^9}, {3.785599910185492*^9, 
   3.785599913056012*^9}, {3.785599977504312*^9, 
   3.785599987071377*^9}},ExpressionUUID->"d2716393-cf2a-4017-a37a-\
7fbcbb56dd04"],

Cell[BoxData[
 RowBox[{
  RowBox[{"EndPackage", "[", "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.785574086547062*^9, 3.7855740937507467`*^9}, {
  3.785594363550891*^9, 3.785594364070993*^9}, {3.785599902145134*^9, 
  3.785599904817025*^9}},ExpressionUUID->"1ae7f244-f2d2-4c3f-892d-\
24a8f35b2759"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Properties", "Subsubsection",
 CellChangeTimes->{{3.784247479160968*^9, 
  3.784247480536631*^9}},ExpressionUUID->"e291567d-c5d2-456f-883a-\
5e614285203e"],

Cell["\<\
There are some aspects of the design of this framework that require a level \
of mutability that the language wouldn\[CloseCurlyQuote]t naturally provide.

To circumvent this issue we can bind a set of property setting and getting \
mechanisms on the unique PackageFrameworkPackage object that a given context \
will have bound to it (in $PackageFrameworkPackages). By doing this we\
\[CloseCurlyQuote]re able to get a nice balance of mutability and immutability\
\>", "Text",
 CellChangeTimes->{{3.784247482728467*^9, 
  3.784247629465178*^9}},ExpressionUUID->"f8aac176-8de9-40d9-8b39-\
e29dcf28d040"],

Cell[BoxData[
 RowBox[{"BeginPackage", "[", "\"\<`Object`\>\"", "]"}]], "Code",
 CellChangeTimes->{{3.783798640193939*^9, 3.783798653476494*^9}, {
  3.784247636362048*^9, 3.78424763746498*^9}, {3.784314176125834*^9, 
  3.784314176942637*^9}},ExpressionUUID->"d94fb49a-d633-4630-a9fe-\
46e776d41eef"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ResolvePackageFrameworkPackage", "::", "usage"}], "=", 
   "\"\<Resolves to the unique package object if needed\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageCreateCurrentPackageOptionInterface", "::", "usage"}], "=",
    "\n", "  ", 
   "\"\<Implementation function that lets a symbol become a hook into a given \
attribute of a package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"BindPackageMethod", "::", "usage"}], "=", "\n", "  ", 
   "\"\<Adds a method on the general PackageFrameworkPackage interface that \
makes it possible to call\\\n into packages\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkConfig", "::", "usage"}], "=", 
   "\"\<Discovers the config settings for a given package / directory\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageQ", "::", "usage"}], "=", 
   "\"\<Tests whether the object is an initialized package for not\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageOption", "::", "usage"}], "=", 
   "\"\<Gets an option value for a package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageOptionValue", "::", "usage"}], "=", 
   "\"\<Gets an option value for a package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageMutate", "::", "usage"}], "=", 
   "\"\<The mutation handler for PackageFrameworkPackage objects\>\""}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.784247665363661*^9, 3.784247697392539*^9}, {
   3.784249286130062*^9, 3.78424929051241*^9}, {3.784314179167451*^9, 
   3.784314200606317*^9}, {3.7843142419671917`*^9, 3.784314272253385*^9}, {
   3.784315152334854*^9, 3.784315175382349*^9}, {3.784316021179289*^9, 
   3.784316039486313*^9}, {3.784577439051298*^9, 3.7845775039300327`*^9}, 
   3.784651216037395*^9, {3.7854267916550217`*^9, 3.78542680171656*^9}, {
   3.7855730161152687`*^9, 
   3.7855730183768377`*^9}},ExpressionUUID->"d8d1af6f-bd3c-4f4f-92e8-\
7a4f383d015d"],

Cell[BoxData[
 RowBox[{"EndPackage", "[", "]"}]], "Code",
 CellChangeTimes->{{3.784247638003602*^9, 
  3.784247640312273*^9}},ExpressionUUID->"a4ad798d-1a7e-4f76-bde1-\
51510f2ed103"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Data", "Subsubsection",
 CellChangeTimes->{{3.785574068478977*^9, 3.7855740697105713`*^9}, {
  3.785594361023345*^9, 
  3.785594361606819*^9}},ExpressionUUID->"616be079-6c54-405e-adac-\
96e01e94bfc9"],

Cell[BoxData[
 RowBox[{"BeginPackage", "[", "\"\<`Data`\>\"", "]"}]], "Code",
 CellChangeTimes->{{3.785574086547062*^9, 3.7855740937507467`*^9}, {
  3.785594363550891*^9, 
  3.785594364070993*^9}},ExpressionUUID->"f275df58-c484-4c46-9d7a-\
7bcc1f4eca2c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageName", "::", "usage"}], "=", 
   "\"\<PackageName[pkg] Pulls the name out of pkg\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageContexts", "::", "usage"}], "=", 
   "\"\<PackageContexts[pkg] returns the set of Contexts used by the \
package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageSymbols", "::", "usage"}], "=", 
   "\"\<PackageSymbols[pkg] returns the symbols provided by the \
package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageRoot", "::", "usage"}], "=", 
   "\"\<PackageRoot[pkg] returns the root directory for the package\n\
PackageRoot[pkg, ctype] returns the root directory for the content type ctype\
\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileNames", "::", "usage"}], "=", 
   "\"\<PackageFileNames[pkg, pat] returns the files in the package matching \
pat\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFilePath", "::", "usage"}], "=", 
   "\"\<PackageFilePath[pkg, path] returns the file path using PackageRoot as \
the root\>\""}], ";"}]}], "Code",
 CellChangeTimes->{{3.7855737406247177`*^9, 3.785573767830234*^9}, {
  3.78557409613452*^9, 3.785574170283229*^9}, {3.785574296268875*^9, 
  3.785574375241664*^9}, {3.785594257687725*^9, 3.7855942585704317`*^9}, {
  3.785594366631201*^9, 
  3.785594368858094*^9}},ExpressionUUID->"aacc4f75-589d-479d-8aa5-\
f240a97cded4"],

Cell[BoxData[
 RowBox[{"EndPackage", "[", "]"}]], "Code",
 CellChangeTimes->{{3.785574185585964*^9, 
  3.785574186797805*^9}},ExpressionUUID->"25a9e105-9014-4508-80b9-\
25a390d8bcd9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Loading", "Subsubsection",
 CellChangeTimes->{{3.783798643335394*^9, 3.783798646670659*^9}, {
  3.783798722989802*^9, 
  3.783798724069249*^9}},ExpressionUUID->"9ee901e7-fde3-4cf8-a3c5-\
a11845279c39"],

Cell[BoxData[
 RowBox[{"BeginPackage", "[", "\"\<`Loading`\>\"", "]"}]], "Code",
 CellChangeTimes->{{3.783798640193939*^9, 
  3.783798653476494*^9}},ExpressionUUID->"84003fa0-da45-4b1b-88b1-\
405e46697a9f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileContexts", "::", "usage"}], "=", 
   "\"\<PackageFileContexts[pkg] The contexts for the files in pkg\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageDeclaredPackages", "::", "usage"}], "=", 
   "\"\<PackageDeclaredPackages[pkg] the set of packages found and \\\n\
declared via the autoloader for pkg\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageLoadedPackages", "::", "usage"}], "=", 
   "\"\<PackageLoadedPackages[pkg] the set of already loaded packages\>\""}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.784247742488545*^9, 3.784247854711213*^9}, {
  3.7854366575003633`*^9, 3.78543665778006*^9}, {3.785575974269087*^9, 
  3.785575997008123*^9}, {3.785594215785508*^9, 3.7855942279356213`*^9}, {
  3.785594263929797*^9, 
  3.78559426425552*^9}},ExpressionUUID->"4e76c467-d276-4c28-a063-\
2c97d819ef48"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageExecute", "::", "usage"}], "=", 
   "\"\<Executes something with the package contexts exposed\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageAutoloadPackage", "::", "usage"}], "=", 
   "\"\<Loads a package via PackageExecute\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageLoadDeclare", "::", "usage"}], "=", 
   "\"\<Declares a package\>\""}], ";"}]}], "Code",
 CellChangeTimes->{
  3.785577089182684*^9},ExpressionUUID->"b6d552af-62e1-4b54-8407-\
0efb3f4378e3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageLoad", "::", "usage"}], "=", 
   "\"\<Calls LoadDeclare on a package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageGet", "::", "usage"}], "=", "\n", "  ", 
   "\"\<Loads a specific subpackage file using Get with the appropriate \
directory structure\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageNeeds", "::", "usage"}], "=", "\n", "  ", 
   "\"\<Loads a specific subpackage file if it hasn't already been \
loaded\>\""}], ";"}]}], "Code",
 CellChangeTimes->{{3.7845815528344173`*^9, 3.784581600599338*^9}, 
   3.784651365966296*^9, {3.78542681032225*^9, 3.7854268313799458`*^9}, {
   3.78542703317596*^9, 
   3.7854270704860077`*^9}},ExpressionUUID->"a7fa14b7-3d35-48aa-8fd0-\
cbe887b932f0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"EndPackage", "[", "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.783798655392744*^9, 
  3.7837986570554647`*^9}},ExpressionUUID->"6d91d411-95f5-421c-9ae4-\
778f0a20d989"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Dependencies", "Subsubsection",
 CellChangeTimes->{{3.78543245395326*^9, 
  3.7854324555137787`*^9}},ExpressionUUID->"c3b21416-fe73-44e1-b5c4-\
e8c75b2a748b"],

Cell["\<\
We\[CloseCurlyQuote]ll include a sub-sample of the dependency management \
functions we want to provide overall. This will be the bare-bones interface \
that we can use to bootstrap the full version of the paclet from this single \
loader file.\
\>", "Text",
 CellChangeTimes->{{3.7854324957370462`*^9, 
  3.785432545975768*^9}},ExpressionUUID->"a8b1bc46-08b2-4631-a930-\
2a99382abeaf"],

Cell[BoxData[
 RowBox[{"BeginPackage", "[", "\"\<`Dependencies`\>\"", "]"}]], "Code",
 CellChangeTimes->{{3.783798640193939*^9, 3.783798653476494*^9}, {
  3.785432463922065*^9, 
  3.785432465577524*^9}},ExpressionUUID->"caa24b3a-850f-41d0-bb77-\
0d3ac28d92cc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageCheckPacletDependency", "::", "usage"}], "=", "\"\<\>\""}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageInstallPacletDependency", "::", "usage"}], "=", 
   "\"\<\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageLoadPacletDependency", "::", "usage"}], "=", "\"\<\>\""}], 
  ";"}]}], "Code",ExpressionUUID->"e414930b-263a-4164-bad8-6a89eabfeee6"],

Cell[BoxData[
 RowBox[{"EndPackage", "[", "]"}]], "Code",
 CellChangeTimes->{{3.783798640193939*^9, 3.783798653476494*^9}, {
  3.785432463922065*^9, 
  3.785432474393159*^9}},ExpressionUUID->"770dc2f7-cde9-4dd1-89ae-\
a9c8011471fe"]
}, Closed]],

Cell[CellGroupData[{

Cell["Private", "Section",
 CellChangeTimes->{{3.782754252454818*^9, 
  3.7827542535194407`*^9}},ExpressionUUID->"3f02229c-554d-474f-bf70-\
9c65895413e0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], ";"}]], "Code",ExpressionU\
UID->"78f543dd-3caa-4577-8ade-4b4b8986bc33"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$PackageFrameworkVersion", "::", "docs"}], "=", 
   "\"\<\nDunno if I'll ever use this, but this should either be \
standalone-version or paclet-version \\\nwhere version is semantically \
versioned.\n\nThe idea will be to allow for more dynamic loading of the \
PackageFramework (potentially), maybe using \\\nsome helper function\n\>\""}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{"$PackageFrameworkVersion", "=", "\"\<standalone-0.0.0\>\""}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.785573127211257*^9, 
  3.785573243072949*^9}},ExpressionUUID->"70575816-496f-497a-82e3-\
0dd93eef798c"],

Cell[CellGroupData[{

Cell["Package Objects / Mutation", "Subsection",
 CellChangeTimes->{{3.784579804585413*^9, 
  3.784579809425048*^9}},ExpressionUUID->"aef7efd4-755e-4f3b-903c-\
77f0f18b1e3f"],

Cell[CellGroupData[{

Cell["$PackageFrameworkPackages", "Subsubsection",
 CellChangeTimes->{
  3.783125404544983*^9},ExpressionUUID->"e4247e85-0455-485f-a228-\
4ad3808c83e5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"!", 
     RowBox[{"ValueQ", "[", "$PackageFrameworkPackages", "]"}]}], ",", "\n", 
    "  ", 
    RowBox[{"$PackageFrameworkPackages", " ", "=", " ", 
     RowBox[{"<|", "|>"}]}]}], "\n", "  ", "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.783125405765997*^9, 
  3.783125412620723*^9}},ExpressionUUID->"470c36a0-042c-41d3-baf3-\
8d91187f1b90"]
}, Closed]],

Cell[CellGroupData[{

Cell["ResolvePackageFrameworkPackage", "Subsubsection",
 CellChangeTimes->{
  3.784577600310034*^9},ExpressionUUID->"58a7c64e-6282-4f6c-a678-\
66d59cb2a4e0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ResolvePackageFrameworkPackage", "[", "loc_", "]"}], ":=", "\n", 
  "  ", 
  RowBox[{"Lookup", "[", 
   RowBox[{"$PackageFrameworkPackages", ",", " ", "loc", ",", " ", "None"}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.784577601582498*^9, 3.7845776354291763`*^9}, {
  3.784579490464201*^9, 
  3.784579490670621*^9}},ExpressionUUID->"8adfc7c2-d30e-4d08-8051-\
45076aa9b350"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkConfig", "Subsubsection",
 CellChangeTimes->{{3.7843151279818277`*^9, 
  3.784315131998135*^9}},ExpressionUUID->"5921dec6-aad1-4065-a339-\
f004444a125b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkConfig", "::", "doc"}], "=", 
   "\"\<\n\tMakes it possible to support the legacy design from when this was \
all part of BTools\nand I expected a Config folder at the root of every \
package\n\nThe new design attempts to unify my two major use cases: \n\t1) \
making new packages with my standard layout and which will auto-context for \
you\n\t2) hooking into existing packages for extension and introspection\n\
\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageFrameworkConfig", "[", 
   RowBox[{"ops_", ",", " ", "paclet_", ",", " ", "rootDirectory_"}], "]"}], ":=",
   "\n", "  ", 
  RowBox[{"Module", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"{", "\n", "      ", 
     RowBox[{
      RowBox[{"pacletData", " ", "=", " ", "paclet"}], ",", " ", "\n", 
      "      ", 
      RowBox[{"legacySettings", " ", "=", " ", 
       RowBox[{"{", "}"}]}], ",", "\n", "      ", "legacyConfigFiles", ",", 
      "\n", "      ", "extensionData"}], "\n", "      ", "}"}], ",", "\n", 
    "     ", 
    RowBox[{
     RowBox[{"Switch", "[", 
      RowBox[{
      "pacletData", ",", "\n", "       ", "None", ",", "\n", "         ", 
       RowBox[{"(*", " ", 
        RowBox[{
        "proceed", " ", "to", " ", "try", " ", "to", " ", "find", " ", "the", 
         " ", "missing", " ", 
         RowBox[{"PacletInfo", ".", "m"}], " ", "or", " ", 
         RowBox[{"PacletInfo", ".", "wl"}], " ", "file"}], " ", "*)"}], "\n", 
       "         ", 
       RowBox[{"pacletData", " ", "=", " ", "\n", "           ", 
        RowBox[{"Which", "[", "\n", "             ", 
         RowBox[{
          RowBox[{"FileExistsQ", "[", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"rootDirectory", ",", " ", "\"\<PacletInfo.m\>\""}], 
             "}"}]}], "]"}], ",", "\n", "               ", 
          RowBox[{"Association", "@@", 
           RowBox[{
           "PacletManager`CreatePaclet", "@", "\n", "                 ", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"rootDirectory", ",", " ", "\"\<PacletInfo.m\>\""}], 
              "}"}]}]}]}], ",", "\n", "             ", 
          RowBox[{"FileExistsQ", "[", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"rootDirectory", ",", " ", "\"\<PacletInfo.wl\>\""}], 
             "}"}]}], "]"}], ",", "\n", "               ", 
          RowBox[{"Association", "@@", 
           RowBox[{
           "PacletManager`CreatePaclet", "@", "\n", "                 ", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"rootDirectory", ",", " ", "\"\<PacletInfo.wl\>\""}], 
              "}"}]}]}]}], ",", "\n", "             ", "True", ",", "\n", 
          "               ", 
          RowBox[{"<|", "|>"}]}], "\n", "             ", "]"}]}], ",", "\n", 
       "       ", 
       RowBox[{"_PacletManager`Paclet", "|", "_System`PacletObject"}], ",", 
       "\n", "         ", 
       RowBox[{"pacletData", " ", "=", " ", 
        RowBox[{"Association", "@@", "pacletData"}]}]}], "\n", "       ", 
      "]"}], ";", "\n", "    ", 
     RowBox[{"extensionData", "=", "\n", "      ", 
      RowBox[{"Association", "@", "\n", "        ", 
       RowBox[{"Replace", "[", "\n", "          ", 
        RowBox[{
         RowBox[{"Lookup", "[", 
          RowBox[{"pacletData", ",", " ", "\"\<Extensions\>\"", ",", " ", 
           RowBox[{"{", "}"}]}], "]"}], ",", "\n", "          ", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"key_String", ",", " ", "o___"}], "}"}], ":>", "\n", 
          "            ", 
          RowBox[{"(", 
           RowBox[{"key", "->", 
            RowBox[{"Association", "@", 
             RowBox[{"Flatten", "@", 
              RowBox[{"{", "o", "}"}]}]}]}], ")"}]}], ",", "\n", "          ",
          "1"}], "\n", "          ", "]"}]}]}], ";", "\n", "    ", 
     RowBox[{"legacyConfigFiles", "=", "\n", "      ", 
      RowBox[{"FileNames", "[", 
       RowBox[{
        RowBox[{"\"\<LoadInfo.\>\"", "~~", 
         RowBox[{"(", 
          RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}], ")"}]}], ",", " ", "\n", 
        "        ", 
        RowBox[{"{", "\n", "          ", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"rootDirectory", ",", " ", "\"\<Config\>\""}], "}"}]}], 
          ",", "\n", "          ", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"rootDirectory", ",", " ", "\"\<Private\>\""}], "}"}]}], 
          ",", "\n", "          ", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{
            "rootDirectory", ",", " ", "\"\<Private\>\"", ",", " ", 
             "\"\<Config\>\""}], "}"}]}]}], "\n", "          ", "}"}]}], "\n",
        "        ", "]"}]}], ";", "\n", "    ", 
     RowBox[{"legacySettings", "=", "\n", "      ", 
      RowBox[{"Flatten", "@", 
       RowBox[{"Map", "[", "\n", "        ", 
        RowBox[{
         RowBox[{
          RowBox[{"Replace", "[", "\n", "          ", 
           RowBox[{
            RowBox[{"Quiet", "[", "\n", "            ", 
             RowBox[{
              RowBox[{"Import", "@", "#"}], ",", "\n", "            ", 
              RowBox[{"{", "\n", "              ", 
               RowBox[{
                RowBox[{"Import", "::", "nffil"}], ",", "\n", 
                "              ", 
                RowBox[{"Import", "::", "chtype"}]}], "\n", "              ", 
               "}"}]}], "\n", "            ", "]"}], ",", "\n", "          ", 
            
            RowBox[{
             RowBox[{"Except", "[", 
              RowBox[{"KeyValuePattern", "[", 
               RowBox[{"{", "}"}], "]"}], "]"}], ":>", "\n", "            ", 
             RowBox[{"{", "}"}]}]}], "\n", "          ", "]"}], "&"}], ",", 
         "\n", "       ", "legacyConfigFiles"}], "\n", "       ", "]"}]}]}], 
     ";", "\n", "    ", 
     RowBox[{
      RowBox[{"Join", "[", "\n", "       ", 
       RowBox[{
        RowBox[{"<|", "\n", "         ", 
         RowBox[{
          RowBox[{"\"\<Name\>\"", "->", 
           RowBox[{"Lookup", "[", 
            RowBox[{"pacletData", ",", " ", "\"\<Name\>\""}], "]"}]}], ",", 
          "\n", "         ", 
          RowBox[{"\"\<Location\>\"", "->", 
           RowBox[{"Lookup", "[", 
            RowBox[{"pacletData", ",", " ", "\"\<Location\>\""}], "]"}]}], 
          ",", "\n", "         ", 
          RowBox[{"\"\<Context\>\"", "->", 
           RowBox[{"Replace", "[", "\n", "           ", 
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{"pacletData", ",", " ", "\"\<Kernel\>\"", ",", " ", 
                 RowBox[{"<|", "|>"}]}], "]"}], ",", " ", "\"\<Context\>\""}],
               "]"}], ",", "\n", "  ", "         ", 
             RowBox[{"{", "\n", "  ", "           ", 
              RowBox[{
               RowBox[{"m_Missing", ":>", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"FileBaseName", "@", "rootDirectory"}], "<>", 
                  "\"\<`\>\""}], "}"}]}], ",", "\n", "  ", "           ", 
               RowBox[{"e_", ":>", 
                RowBox[{"Flatten", "@", 
                 RowBox[{"{", "e", "}"}]}]}]}], "\n", "  ", "           ", 
              "}"}]}], "\n", "  ", "         ", "]"}]}]}], "\n", "         ", 
         "|>"}], ",", "\n", "       ", 
        RowBox[{"Lookup", "[", 
         RowBox[{"pacletData", ",", " ", "\"\<PackageFramework\>\"", ",", " ", 
          RowBox[{"<|", "|>"}]}], "]"}]}], "\n", "       ", "]"}], "//", 
      RowBox[{
       RowBox[{"Merge", "[", "\n", "       ", 
        RowBox[{
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "\n", "         ", 
           RowBox[{
           "ops", ",", "\n", "         ", "#", ",", "\n", "         ", 
            "legacySettings", ",", "\n", "         ", 
            RowBox[{"Options", "[", "PackageFrameworkPackage", "]"}]}], "\n", 
           "         ", "}"}]}], ",", "\n", "       ", 
         RowBox[{"Replace", "[", 
          RowBox[{"{", "\n", "         ", 
           RowBox[{
            RowBox[{
             RowBox[{"r", ":", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"_", "?", "OptionQ"}], "|", "_Association"}], ")"}],
                 ".."}], "}"}]}], "\[RuleDelayed]", 
             RowBox[{"Merge", "[", 
              RowBox[{"r", ",", " ", "First"}], "]"}]}], ",", "\n", 
            "         ", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"e_", ",", " ", "___"}], "}"}], "\[RuleDelayed]", 
             "e"}]}], "\n", "         ", "}"}], "]"}]}], "\n", "       ", 
        "]"}], "&"}]}]}]}], "\n", "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.7828415767940197`*^9, 3.7828416455080976`*^9}, {
  3.783125506317276*^9, 3.783125506932482*^9}, {3.783173648986354*^9, 
  3.7831737086641703`*^9}, {3.783173745135379*^9, 3.7831739435314703`*^9}, {
  3.783176137440284*^9, 3.7831761376190243`*^9}, {3.78431514068997*^9, 
  3.784315142453478*^9}, {3.785436353847031*^9, 3.785436354140572*^9}, {
  3.7854364295125237`*^9, 3.78543646050198*^9}, {3.785551393002799*^9, 
  3.785551438709886*^9}, {3.785551513048049*^9, 3.785551599686573*^9}, {
  3.785551745977759*^9, 3.785551777541501*^9}, {3.785552077482737*^9, 
  3.785552078055492*^9}},ExpressionUUID->"e4b8e3d6-a5fb-4223-854f-\
6856c9f7686a"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackage", "Subsubsection",ExpressionUUID->"9b8ed445-6de5-4a87-9304-44a727d4f5be"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "::", "doc"}], "=", 
   "\"\<\nCan be initialized directly from an association, from a paclet, or \
from a directory\n\nSupports the following keys:\n  Name: Package name\n  \
Location: Package location\n  Context: Root context(s) to use and from which \
to derive subcontexts\n  PackageRoot: where to find packages (defaults to \
top-level Package directory)\n  ResourceRoot: where to find resources \
(defaults to top-level Resource directory)\n  ExtraContexts: a set of extra \
contexts to expose once loading is done\n  ContextMap: a mapping from \
standard context paths to custom ones\n  LoadInfo: \n    Mode: the loading \
mechanism (Dependency or Primary) for the package\n    FEHidden: the list of \
packages that should be hidden from the FE\n    PackageScope: the list of \
packages that should be package scoped and not exposable\n    PreLoad: the \
list of packages that should be loaded when the package is loaded\n    \
Dependencies: the list of dependencies (with suboptions) for the package\n    \
PackageContexts: the list of contexts that should be available when loading\n \
 BundleInfo:\n    RemovePaths: the set of paths to be removed from the \
bundled package\n    RemovePatterns: the set of path patterns to be remove \
from the bundled package\n\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PackageFrameworkPackage", "]"}], "=", "\n", "  ", 
   
   RowBox[{"{", "\n", "    ", 
    RowBox[{
     RowBox[{"\"\<Name\>\"", "->", "Automatic"}], ",", "\n", "    ", 
     RowBox[{"\"\<Location\>\"", "->", "Automatic"}], ",", "\n", "    ", 
     RowBox[{"\"\<Context\>\"", "->", "Automatic"}], ",", "\n", "    ", 
     RowBox[{"\"\<PackageRoot\>\"", "->", "\"\<Packages\>\""}], ",", "\n", 
     "    ", 
     RowBox[{"\"\<ResourceRoot\>\"", "->", "\"\<Resources\>\""}], ",", "\n", 
     "    ", 
     RowBox[{"\"\<DependenciesRoot\>\"", "\[Rule]", "\"\<Dependencies\>\""}], 
     ",", "\n", "    ", 
     RowBox[{"\"\<ExtraContexts\>\"", "\[Rule]", 
      RowBox[{"{", "}"}]}], ",", "\n", "    ", 
     RowBox[{"\"\<ContextMap\>\"", "\[Rule]", 
      RowBox[{"{", "}"}]}], ",", "\n", "    ", 
     RowBox[{"\"\<LoadInfo\>\"", "->", 
      RowBox[{"{", "\n", "      ", 
       RowBox[{
        RowBox[{"\"\<Mode\>\"", "->", "\"\<Primary\>\""}], ",", "\n", 
        "      ", 
        RowBox[{"\"\<FEHidden\>\"", "->", 
         RowBox[{"{", "}"}]}], ",", "\n", "      ", 
        RowBox[{"\"\<PackageScope\>\"", "->", 
         RowBox[{"{", "}"}]}], ",", "\n", "      ", 
        RowBox[{"\"\<PreLoad\>\"", "->", 
         RowBox[{"{", "}"}]}], ",", "\n", "      ", 
        RowBox[{"\"\<Dependencies\>\"", "->", 
         RowBox[{"{", "}"}]}]}], "\n", "      ", "}"}]}], ",", "\n", "    ", 
     RowBox[{"\"\<BundleInfo\>\"", "->", 
      RowBox[{"{", "\n", "      ", 
       RowBox[{
        RowBox[{"\"\<RemovePaths\>\"", " ", "->", " ", 
         RowBox[{"{", 
          RowBox[{
          "\"\<Private\>\"", ",", " ", "\"\<project\>\"", ",", " ", 
           "\"\<GitHub\>\"", ",", " ", "\"\<.git\>\""}], "}"}]}], ",", " ", 
        "\n", "      ", 
        RowBox[{"\"\<RemovePatterns\>\"", " ", "->", " ", 
         RowBox[{"{", "\n", "         ", 
          RowBox[{
          "\"\<Packages/*.nb\>\"", ",", " ", "\n", "         ", 
           "\"\<Packages/*/*.nb\>\"", ",", " ", "\n", "         ", 
           "\"\<Packages/*/*/*.nb\>\"", ",", " ", "\n", "         ", 
           "\"\<.DS_Store\>\""}], "\n", "         ", "}"}]}]}], "\n", 
       "      ", "}"}]}]}], "\n", "    ", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"pac", ":", 
      RowBox[{"_PacletManager`Paclet", "|", "_System`PacletObject"}]}], ",", 
     "\n", "  ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n",
    "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pkg", "=", 
       RowBox[{"ConstructPackageFrameworkPackage", "[", 
        RowBox[{"pac", ",", " ", "ops"}], "]"}]}], "}"}], ",", "\n", "    ", 
     RowBox[{"pkg", "/;", 
      RowBox[{"pkg", "=!=", "$Failed"}]}]}], "\n", "    ", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"loc", ":", 
      RowBox[{"_String", "?", "DirectoryQ"}]}], ",", "\n", "  ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n",
    "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pkg", "=", 
       RowBox[{"ConstructPackageFrameworkPackage", "[", 
        RowBox[{"loc", ",", " ", "ops"}], "]"}]}], "}"}], ",", "\n", "    ", 
     RowBox[{"pkg", "/;", 
      RowBox[{"pkg", "=!=", "$Failed"}]}]}], "\n", "    ", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "[", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "\n", "  ", "]"}], ":=", "\n", 
   "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pkg", "=", 
       RowBox[{"ConstructPackageFrameworkPackage", "[", "ops", "]"}]}], "}"}],
      ",", "\n", "    ", 
     RowBox[{"pkg", "/;", 
      RowBox[{"pkg", "=!=", "$Failed"}]}]}], "\n", "    ", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "[", "a_Association", "]"}], "?", 
   RowBox[{"(", "\n", "  ", 
    RowBox[{"Function", "[", 
     RowBox[{"Null", ",", " ", 
      RowBox[{"Not", "@", 
       RowBox[{"System`Private`ValidQ", "[", 
        RowBox[{"Unevaluated", "[", "#", "]"}], "]"}]}], ",", " ", 
      "HoldFirst"}], "]"}], "\n", "  ", ")"}]}], ":=", "\n", "  ", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"pkg", "=", 
      RowBox[{"ConstructPackageFrameworkPackage", "@", "a"}]}], "}"}], ",", 
    "\n", "    ", 
    RowBox[{"pkg", "/;", 
     RowBox[{"pkg", "=!=", "$Failed"}]}]}], "\n", "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.7827592498029137`*^9, 3.782759252547299*^9}, {
   3.782841028475862*^9, 3.782841035610526*^9}, {3.782841280493435*^9, 
   3.782841323864079*^9}, {3.7828413694704847`*^9, 3.782841377859964*^9}, {
   3.784575657291079*^9, 3.784575659780764*^9}, 3.784577648610456*^9, {
   3.7845777029885283`*^9, 3.784577767860334*^9}, {3.784578978775053*^9, 
   3.78457902725469*^9}, {3.784579388293939*^9, 3.7845794483473377`*^9}, {
   3.785432099637431*^9, 3.785432144363653*^9}, {3.7855753864094877`*^9, 
   3.7855754723737183`*^9}},ExpressionUUID->"c5bf68ff-b351-4ba1-aa9c-\
695c05ffb719"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Formatting", "Subsubsection",
 CellChangeTimes->{{3.785551792192533*^9, 
  3.78555179400613*^9}},ExpressionUUID->"0fff8786-432a-46b3-99d4-\
d003a76094ba"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MakeBoxes", "[", 
   RowBox[{
    RowBox[{"p", ":", 
     RowBox[{
      RowBox[{"PackageFrameworkPackage", "[", "a_", "]"}], "?", 
      "PackageFrameworkPackageQ"}]}], ",", " ", "StandardForm"}], "]"}], ":=",
   "\n", "  ", 
  RowBox[{"BoxForm`ArrangeSummaryBox", "[", "\n", "    ", 
   RowBox[{
   "PackageFrameworkPackage", ",", "\n", "    ", "p", ",", "\n", "    ", 
    "None", ",", "\n", "    ", 
    RowBox[{"{", "\n", "      ", 
     RowBox[{"BoxForm`MakeSummaryItem", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<Name: \>\"", ",", " ", 
         RowBox[{"a", "[", "\"\<Name\>\"", "]"}]}], "}"}], ",", " ", 
       "StandardForm"}], "]"}], "\n", "      ", "}"}], ",", "\n", "    ", 
    RowBox[{"{", " ", "\n", "      ", 
     RowBox[{
      RowBox[{"BoxForm`MakeSummaryItem", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<Context: \>\"", ",", " ", 
          RowBox[{"a", "[", "\"\<Context\>\"", "]"}]}], "}"}], ",", " ", 
        "StandardForm"}], "]"}], ",", "\n", "      ", 
      RowBox[{"BoxForm`MakeSummaryItem", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<Location: \>\"", ",", " ", 
          RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}], "}"}], ",", " ", 
        "StandardForm"}], "]"}]}], "\n", "      ", "}"}], ",", "\n", "    ", 
    "StandardForm"}], "\n", "    ", "]"}]}]], "Code",
 CellChangeTimes->{{3.7855517948150997`*^9, 3.785551935736576*^9}, {
  3.785551989255848*^9, 
  3.78555200177136*^9}},ExpressionUUID->"c918b925-6d27-4a36-83a4-\
6e91d743cab5"]
}, Closed]],

Cell[CellGroupData[{

Cell["ConstructPackageFrameworkPackage", "Subsubsection",
 CellChangeTimes->{{3.7845776538929443`*^9, 
  3.78457765864364*^9}},ExpressionUUID->"c13632db-f194-4457-a037-\
5666f7d1d6f5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ConstructPackageFrameworkPackage", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"pkg", ":", 
      RowBox[{"_PacletManager`Paclet", "|", "_System`PacletObject"}]}], ",", 
     "\n", "  ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n",
    "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"loc", "=", 
       RowBox[{"pkg", "[", "\"\<Location\>\"", "]"}]}], "}"}], ",", "\n", 
     "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"StringQ", "@", "loc"}], "&&", 
        RowBox[{"DirectoryQ", "@", "loc"}]}], ",", "\n", "      ", 
       RowBox[{"Replace", "[", "\n", "        ", 
        RowBox[{
         RowBox[{"ResolvePackageFrameworkPackage", "[", "]"}], ",", "\n", 
         "        ", 
         RowBox[{"None", ":>", "\n", "          ", 
          RowBox[{
          "ConstructPackageFrameworkPackage", "[", "\n", "            ", 
           RowBox[{
            RowBox[{"PackageFrameworkConfig", "[", 
             RowBox[{
              RowBox[{"{", "ops", "}"}], ",", " ", "pkg", ",", " ", "loc"}], 
             "]"}], ",", "\n", "            ", "False"}], "\n", 
           "            ", "]"}]}]}], "\n", "        ", "]"}], ",", "\n", 
       "      ", "$Failed"}], "\n", "      ", "]"}]}], "\n", "    ", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"ConstructPackageFrameworkPackage", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"loc", ":", 
      RowBox[{"_String", "?", "DirectoryQ"}]}], ",", "\n", "  ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n",
    "  ", 
   RowBox[{"Replace", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"ResolvePackageFrameworkPackage", "[", "loc", "]"}], ",", "\n", 
     "    ", 
     RowBox[{"None", ":>", "\n", "      ", 
      RowBox[{"ConstructPackageFrameworkPackage", "[", "\n", "  ", "      ", 
       RowBox[{
        RowBox[{"PackageFrameworkConfig", "[", 
         RowBox[{
          RowBox[{"{", "ops", "}"}], ",", " ", "None", ",", " ", "loc"}], 
         "]"}], ",", "\n", "        ", "False"}], "\n", "        ", "]"}]}]}],
     "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"ConstructPackageFrameworkPackage", "[", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "\n", "  ", "]"}], ":=", "\n", 
   "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"loc", "=", 
       RowBox[{"OptionValue", "[", "\"\<Location\>\"", "]"}]}], "}"}], ",", 
     "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"StringQ", "[", "loc", "]"}], "&&", 
        RowBox[{"DirectoryQ", "[", "loc", "]"}]}], ",", "\n", "      ", 
       RowBox[{"Replace", "[", "\n", "        ", 
        RowBox[{
         RowBox[{"ResolvePackageFrameworkPackage", "[", "loc", "]"}], ",", 
         "\n", "        ", 
         RowBox[{"None", ":>", "\n", "          ", 
          RowBox[{
          "ConstructPackageFrameworkPackage", "[", "\n", "            ", 
           RowBox[{
            RowBox[{"PackageFrameworkConfig", "[", 
             RowBox[{
              RowBox[{"{", "ops", "}"}], ",", " ", "None", ",", " ", "loc"}], 
             "]"}], ",", "\n", "            ", "False"}], "\n", 
           "            ", "]"}]}]}], "\n", "        ", "]"}], ",", "\n", 
       "      ", "$Failed"}], "\n", "      ", "]"}]}], "\n", "    ", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"ConstructPackageFrameworkPackage", "[", 
   RowBox[{"a_Association", ",", " ", 
    RowBox[{"validate_:", "True"}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"If", "[", 
   RowBox[{"validate", ",", "\n", "    ", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"loc", "=", 
        RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}], "}"}], ",", "\n", 
      "      ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringQ", "[", "loc", "]"}], "&&", 
         RowBox[{"DirectoryQ", "[", "loc", "]"}]}], ",", "\n", "        ", 
        RowBox[{"Replace", "[", "\n", "          ", 
         RowBox[{
          RowBox[{"ResolvePackageFrameworkPackage", "[", "loc", "]"}], ",", 
          "\n", "          ", 
          RowBox[{"None", ":>", "\n", "            ", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"config", "=", 
               RowBox[{"PackageFrameworkConfig", "[", 
                RowBox[{
                 RowBox[{"Normal", "[", "a", "]"}], ",", " ", "None", ",", 
                 " ", "loc"}], "]"}]}], "}"}], ",", "\n", "  ", "  ", 
             "          ", 
             RowBox[{"ConstructPackageFrameworkPackage", "[", 
              RowBox[{"a", ",", " ", "False"}], "]"}]}], "\n", "  ", 
            "            ", "]"}]}]}], "\n", "          ", "]"}], ",", "\n", 
        "        ", "$Failed"}], "\n", "        ", "]"}]}], "\n", "      ", 
     "]"}], ",", "\n", "   ", 
    RowBox[{"System`Private`SetValid", "@", 
     RowBox[{"Unevaluated", "@", 
      RowBox[{"PackageFrameworkPackage", "[", "a", "]"}]}]}]}], "\n", "   ", 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.7845776623661613`*^9, 3.784577699577689*^9}, {
   3.7845777757870817`*^9, 3.7845777869243727`*^9}, {3.784578898299642*^9, 
   3.7845788986967993`*^9}, 3.7845789594564734`*^9, {3.7845790301448107`*^9, 
   3.7845793618590612`*^9}},ExpressionUUID->"7a41c46e-12da-442d-9128-\
56a10462002a"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageQ", "Subsubsection",
 CellChangeTimes->{{3.7843143061720467`*^9, 
  3.784314309404336*^9}},ExpressionUUID->"dd91bc7f-75da-4f61-9a03-\
614decdd2d94"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"PackageFrameworkPackageQ", "[", 
   RowBox[{"p", ":", 
    RowBox[{"PackageFrameworkPackage", "[", 
     RowBox[{"_Association", "?", "AssociationQ"}], "]"}]}], "]"}], ":=", 
  "\n", "  ", 
  RowBox[{"System`Private`ValidQ", "[", "p", "]"}]}], "\n", 
 RowBox[{
  RowBox[{"PackageFrameworkPackageQ", "[", "_", "]"}], ":=", 
  "False"}]}], "Code",
 CellChangeTimes->{{3.784314316416842*^9, 3.784314338795972*^9}, {
   3.78431570274168*^9, 3.784315723655122*^9}, 
   3.785551968437785*^9},ExpressionUUID->"302fe105-6262-462b-9617-\
b4ddb9c1b1f5"]
}, Closed]],

Cell[CellGroupData[{

Cell["PropertyValue / SetProperty / RemoveProperty / PropertyList", \
"Subsubsection",
 CellChangeTimes->{{3.7827761806916733`*^9, 3.782776186156543*^9}, {
  3.7831748225829372`*^9, 3.783174825895047*^9}, {3.783175664134078*^9, 
  3.7831756677570963`*^9}, {3.784315532775339*^9, 
  3.7843155453915787`*^9}},ExpressionUUID->"c7ebdbaa-c175-4b19-a7d9-\
7684829b8b1f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"!", 
     RowBox[{"ValueQ", "@", "$PackagePropertyStore"}]}], ",", "\n", "  ", 
    RowBox[{
     RowBox[{"$PackagePropertyStore", " ", "=", " ", 
      RowBox[{
      "Language`NewExpressionStore", "[", "\"\<<PackageProperties>\>\"", 
       "]"}]}], ";"}]}], "\n", "  ", "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.7831748279971437`*^9, 
  3.783174870998871*^9}},ExpressionUUID->"9554b303-daab-4bbf-a1e9-\
e1f340b0670f"],

Cell[CellGroupData[{

Cell["PPSPropContainsQ", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175773641301*^9, 3.7831757753705683`*^9}, {
  3.783175918727479*^9, 
  3.7831759212326107`*^9}},ExpressionUUID->"79f08f85-80b1-4142-9eff-\
069f29fc91a2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropContainsQ", "[", "x_", "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<containsQ\>\"", "[", "x", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropContainsQ", "[", 
    RowBox[{"x_", ",", " ", "p_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<containsQ\>\"", "[", 
     RowBox[{"x", ",", " ", "p"}], "]"}]}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.783175810786375*^9, 3.783175831805725*^9}, {
  3.7831759250292587`*^9, 
  3.783175926516651*^9}},ExpressionUUID->"4d3c7465-b8b7-4ea1-a718-\
a4f5ab340b47"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PPSPropGet", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175791497035*^9, 3.783175791746064*^9}, {
  3.783175885471278*^9, 
  3.783175903355494*^9}},ExpressionUUID->"1ce312e8-f8b0-4282-b1df-\
ac790e43f0c2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropGet", "[", 
    RowBox[{"x_", ",", " ", "p_String"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<get\>\"", "[", 
     RowBox[{"x", ",", " ", "p"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropGet", "[", 
    RowBox[{"x_", ",", " ", 
     RowBox[{"{", "p_String", "}"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PPSPropGet", "[", 
    RowBox[{"x", ",", " ", "p"}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.783175812453382*^9, 3.783175917389103*^9, {3.783176227116056*^9, 
   3.7831763079774237`*^9}},ExpressionUUID->"7c4b0107-03cd-4690-99a2-\
65632e059219"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PPSPropSet", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175795544688*^9, 3.783175795810275*^9}, {
  3.7831758881593103`*^9, 
  3.7831759002967253`*^9}},ExpressionUUID->"867b1653-37a4-46d9-8c95-\
4f66c86f6c03"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropSet", "[", 
    RowBox[{"x_", ",", " ", "p_", ",", " ", "v_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<put\>\"", "[", 
     RowBox[{"x", ",", " ", "p", " ", ",", "v"}], "]"}]}]}], ";"}]], "Code",
 CellChangeTimes->{3.783175813362625*^9, 
  3.783175914573903*^9},ExpressionUUID->"d8aa679f-7321-48c6-aa59-\
8d077823a0cd"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PPSPropRemove", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175798471891*^9, 3.783175799066394*^9}, {
  3.783175904693458*^9, 
  3.783175905119034*^9}},ExpressionUUID->"fd266e62-1519-47f6-bb15-\
6cb4c1d12810"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropRemove", "[", "x_", "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<remove\>\"", "[", "x", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropRemove", "[", 
    RowBox[{"x_", ",", " ", "p_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<remove\>\"", "[", 
     RowBox[{"x", ",", " ", "p"}], "]"}]}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.783175814860489*^9, 3.783175815813809*^9}, {
  3.783175932134775*^9, 
  3.783175932957862*^9}},ExpressionUUID->"c835fa90-dc89-47d6-aa75-\
3156c81c76ec"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PPSPropKeys", "Subsubsubsubsection",
 CellChangeTimes->{{3.78317580193867*^9, 3.783175802489978*^9}, {
  3.783175906211224*^9, 
  3.783175907015046*^9}},ExpressionUUID->"1dd872eb-5b5e-4173-a853-\
7e3b4c2b4b0e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropKeys", "[", "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<getKeys\>\"", "[", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropKeys", "[", "x_", "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<getKeys\>\"", "[", "x", "]"}]}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.78317581747851*^9, 3.78317581813129*^9}, {
  3.783175936237999*^9, 
  3.7831759375570917`*^9}},ExpressionUUID->"207a8eec-79f2-4e89-ac16-\
f51608699f23"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PPSPropList", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175804960693*^9, 3.783175805409985*^9}, {
  3.78317590793268*^9, 
  3.783175908758893*^9}},ExpressionUUID->"dce466bf-7bc8-4bd4-960b-\
e4d49f4e3d2f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PPSPropList", "[", "]"}], ":=", "\n", "\t", 
   RowBox[{"$PackagePropertyStore", "@", 
    RowBox[{"\"\<listTable\>\"", "[", "]"}]}]}], ";"}]], "Code",
 CellChangeTimes->{3.7831758189269533`*^9, 
  3.7831759409810867`*^9},ExpressionUUID->"d590a3b3-e598-4abf-aaed-\
67c9f15ee045"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PPSCopyProperties", "Subsubsubsubsection",
 CellChangeTimes->{{3.784316994158675*^9, 
  3.7843169999034653`*^9}},ExpressionUUID->"e542a28f-6dde-48ce-bdda-\
cb5dd1797b10"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PPSCopyProperties", "[", 
   RowBox[{"a_", ",", " ", "b_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Do", "[", 
   RowBox[{
    RowBox[{"PPSPropSet", "[", 
     RowBox[{"b", ",", " ", 
      RowBox[{"PPSPropGet", "[", 
       RowBox[{"a", ",", " ", "k"}], "]"}]}], "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"k", ",", " ", 
      RowBox[{"PPSPropKeys", "[", "a", "]"}]}], "}"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.784317002458136*^9, 
  3.7843170629743357`*^9}},ExpressionUUID->"d357d1d9-dee5-43d4-bbfd-\
6357af06a00c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["SetProperty", "Subsubsubsubsection",
 CellChangeTimes->{{3.7831758426161633`*^9, 
  3.783175845025148*^9}},ExpressionUUID->"b17ebbdb-bf3f-484b-a936-\
4da9586a16e2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$$hold", "~", "SetAttributes", "~", "HoldAllComplete"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageSetProperty", "[", 
    RowBox[{"pkg_", ",", " ", 
     RowBox[{"p_", "->", "v_"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PPSPropSet", "[", 
    RowBox[{"pkg", ",", " ", "p", ",", " ", "v"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageSetProperty", "[", 
    RowBox[{"pkg_", ",", " ", 
     RowBox[{"p_", ":>", "v_"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PPSPropSet", "[", 
    RowBox[{"pkg", ",", " ", 
     RowBox[{"p", "->", 
      RowBox[{"$$hold", "[", "v", "]"}]}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageSetProperty", "[", 
    RowBox[{"pkg_", ",", " ", 
     RowBox[{
      RowBox[{"{", "p_String", "}"}], "->", "v_"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PPSPropSet", "[", 
    RowBox[{"pkg", ",", " ", "p", ",", " ", "v"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageSetProperty", "[", 
    RowBox[{"pkg_", ",", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"p_String", ",", " ", "r__"}], "}"}], "->", "v_"}]}], "]"}], ":=",
    "\n", "  ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"a", "=", 
       RowBox[{"PPSPropGet", "[", 
        RowBox[{"pkg", ",", " ", "p"}], "]"}]}], "}"}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{
       RowBox[{"a", "[", 
        RowBox[{"[", "r", "]"}], "]"}], "=", "v"}], ";", "\n", "    ", 
      RowBox[{"PackageFrameworkPackageSetProperty", "[", 
       RowBox[{"pkg", ",", " ", 
        RowBox[{"p", "\[Rule]", "a"}]}], "]"}], ";"}]}], "\n", "    ", 
    "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.783177258396657*^9, 3.783177269814107*^9}, {
  3.784315817166512*^9, 
  3.784315818644318*^9}},ExpressionUUID->"a46794d2-574d-4ab7-8d77-\
4bf0482fa683"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"PackageFrameworkPackage", "/:", "\n", "  ", 
   RowBox[{"SetProperty", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"p_", "->", "v_"}]}], "]"}], ":=", "\n", "\t  ", 
   RowBox[{"PPSPropSet", "[", 
    RowBox[{"pkg", ",", " ", "p", ",", " ", "v"}], "]"}]}], ";"}], "\n", 
 RowBox[{"PackageFrameworkPackage", "/:", "\n", "  ", 
  RowBox[{"SetProperty", "[", 
   RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
    RowBox[{"p_", ":>", "v_"}]}], "]"}], ":=", "\n", "\t  ", 
  RowBox[{"PPSPropSet", "[", 
   RowBox[{"pkg", ",", " ", "p", ",", " ", "v"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.783175858152699*^9, 3.783175884025166*^9}, {
   3.783175965971171*^9, 3.783175982698119*^9}, {3.783176497204485*^9, 
   3.783176509140561*^9}, {3.783176785973138*^9, 3.783176792789453*^9}, 
   3.783177064931643*^9, {3.78317711295408*^9, 3.78317713651014*^9}, {
   3.783177229335664*^9, 
   3.783177235496636*^9}},ExpressionUUID->"93823ffa-6119-4538-abc7-\
74064d8325cc"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PropertyValue", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175996989471*^9, 
  3.783175998860681*^9}},ExpressionUUID->"47d898a8-5cfb-46f5-bbdf-\
cb796d3cd063"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackagePropertyValue", "[", 
    RowBox[{"pkg_", ",", " ", "p_"}], "]"}], ":=", "\n", "  ", 
   RowBox[{"Replace", "[", "\n", "  \t  ", 
    RowBox[{
     RowBox[{"PPSPropGet", "[", 
      RowBox[{"pkg", ",", " ", "p"}], "]"}], ",", "\n", "  \t\t", 
     RowBox[{"{", "\n", "  \t\t\t", 
      RowBox[{
       RowBox[{"Null", "\[RuleDelayed]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", 
           RowBox[{"PPSPropContainsQ", "[", 
            RowBox[{"pkg", ",", " ", "p"}], "]"}]}], ",", " ", 
          RowBox[{"Missing", "[", 
           RowBox[{"\"\<PropertyAbsent\>\"", ",", " ", "p"}], "]"}], ",", " ",
           "Null"}], "]"}]}], ",", "\n", "  ", "\t\t\t", 
       RowBox[{
        RowBox[{"$$hold", "[", "v_", "]"}], "\[RuleDelayed]", "v"}]}], "\n", 
      "  \t\t\t", "}"}]}], "\n", "  \t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackagePropertyValue", "[", 
    RowBox[{"pkg_", ",", " ", 
     RowBox[{"{", "p_String", "}"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageFrameworkPackagePropertyValue", "[", 
    RowBox[{"pkg", ",", " ", "p"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageFrameworkPackagePropertyValue", "[", 
   RowBox[{"pkg_", ",", " ", 
    RowBox[{"{", 
     RowBox[{"p_String", ",", " ", "r__"}], "}"}]}], "]"}], ":=", "\n", "  ", 
  
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", "=", 
      RowBox[{"PackageFrameworkPackagePropertyValue", "[", 
       RowBox[{"pkg", ",", " ", "p"}], "]"}]}], "}"}], ",", "\n", "    ", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"a", "=!=", 
       RowBox[{"Missing", "[", 
        RowBox[{"\"\<PropertyAbsent\>\"", ",", " ", "p"}], "]"}]}], ",", "\n",
       "      ", 
      RowBox[{"a", "[", 
       RowBox[{"[", "r", "]"}], "]"}], ",", "\n", "      ", "a"}], "\n", 
     "      ", "]"}]}], "\n", "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.783176369765298*^9, 3.7831764766619043`*^9}, {
  3.783176832249977*^9, 3.7831768608071413`*^9}, {3.7831771026121597`*^9, 
  3.783177103425404*^9}, {3.783177288671319*^9, 3.783177316012547*^9}, {
  3.784315846350371*^9, 
  3.784315847046772*^9}},ExpressionUUID->"451da26a-dd3e-473c-9d0f-\
a6b283cebcf3"],

Cell[BoxData[
 RowBox[{"PackageFrameworkPackage", "/:", "\n", "  ", 
  RowBox[{"PropertyValue", "[", 
   RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "p_"}], "]"}], ":=", "\n",
   "  \t", 
  RowBox[{"PackageFrameworkPackagePropertyValue", "[", 
   RowBox[{"pkg", ",", " ", "p"}], "]"}]}]], "Code",
 CellChangeTimes->{{3.783176001299923*^9, 3.783176023536151*^9}, {
   3.783176204780554*^9, 3.783176209465931*^9}, {3.783176314506323*^9, 
   3.783176395371208*^9}, 
   3.784315846356769*^9},ExpressionUUID->"2fd92146-1a8f-4fcf-b797-\
5f36f695a9a9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["RemoveProperty", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175996989471*^9, 3.783175998860681*^9}, {
  3.7831760375498333`*^9, 
  3.7831760437500973`*^9}},ExpressionUUID->"3c4a1d7c-56b1-4f39-89f1-\
a6378fb29c37"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageRemoveProperty", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "p_"}], "]"}], ":=", 
   "\n", "  ", 
   RowBox[{"Replace", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"PPSPropRemove", "[", 
      RowBox[{"pkg", ",", " ", "p"}], "]"}], ",", "\n", "    ", 
     RowBox[{"{", "\n", "      ", 
      RowBox[{
       RowBox[{"$$hold", "[", "v_", "]"}], "\[RuleDelayed]", "v"}], "\n", 
      "      ", "}"}]}], "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageFrameworkPackageRemoveProperty", "[", 
   RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
    RowBox[{"{", 
     RowBox[{"p_String", ",", " ", "___"}], "}"}]}], "]"}], ":=", "\n", "  ", 
  
  RowBox[{"PackageFrameworkPackageRemoveProperty", "[", 
   RowBox[{"pkg", ",", " ", "p"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.783177355334935*^9, 3.783177377848913*^9}, {
  3.7831774330932217`*^9, 3.783177469475109*^9}, {3.784315892330175*^9, 
  3.784315895735694*^9}},ExpressionUUID->"97b9f9af-ed3a-4d18-9b7e-\
725fb6fa3072"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageFrameworkPackage", "/:", "\n", "  ", 
   RowBox[{"RemoveProperty", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "p_"}], "]"}], ":=", 
   "\n", "    ", 
   RowBox[{"PackageFrameworkPackageRemoveProperty", "[", 
    RowBox[{"pkg", ",", " ", "p"}], "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.783176053565578*^9, 3.783176071693943*^9}, {
   3.78317735153432*^9, 3.7831773837971478`*^9}, 
   3.784315892333308*^9},ExpressionUUID->"0fb0b1c2-f579-43c8-9627-\
24e9fbb2d360"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PropertyList", "Subsubsubsubsection",
 CellChangeTimes->{{3.783175996989471*^9, 3.783175998860681*^9}, {
  3.7831760375498333`*^9, 
  3.78317603807824*^9}},ExpressionUUID->"12662964-40c2-4a6f-8094-\
700efb7b783b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageFrameworkPackagePropertyList", "[", "pkg_", "]"}], ":=", 
  "\n", "  ", 
  RowBox[{"Replace", "[", 
   RowBox[{
    RowBox[{"PPSPropKeys", "[", "pkg", "]"}], ",", " ", 
    RowBox[{"Null", "\[Rule]", 
     RowBox[{"Missing", "[", 
      RowBox[{"\"\<PackageAbsent\>\"", ",", " ", "pkg"}], "]"}]}]}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.783177416340961*^9, 3.783177422209416*^9}, 
   3.7843159151260557`*^9},ExpressionUUID->"05c0a40e-c9d2-4bb7-aef9-\
623c20912443"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageFrameworkPackage", "/:", "\n", "  ", 
   RowBox[{"PropertyList", "[", "pkg_PackageFrameworkPackage", "]"}], ":=", 
   "\n", "    ", 
   RowBox[{"PackageFrameworkPackagePropertyList", "[", "pkg", "]"}]}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.783176053565578*^9, 3.783176118530388*^9}, {
   3.7831774212736063`*^9, 3.783177425781403*^9}, 
   3.784315914423683*^9},ExpressionUUID->"8eb31fe9-2903-4398-b817-\
db5fab305a65"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageOptionValue", "Subsubsection",
 CellChangeTimes->{{3.784314300206234*^9, 3.784314312540729*^9}, 
   3.784316039609845*^9},ExpressionUUID->"eae953bb-b91d-46e8-92fe-\
92a63e2bb811"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageOptionValue", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"pkg", ":", 
      RowBox[{
       RowBox[{"PackageFrameworkPackage", "[", "a_Association", "]"}], "?", 
       "PackageFrameworkPackageQ"}]}], ",", " ", "\n", "  ", 
     RowBox[{"keys", ":", "__String"}]}], "\n", "  ", "]"}], ":=", "\n", "  ", 
   RowBox[{"Fold", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Lookup", "[", 
       RowBox[{"#", ",", " ", "#2", ",", " ", 
        RowBox[{"Return", "[", 
         RowBox[{
          RowBox[{"Missing", "[", 
           RowBox[{"\"\<KeyAbsent\>\"", ",", " ", "#2"}], "]"}], ",", " ", 
          "Fold"}], "]"}]}], "]"}], "&"}], ",", " ", "a", ",", " ", 
     RowBox[{"{", "keys", "}"}]}], "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.7827764154995527`*^9, 3.7827765252097816`*^9}, {
   3.783176161166507*^9, 3.783176165701185*^9}, {3.7843142265234623`*^9, 
   3.784314232328309*^9}, {3.784314283616974*^9, 3.784314286639991*^9}, {
   3.784315601936571*^9, 3.784315686406852*^9}, {3.784316039620759*^9, 
   3.784316039622629*^9}, {3.784316325157819*^9, 3.784316368370391*^9}, 
   3.7843174153310413`*^9},ExpressionUUID->"2a292a06-0df3-44ce-9d7f-\
a2a1b53dde35"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageSetOptions", "Subsubsection",
 CellChangeTimes->{
  3.784317418576576*^9},ExpressionUUID->"0d55628e-9658-420a-8d0d-\
75b51247b1fe"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageFrameworkPackageSetOptions", "[", "\n", "  ", 
   RowBox[{
    RowBox[{"pkg", ":", 
     RowBox[{
      RowBox[{"PackageFrameworkPackage", "[", "a_Association", "]"}], "?", 
      "PackageFrameworkPackageQ"}]}], ",", " ", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"(", "\n", "    ", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"Rule", "|", "RuleDelayed"}], ")"}], "[", 
        RowBox[{
         RowBox[{"_String", "|", 
          RowBox[{"{", "__String", "}"}]}], ",", " ", "_"}], "]"}], "|", "\n",
        "    ", 
       RowBox[{"{", "\n", "      ", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"Rule", "|", "RuleDelayed"}], ")"}], "[", 
          RowBox[{
           RowBox[{"_String", "|", 
            RowBox[{"{", "__String", "}"}]}], ",", " ", "_"}], "]"}], ".."}], 
        "\n", "      ", "}"}]}], "\n", "    ", ")"}]}]}], "\n", "  ", "]"}], ":=",
   "\n", "  ", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"aa", "=", 
      RowBox[{"ReplacePart", "[", 
       RowBox[{"a", ",", " ", "ops"}], "]"}]}], "}"}], ",", "\n", "    ", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"new", "=", 
        RowBox[{"System`Private`SetValid", "@", 
         RowBox[{"Unevaluated", "@", 
          RowBox[{"PackageFrameworkPackage", "[", "aa", "]"}]}]}]}], "}"}], 
      ",", "\n", "      ", 
      RowBox[{
       RowBox[{"PPSCopyProperties", "[", 
        RowBox[{"pkg", ",", " ", "new"}], "]"}], ";", "\n", "      ", 
       "new"}]}], "\n", "      ", "]"}]}], "\n", "    ", "]"}]}]], "Code",
 CellChangeTimes->{{3.7827764154995527`*^9, 3.7827765252097816`*^9}, {
  3.783176161166507*^9, 3.783176165701185*^9}, {3.7843142265234623`*^9, 
  3.784314232328309*^9}, {3.784314283616974*^9, 3.784314286639991*^9}, {
  3.784315601936571*^9, 3.784315686406852*^9}, {3.784316039620759*^9, 
  3.784316039622629*^9}, {3.784316325157819*^9, 3.784316368370391*^9}, {
  3.7843174153310413`*^9, 
  3.7843175078491917`*^9}},ExpressionUUID->"97182ef2-0fa6-4e8f-a93c-\
44fb5d28fdfa"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"p_PackageFrameworkPackage", "?", "PackageFrameworkPackageQ"}], 
    "[", 
    RowBox[{"keys", ":", "__String"}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageFrameworkPackageOptionValue", "[", 
    RowBox[{"p", ",", " ", "keys"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"p_PackageFrameworkPackage", "?", "PackageFrameworkPackageQ"}], 
    "[", 
    RowBox[{"keys", ":", "__String"}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageFrameworkPackageOptionValue", "[", 
    RowBox[{"p", ",", " ", "keys"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageFrameworkPackage", "/:", "\n", "  ", 
   RowBox[{"(", 
    RowBox[{"Set", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
       "pkg_PackageFrameworkPackage", "?", "PackageFrameworkPackageQ"}], "[", 
       
       RowBox[{"keys", ":", "__String"}], "]"}], ",", " ", "value_"}], "]"}], 
    ")"}], ":=", "\n", "    ", 
   RowBox[{"PackageFrameworkPackageSetOptions", "[", 
    RowBox[{"pkg", ",", " ", 
     RowBox[{
      RowBox[{"{", "keys", "}"}], "\[Rule]", "value"}]}], "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.782776116386154*^9, 3.78277617838945*^9}, {
  3.782776271179879*^9, 3.782776305211473*^9}, {3.782776381296604*^9, 
  3.782776411973948*^9}, {3.782776530459983*^9, 3.7827765467677927`*^9}, {
  3.784314233984169*^9, 3.784314235280587*^9}, {3.784314288139949*^9, 
  3.784314289127592*^9}, {3.784316039624243*^9, 3.784316039625265*^9}, {
  3.784316313531559*^9, 3.784316314781273*^9}, {3.784579686579976*^9, 
  3.7845797451951237`*^9}},ExpressionUUID->"a60013af-8e6d-40b9-9ac9-\
098820f91699"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageMutate", "Subsubsection",
 CellChangeTimes->{
  3.784315785459668*^9},ExpressionUUID->"9dda1dc7-abbc-456a-b11e-\
6da159eb04e2"],

Cell[BoxData[{
 RowBox[{"PackageFrameworkPackageMutate", "//", "ClearAll"}], "\n", 
 RowBox[{"PackageFrameworkPackageMutate", "~", "SetAttributes", "~", 
  "HoldAllComplete"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageMutate", "[", "\n", "  ", 
    RowBox[{
     RowBox[{
      RowBox[{"s_Symbol", "?", "PackageFrameworkPackageQ"}], "[", 
      RowBox[{"keys", ":", "__String"}], "]"}], "=", "value_"}], "\n", "  ", 
    "]"}], ":=", "\n", "  ", 
   RowBox[{"(", 
    RowBox[{"s", "=", 
     RowBox[{"PackageFrameworkPackageSetOptions", "[", 
      RowBox[{"s", ",", " ", 
       RowBox[{
        RowBox[{"{", "keys", "}"}], "\[Rule]", "value"}]}], "]"}]}], ")"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageFrameworkPackageMutate", "[", "___", "]"}], ":=", 
  "Language`MutationFallthrough"}]}], "Code",
 CellChangeTimes->{{3.782776116386154*^9, 3.782776250669776*^9}, {
   3.7827763165228367`*^9, 3.78277637382653*^9}, {3.782776550975606*^9, 
   3.782776563304513*^9}, {3.7827784929634237`*^9, 3.782778494591633*^9}, {
   3.78457965195238*^9, 3.7845797045397177`*^9}, 
   3.784579748976668*^9},ExpressionUUID->"b9671ffd-d20f-439a-828f-\
230d25b3ea88"]
}, Closed]],

Cell[CellGroupData[{

Cell["CreatePackageSymbolInterface", "Subsubsection",
 CellChangeTimes->{3.784247930480803*^9, 
  3.784249315711856*^9},ExpressionUUID->"9ad0b9f8-36d5-4449-8c3b-\
ace2009d9dbc"],

Cell["\<\
The name of the method is stupidly long, of course, but the basic idea is to \
make it possible to work really easily with the $CurrentPackage since that\
\[CloseCurlyQuote]s the only one we\[CloseCurlyQuote]ll ever really care \
about at any given moment in time

We\[CloseCurlyQuote]ll provide an accessor method that can be bound \
dynamically to the value of the symbol so that it can be applied to \
$CurrentPackage and then we\[CloseCurlyQuote]ll also provide a normal \
setter-interface that will have to work through SetProperty and friends...I \
think. Or I guess that could be a default too.\
\>", "Text",
 CellChangeTimes->{{3.784248429687044*^9, 3.784248484046299*^9}, {
  3.784248515331761*^9, 
  3.784248566059249*^9}},ExpressionUUID->"86ce1c15-e190-415b-83e1-\
984d6f012fd0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"CreatePackageSymbolInterface", ",", " ", "HoldFirst"}], "]"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "::", "docs"}], "=", 
   "\"\<\nBinds the PropertyValue/SetProperty interface to the specified \
symbol and uses the specified string \\\nas the key.\n\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "[", "\n", "  ", 
    RowBox[{
    "symbol_", ",", " ", "\n", "  ", "setting_String", ",", "\n", "  ", 
     RowBox[{"accessor_:", "None"}], ",", "\n", "  ", 
     RowBox[{"setter_:", "None"}]}], "\n", "  ", "]"}], ":=", 
   RowBox[{"(", "\n", "  ", 
    RowBox[{
     RowBox[{"Unprotect", "[", 
      RowBox[{"Unevaluated", "@", "symbol"}], "]"}], ";", "\n", "  ", 
     RowBox[{"ClearAll", "[", 
      RowBox[{"Unevaluated", "@", "symbol"}], "]"}], ";", "\n", "  ", 
     RowBox[{"With", "[", "\n", "    ", 
      RowBox[{
       RowBox[{"{", "\n", "      ", 
        RowBox[{
         RowBox[{"a", " ", "=", " ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"accessor", " ", "===", " ", "None"}], ",", " ", 
            "PropertyValue", ",", " ", "accessor"}], "]"}]}], ",", "\n", 
         "      ", 
         RowBox[{"s", " ", "=", " ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"setter", " ", "===", " ", "None"}], ",", " ", 
            "SetProperty", ",", " ", "setter"}], "]"}]}]}], "\n", "      ", 
        "}"}], ",", "\n", "    ", 
       RowBox[{
        RowBox[{"symbol", " ", ":=", " ", 
         RowBox[{"a", "[", 
          RowBox[{"$CurrentPackage", ",", " ", "setting"}], "]"}]}], ";", 
        "\n", "    ", 
        RowBox[{"symbol", " ", "/:", " ", 
         RowBox[{"Set", "[", 
          RowBox[{"symbol", ",", " ", "value_"}], "]"}], ":=", "\n", "      ", 
         RowBox[{"s", "[", 
          RowBox[{"$CurrentPackage", ",", " ", 
           RowBox[{"setting", "\[Rule]", "value"}]}], "]"}]}], ";", "\n", 
        "  ", "  ", 
        RowBox[{"symbol", " ", "/:", " ", 
         RowBox[{"Set", "[", 
          RowBox[{
           RowBox[{"symbol", "[", "k__", "]"}], ",", " ", "value_"}], "]"}], ":=",
          "\n", "      ", 
         RowBox[{"s", "[", 
          RowBox[{"$CurrentPackage", ",", " ", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"setting", ",", " ", "k"}], "}"}], "\[Rule]", 
            "value"}]}], "]"}]}], ";", "\n", "    ", 
        RowBox[{"symbol", " ", "/:", " ", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"symbol", ",", " ", "value_"}], "]"}], ":=", "\n", "      ", 
         RowBox[{"s", "[", 
          RowBox[{"$CurrentPackage", ",", " ", 
           RowBox[{"setting", "\[Rule]", 
            RowBox[{"Append", "[", 
             RowBox[{
              RowBox[{"a", "[", "$CurrentPackage", "]"}], ",", " ", "value"}],
              "]"}]}]}], "]"}]}], ";", "\n", "    ", 
        RowBox[{"symbol", " ", "/:", " ", 
         RowBox[{"AssociateTo", "[", 
          RowBox[{"symbol", ",", " ", 
           RowBox[{"key_", "->", "value_"}]}], "]"}], ":=", "\n", "      ", 
         RowBox[{"s", "[", 
          RowBox[{"$CurrentPackage", ",", " ", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"setting", ",", " ", "key"}], "}"}], "\[Rule]", 
            "value"}]}], "]"}]}], ";"}]}], "\n", "    ", "]"}], ";", "\n", 
     "  ", 
     RowBox[{"Protect", "[", "symbol", "]"}], ";"}], "\n", "  ", ")"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.784247932288776*^9, 3.784247945574109*^9}, {
   3.784248055869738*^9, 3.784248106405181*^9}, {3.7842481508069696`*^9, 
   3.7842482075880623`*^9}, {3.784248366935849*^9, 3.784248419583654*^9}, {
   3.784248567453229*^9, 3.7842486252908783`*^9}, {3.7842487206926413`*^9, 
   3.784248890241647*^9}, 3.784249315721716*^9, {3.785436545825119*^9, 
   3.7854365594556923`*^9}, {3.785436601473441*^9, 
   3.785436647477336*^9}},ExpressionUUID->"28e24c42-4404-470f-a8be-\
a483d1c2f0e5"]
}, Closed]],

Cell[CellGroupData[{

Cell["BindPackageMethod", "Subsubsection",
 CellChangeTimes->{
  3.784313992343836*^9},ExpressionUUID->"6eff4122-ff46-4a2f-90bb-\
5bdaca831b7f"],

Cell["\<\
Just makes it so that the PackageFrameworkPackage can make use of down-value \
type methods. We might want to add to it later, but for the moment it makes \
it very clean and clear to work with\
\>", "Text",
 CellChangeTimes->{{3.784314041923088*^9, 3.784314059880505*^9}, {
  3.78431409164787*^9, 
  3.7843141101146173`*^9}},ExpressionUUID->"874b3c8c-39cf-4dd2-8613-\
6dcb93f2ca94"],

Cell[BoxData[
 RowBox[{
  RowBox[{"BindPackageMethod", "[", 
   RowBox[{"name_", ",", " ", "method_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"(", "\n", "    ", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"pkg", ":", 
       RowBox[{
       "_PackageFrameworkPackage", "?", "PackageFrameworkPackageQ"}]}], ")"}],
      "@", 
     RowBox[{"name", "[", "args___", "]"}]}], ":=", 
    RowBox[{"method", "[", 
     RowBox[{"pkg", ",", " ", "args"}], "]"}]}], "\n", "    ", 
   ")"}]}]], "Code",
 CellChangeTimes->{{3.784313993256914*^9, 3.78431403859417*^9}, {
  3.78431413421872*^9, 3.784314164774968*^9}, {3.784579757295936*^9, 
  3.784579758663302*^9}, {3.7854364027633333`*^9, 3.7854364053311443`*^9}, {
  3.7855957003674507`*^9, 
  3.785595702756971*^9}},ExpressionUUID->"61dcf862-f5b9-436d-b391-\
96501a23abeb"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Load Package", "Subsection",
 CellChangeTimes->{{3.784579839945074*^9, 
  3.784579843784459*^9}},ExpressionUUID->"9a9c247f-b714-43b6-9620-\
abc36dc5330c"],

Cell[CellGroupData[{

Cell["LoadPackage", "Subsubsection",
 CellChangeTimes->{{3.782758113324732*^9, 
  3.782758114740642*^9}},ExpressionUUID->"899e46da-e5d0-4c86-81df-\
942e9f1e2df5"],

Cell["\<\
This is the heart of the system. Everything in this part of the package is \
basically in service to this method.\
\>", "Text",
 CellChangeTimes->{{3.784579851072009*^9, 3.7845798688800507`*^9}, {
  3.784579947969016*^9, 3.784579953051114*^9}, {3.785599866383312*^9, 
  3.785599877687376*^9}},ExpressionUUID->"0fcb172c-4aff-4410-87fd-\
1c7c92dcb568"],

Cell["\<\
Things like symbol coloring and autocompletions can come in the full version \
of the package. The redux version will leave them out.\
\>", "Text",
 CellChangeTimes->{{3.78543178977953*^9, 
  3.785431824132413*^9}},ExpressionUUID->"76232475-5955-438d-b4bd-\
ca156e7e12a0"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "LoadPackage", "]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"LoadPackage", "::", "docs"}], "=", "\"\<\n\n\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"LoadPackage", "::", "npkg"}], "=", 
   "\"\<`` is not a valid package\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "LoadPackage", "]"}], ":=", "\n", "  ", 
   RowBox[{"{", "\n", "    ", 
    RowBox[{
     RowBox[{"\"\<Reload\>\"", "\[Rule]", "False"}], ",", "\n", "    ", 
     RowBox[{"\"\<PreloadHandler\>\"", "\[Rule]", "None"}], ",", "\n", "    ", 
     RowBox[{"\"\<PostloadHandler\>\"", "\[Rule]", "None"}], ",", "\n", 
     "    ", 
     RowBox[{"\"\<Hook\>\"", "\[Rule]", "None"}]}], "\n", "    ", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"LoadPackage", "[", "\n", "  ", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "\n", "  ", 
     RowBox[{"parent", ":", 
      RowBox[{"_PackageFrameworkPackage", "|", "Automatic", "|", "None"}], 
      ":", "None"}], ",", "\n", "  ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n",
    "  ", 
   RowBox[{"With", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
       RowBox[{"$Name", "=", 
        RowBox[{"PackageName", "[", "pkg", "]"}]}], ",", "\n", "      ", 
       RowBox[{"pre", "=", 
        RowBox[{"OptionValue", "[", "\"\<PreloadHandler\>\"", "]"}]}], ",", 
       "\n", "      ", 
       RowBox[{"post", "=", 
        RowBox[{"OptionValue", "[", "\"\<PostloadHandler\>\"", "]"}]}], ",", 
       "\n", "      ", 
       RowBox[{"hook", "=", 
        RowBox[{"OptionValue", "[", "\"\<Hook\>\"", "]"}]}], ",", "\n", 
       "      ", 
       RowBox[{"reload", "=", 
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "\"\<Reload\>\"", "]"}]}]}]}], "\n", 
      "      ", "}"}], ",", "\n", "    ", 
     RowBox[{"Block", "[", "\n", "      ", 
      RowBox[{
       RowBox[{"{", "\n", "        ", 
        RowBox[{
         RowBox[{"$PackageLoadStack", " ", "=", " ", "\n", "          ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"!", 
             RowBox[{"ListQ", "@", "$PackageLoadStack"}]}], ",", " ", 
            RowBox[{"{", "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"pkg", ",", " ", "$PackageLoadStack"}], "}"}]}], "]"}]}],
          ",", "\n", "        ", 
         RowBox[{"$ParentPackage", "=", "\n", "          ", 
          RowBox[{"Replace", "[", "\n", "            ", 
           RowBox[{"parent", ",", "\n", "            ", 
            RowBox[{"Automatic", ":>", "\n", "              ", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"PackageLoadingMode", "[", "pkg", "]"}], "===", 
                "\"\<Dependency\>\""}], ",", " ", "\n", "                ", 
               "$CurrentPackage", ",", " ", "\n", "                ", 
               "None"}], "\n", "                ", "]"}]}]}], "\n", 
           "            ", "]"}]}], ",", "\n", "        ", 
         RowBox[{"$CurrentPackage", "=", "pkg"}], ",", "\n", "        ", 
         "$ParentContext", ",", "\n", "        ", "$PackageContext", ",", 
         "\n", "        ", "$PackageFrameworkSubcontext", ",", "\n", 
         "        ", 
         RowBox[{"$DependencyLoad", "=", 
          RowBox[{
           RowBox[{"PackageLoadingMode", "[", "pkg", "]"}], "===", 
           "\"\<Dependency\>\""}]}]}], "\n", "        ", "}"}], ",", "\n", 
       "      ", 
       RowBox[{"(*", " ", 
        RowBox[{
        "this", " ", "has", " ", "to", " ", "be", " ", "set", " ", "first"}], 
        " ", "*)"}], "\n", "      ", 
       RowBox[{
        RowBox[{"$ParentContext", " ", "=", " ", "\n", "        ", 
         RowBox[{
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"l_", ",", " ", "___"}], "}"}], "\[RuleDelayed]", "l"}], 
           "]"}], "@", "\n", "          ", 
          RowBox[{"Replace", "[", 
           RowBox[{"$ParentPackage", ",", " ", "\n", "            ", 
            RowBox[{"{", "\n", "              ", 
             RowBox[{
              RowBox[{"None", "\[Rule]", "\"\<\>\""}], ",", "\n", 
              "              ", 
              RowBox[{"e_", "\[RuleDelayed]", 
               RowBox[{"PackageContext", "[", 
                RowBox[{"e", ",", " ", "$ParentContext"}], "]"}]}]}], "\n", 
             "              ", "}"}]}], "\n", "            ", "]"}]}]}], ";", 
        "\n", "      ", 
        RowBox[{"$PackageContext", " ", "=", "\n", "        ", 
         RowBox[{"PackageContext", "[", 
          RowBox[{"pkg", ",", " ", "$ParentContext"}], "]"}]}], ";", "\n", 
        "      ", 
        RowBox[{"$PackageFrameworkSubcontext", " ", "=", "\n", "        ", 
         RowBox[{
         "$PackageContext", " ", "<>", " ", "\"\<PackageScope`\>\""}]}], ";", 
        "\n", "      ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"reload", " ", "||", " ", 
           RowBox[{"!", 
            RowBox[{"KeyExistsQ", "[", 
             RowBox[{
             "$PackageFrameworkPackages", ",", " ", "$PackageContext"}], 
             "]"}]}]}], ",", "\n", "      ", "\n", "        ", 
          RowBox[{
           RowBox[{
            RowBox[{
            "$PackageFrameworkPackages", "[", "$PackageContext", "]"}], "=", 
            "$CurrentPackage"}], ";", "\n", "        ", 
           RowBox[{"SetProperty", "[", 
            RowBox[{"$CurrentPackage", ",", " ", "\n", "          ", 
             RowBox[{"\"\<TopLevelLoad\>\"", "->", "\n", "            ", 
              RowBox[{"If", "[", 
               RowBox[{
               "$DependencyLoad", ",", "\n", "  ", "  ", "          ", 
                "False", ",", "\n", "  ", "  ", "          ", 
                RowBox[{"MemberQ", "[", 
                 RowBox[{"$ContextPath", ",", " ", "\"\<Global`\>\""}], 
                 "]"}]}], "\n", "              ", "]"}]}]}], "\n", 
            "          ", "]"}], ";", "\n", "        ", 
           RowBox[{"SetProperty", "[", 
            RowBox[{"pkg", ",", " ", 
             RowBox[{"(*", " ", 
              RowBox[{
               RowBox[{
                RowBox[{
                "should", " ", "I", " ", "use", " ", "the", " ", "current", 
                 " ", "version", " ", "of", " ", "PackageContexts", " ", 
                 "here"}], "..."}], "?"}], " ", "*)"}], "\n", "          ", 
             RowBox[{"\"\<Contexts\>\"", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{
               "$PackageContext", ",", " ", "$PackageFrameworkSubcontext"}], 
               "}"}]}]}], "\n", "          ", "]"}], ";", "\n", "        ", 
           RowBox[{"SetProperty", "[", 
            RowBox[{"pkg", ",", "\n", "          ", 
             RowBox[{"\"\<ParentContext\>\"", "\[Rule]", "$ParentContext"}]}],
             "\n", "          ", "]"}], ";", "\n", "          ", "\n", 
           "        ", 
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{"hook", ",", " ", 
              RowBox[{"None", "\[Rule]", 
               RowBox[{"(", 
                RowBox[{"#2", "&"}], ")"}]}]}], "]"}], "[", "\n", 
            "          ", 
            RowBox[{"pkg", ",", "\n", "          ", 
             RowBox[{
             "Internal`WithLocalSettings", "[", "\n", "            ", 
              RowBox[{
               RowBox[{
                RowBox[{"BeginPackage", "[", "$PackageContext", "]"}], ";", 
                "\n", "            ", 
                RowBox[{"PrependTo", "[", 
                 RowBox[{
                 "$ContextPath", ",", " ", "$PackageFrameworkSubcontext"}], 
                 "]"}], ";", "\n", "            ", 
                RowBox[{"pre", "[", "pkg", "]"}]}], ",", "\n", "            ",
                "\n", "            ", 
               RowBox[{
                RowBox[{"PackageConfigurePackageHelpers", "[", "pkg", "]"}], 
                ";", "\n", "            ", 
                RowBox[{"PackageFrameworkPackageLoad", "[", "pkg", "]"}], ";",
                 "\n", "            ", 
                RowBox[{"PackageCompleteLoadProcess", "[", "pkg", "]"}]}], 
               ",", "\n", "            ", "\n", "            ", 
               RowBox[{
                RowBox[{"post", "[", "pkg", "]"}], ";", "\n", "  ", 
                "          ", 
                RowBox[{"EndPackage", "[", "]"}], ";"}]}], "\n", 
              "            ", "]"}]}], "\n", "          ", "]"}]}]}], "\n", 
         "        ", "]"}]}]}], "\n", "      ", "]"}]}], "\n", "    ", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"LoadPackage", "[", 
    RowBox[{
     RowBox[{"d_String", "?", "DirectoryQ"}], ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p", "=", 
       RowBox[{"PackageFrameworkPackage", "[", "d", "]"}]}], "}"}], ",", "\n",
      "    ", 
     RowBox[{
      RowBox[{"LoadPackage", "[", "\n", "      ", 
       RowBox[{"p", ",", " ", "\n", "      ", "ops"}], "\n", "      ", "]"}], 
      "/;", 
      RowBox[{"PackageFrameworkPackageQ", "[", "p", "]"}]}]}], "\n", "    ", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"LoadPackage", "[", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "\n", "  ", "]"}], ":=", "\n", 
   "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"d", "=", 
       RowBox[{"DirectoryName", "@", "$InputFileName"}]}], "}"}], ",", "\n", 
     "    ", 
     RowBox[{
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"p", "=", 
          RowBox[{"PackageFrameworkPackage", "[", "d", "]"}]}], "}"}], ",", 
        "\n", "  ", "    ", 
        RowBox[{
         RowBox[{"LoadPackage", "[", "\n", "  ", "      ", 
          RowBox[{"p", ",", " ", "\n", "  ", "      ", "ops"}], "\n", "  ", 
          "      ", "]"}], "/;", 
         RowBox[{"PackageFrameworkPackageQ", "[", "p", "]"}]}]}], "\n", 
       "      ", "]"}], "/;", 
      RowBox[{
       RowBox[{"StringLength", "[", "d", "]"}], ">", "0"}]}]}], "\n", "    ", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"LoadPackage", "[", 
     RowBox[{"a_", ",", " ", "___"}], "]"}], "/;", 
    RowBox[{"(", 
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"LoadPackage", "::", "npkg"}], ",", " ", "a"}], "]"}], ")"}]}],
    ":=", "Null"}], ";"}]}], "Code",
 CellChangeTimes->{{3.78277503289382*^9, 3.782775040018221*^9}, {
   3.782775196491555*^9, 3.782775340458049*^9}, {3.7827756521273117`*^9, 
   3.782775749234301*^9}, 3.782775839276018*^9, {3.782775894211445*^9, 
   3.78277609196651*^9}, {3.7827785262661963`*^9, 3.782778657323908*^9}, 
   3.782779021346775*^9, {3.7827790964674788`*^9, 3.782779147516077*^9}, {
   3.782779482919825*^9, 3.782779492505102*^9}, {3.782779537221753*^9, 
   3.78277958183663*^9}, {3.782840272735517*^9, 3.78284031266873*^9}, {
   3.782840404841023*^9, 3.782840678566367*^9}, 3.783124492166963*^9, {
   3.783125263207735*^9, 3.783125294533215*^9}, {3.783125353071673*^9, 
   3.783125391543188*^9}, {3.7831255302392483`*^9, 3.783125683916527*^9}, {
   3.783173995533813*^9, 3.783174071058867*^9}, {3.783174102906505*^9, 
   3.783174359479932*^9}, {3.7831745673704367`*^9, 3.7831745686196957`*^9}, {
   3.78317748949688*^9, 3.783177536083197*^9}, {3.785510397519477*^9, 
   3.785510412754485*^9}, {3.785510464399358*^9, 3.785510562239503*^9}, {
   3.7855106832327137`*^9, 3.785510820135645*^9}, {3.7855224765106907`*^9, 
   3.7855224837324953`*^9}, {3.785522534396554*^9, 3.785522548530864*^9}, {
   3.785522767094817*^9, 3.785522838521243*^9}, {3.785523270842806*^9, 
   3.785523351754607*^9}, {3.785523528961306*^9, 3.785523578210367*^9}, {
   3.785551308209029*^9, 3.785551342762088*^9}, {3.785552097310278*^9, 
   3.785552148333248*^9}, {3.785572540234939*^9, 3.7855725477605143`*^9}, {
   3.785572579544272*^9, 3.7855725838301888`*^9}, {3.785572886395903*^9, 
   3.785572931469892*^9}, {3.785573285710783*^9, 3.785573287387985*^9}, 
   3.785573436414073*^9, {3.785573840009419*^9, 3.785573897096085*^9}, 
   3.7855739908938007`*^9, {3.785574935866733*^9, 3.7855749485932083`*^9}, {
   3.78559386174057*^9, 3.785593890794586*^9}, {3.785593937176659*^9, 
   3.785594008739359*^9}, {3.78559405197049*^9, 
   3.7855940699128647`*^9}},ExpressionUUID->"5144c926-68ee-4bf4-b78c-\
fa78069bd952"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Context / File Management", "Subsection",
 CellChangeTimes->{{3.78457982728043*^9, 3.784579834848853*^9}, {
  3.785426912707486*^9, 
  3.785426913986294*^9}},ExpressionUUID->"d414c240-9848-4587-9674-\
dce6e9864a88"],

Cell[CellGroupData[{

Cell["PackageName", "Subsubsection",
 CellChangeTimes->{
  3.785575072779516*^9},ExpressionUUID->"77ad7832-d49f-4cae-ac1d-\
57dc93317d32"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Name\>\"", ",", " ", "PackageName"}], "]"}]], "Code",
 CellChangeTimes->{{3.7855948680193377`*^9, 3.785594883466454*^9}, {
  3.785594918818493*^9, 3.785594953665008*^9}, {3.7855949888852673`*^9, 
  3.785595004835951*^9}},ExpressionUUID->"c42e8fde-536a-4a29-99a7-\
d8f8d1c73dea"],

Cell[BoxData[{
 RowBox[{"PackageName", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageName", "[", "pkg_PackageFrameworkPackage", "]"}], ":=", 
   "\n", "  ", 
   RowBox[{"pkg", "[", "\"\<Name\>\"", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.785575073533763*^9, 3.7855750790851383`*^9}, {
  3.7855753360958233`*^9, 
  3.785575338744487*^9}},ExpressionUUID->"3595cc05-1840-4dd4-8bc2-\
568b74a7c0ce"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageRootContext", "Subsubsection",
 CellChangeTimes->{
  3.784652962580454*^9},ExpressionUUID->"5be38ac5-2f31-480d-b367-\
64c69247f81f"],

Cell[BoxData[{
 RowBox[{"PackageRootContext", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{"PackageRootContext", "[", "pkg_PackageFrameworkPackage", "]"}], ":=",
   "\n", "  ", 
  RowBox[{"Replace", "[", 
   RowBox[{
    RowBox[{"PackageFrameworkPackageOptionValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<Context\>\""}], "]"}], ",", " ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p_", ",", " ", "___"}], "}"}], "\[RuleDelayed]", "p"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.784652963740821*^9, 3.7846529739434967`*^9}, {
   3.785432323788303*^9, 3.7854323343879623`*^9}, {3.785575343123107*^9, 
   3.785575349083652*^9}, {3.785594979362193*^9, 3.785594984624682*^9}, 
   3.785595052557955*^9},ExpressionUUID->"20ff49db-f271-4e0c-b94c-\
75b2b860599f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageContext", "Subsubsection",
 CellChangeTimes->{
  3.785573351842464*^9},ExpressionUUID->"7a0bcae8-784b-48a3-aa90-\
9800e695347a"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Context\>\"", ",", " ", "PackageContext"}], "]"}]], "Code",
 CellChangeTimes->{{3.7855948680193377`*^9, 3.785594883466454*^9}, {
   3.785594918818493*^9, 3.785594953665008*^9}, 
   3.7855949888852673`*^9},ExpressionUUID->"26d48c84-e41b-4a44-ad62-\
f9cc21cf7eee"],

Cell[BoxData[{
 RowBox[{"PackageContext", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageContext", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "root_String"}], "]"}], ":=",
    "\n", "  ", 
   RowBox[{"root", "<>", 
    RowBox[{"PackageRootContext", "[", "pkg", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageContext", "[", 
   RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
    RowBox[{"Optional", "[", 
     RowBox[{"Automatic", ",", " ", "Automatic"}], "]"}]}], "]"}], ":=", "\n",
   "  ", 
  RowBox[{"PackageContext", "[", 
   RowBox[{"pkg", ",", " ", 
    RowBox[{"PropertyValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<ParentContext\>\""}], "]"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.785573354377509*^9, 3.7855733574151773`*^9}, {
  3.7855733943032303`*^9, 3.7855734085575733`*^9}, {3.785574874376939*^9, 
  3.785574920734248*^9}, {3.78557533010774*^9, 
  3.785575332382629*^9}},ExpressionUUID->"a9058758-d08c-4eb7-9932-\
6d5134b37fb8"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageContexts", "Subsubsection",
 CellChangeTimes->{
  3.785432304294114*^9},ExpressionUUID->"b9e074b7-e614-4f0a-be8d-\
fa156b4e3a3d"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Contexts\>\"", ",", " ", "PackageContexts"}], "]"}]], "Code",
 CellChangeTimes->{{3.7855948680193377`*^9, 3.785594883466454*^9}, {
  3.785594918818493*^9, 
  3.785594925249495*^9}},ExpressionUUID->"c350de4a-0081-408d-bc8e-\
ecef5edc7eb2"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "[", 
    RowBox[{"$PackageContexts", ",", " ", "\"\<Contexts\>\"", ",", " ", 
     RowBox[{
      RowBox[{"PackageContexts", "[", "#", "]"}], "&"}]}], "]"}], ";"}], 
  "*)"}]], "Code",
 CellChangeTimes->{{3.785432305161672*^9, 3.7854323074163857`*^9}, {
   3.785432373508634*^9, 3.785432400699395*^9}, {3.785573794344152*^9, 
   3.785573803979146*^9}, 3.7855949139342318`*^9, {3.7855950142739058`*^9, 
   3.785595017787622*^9}},ExpressionUUID->"1cc0bb85-125e-41f7-ad1f-\
b839d8677e0a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageContexts", "[", "pkg_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Replace", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"PropertyValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<Contexts\>\""}], "]"}], ",", "\n", "    ", 
    
    RowBox[{"_Missing", "\[RuleDelayed]", 
     RowBox[{"(", 
      RowBox[{"SetProperty", "[", 
       RowBox[{"pkg", ",", " ", 
        RowBox[{"\"\<Contexts\>\"", "\[Rule]", 
         RowBox[{"{", "}"}]}]}], "]"}], ")"}]}]}], "\n", "    ", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.785432305161672*^9, 3.7854323074163857`*^9}, {
   3.785432373508634*^9, 3.785432400699395*^9}, {3.785573794344152*^9, 
   3.785573803979146*^9}, 3.7855949139342318`*^9, {3.7855950142739058`*^9, 
   3.785595017787622*^9}},ExpressionUUID->"2c1c4ec8-6bbe-4787-a9f1-\
4cde419f0537"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageAddContexts", "Subsubsection",
 CellChangeTimes->{
  3.785595133537466*^9},ExpressionUUID->"c0523164-e314-43d8-be49-\
81af7d4088b5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageAddContexts", "[", 
   RowBox[{"pkg_", ",", " ", "conts_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"SetProperty", "[", 
   RowBox[{"pkg", ",", " ", 
    RowBox[{"\"\<Contexts\>\"", "\[Rule]", 
     RowBox[{"DeleteDuplicates", "@", 
      RowBox[{"Flatten", "@", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"PackageContexts", "[", "pkg", "]"}], ",", " ", "conts"}], 
        "}"}]}]}]}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.7855951353829947`*^9, 
  3.785595159693562*^9}},ExpressionUUID->"94748698-1450-4750-939a-\
eaaf9d2e0a20"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageContextMapping", "Subsubsection",
 CellChangeTimes->{
  3.7855753161888123`*^9},ExpressionUUID->"68965697-d0d3-4f5d-b7bd-\
a46fc5724b9a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageContextMapping", "[", "pkg_PackageFrameworkPackage", "]"}], 
  ":=", "\n", "  ", 
  RowBox[{"pkg", "[", "\"\<ContextMap\>\"", "]"}]}]], "Code",
 CellChangeTimes->{{3.785575316971573*^9, 3.78557532547861*^9}, {
  3.78557545919776*^9, 
  3.785575461796329*^9}},ExpressionUUID->"bb11cc51-05f6-4d1c-97ea-\
7209d2b4eccd"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageInitialContextPath", "Subsubsection",
 CellChangeTimes->{{3.7842471623172827`*^9, 
  3.78424716615794*^9}},ExpressionUUID->"3dea2d7f-3612-4039-8f23-\
9474f7e4d263"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageInitialContextPath", "::", "doc"}], "=", 
   "\"\<\nPackageInitialContextPath[pkg]\n\nConverts the package layout into \
a set of contexts that will be global to the package\nChecks first against \
the contexts that the package asks to expose\n\nWe assumed originally that \
$Context would be the lookup root for the \nmain package itself, but this \
assumption can be relaxed at this point\nAs long as PackageContext[pkg] \
provides the fully-qualified name of the package \nwe should be able to very \
normally manage the dependency packages\n\nThe second core assumption was \
that the directory structure would directly\nmap onto the \
$PackageContextPath, but this might not be how we want to do it\n\nThe only \
workable alternative to this is to force each directory to map onto a\n\
context but provide a mapping that would allow us to revise the used context\n\
at resolution time\n\ne.g. We'd have Pkg/Sub/Subsub \[Rule] \
PkgContext`Sub`Subsub` but then we \nhave a post-processing map that takes \
PkgContext`Sub`Subsub` \[Rule] PkgContext`NewPath`\n\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageInitialContextPath", "[", 
   RowBox[{"pkg_", ",", " ", 
    RowBox[{"includeOrig", ":", 
     RowBox[{"True", "|", "False"}], ":", "True"}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"{", "\n", "      ", 
     RowBox[{"packages", ",", "\n", "      ", 
      RowBox[{"packageRoot", "=", 
       RowBox[{"PackageRoot", "[", "pkg", "]"}]}], ",", "\n", "      ", 
      RowBox[{"packagePackageRoot", " ", "=", " ", 
       RowBox[{"PackageRoot", "[", 
        RowBox[{"pkg", ",", " ", "\"\<Packages\>\""}], "]"}]}], ",", " ", 
      "\n", "      ", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
        "I", " ", "regret", " ", "this", " ", "name", " ", "already"}], 
        "..."}], " ", "*)"}], "\n", "      ", 
      RowBox[{"name", " ", "=", " ", 
       RowBox[{"PackageName", "[", "pkg", "]"}]}], ",", "\n", "      ", 
      RowBox[{"cont", " ", "=", " ", 
       RowBox[{"PackageRootContext", "[", "pkg", "]"}]}], ",", "\n", "      ", 
      RowBox[{"opath", " ", "=", " ", 
       RowBox[{"If", "[", 
        RowBox[{"includeOrig", ",", " ", "$ContextPath", ",", " ", 
         RowBox[{"{", "\"\<System`\>\"", "}"}]}], "]"}]}], ",", "\n", 
      "      ", 
      RowBox[{"contextRemapping", " ", "=", " ", 
       RowBox[{"PackageContextMapping", "[", "pkg", "]"}]}], ",", "\n", 
      "      ", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"we", "'"}], "ll", " ", "add", " ", "some", " ", "kind", " ", 
        "of", " ", "option", " ", "to", " ", "allow", " ", "this", " ", "to", 
        " ", "be", " ", "remapped"}], " ", "*)"}], "\n", "      ", 
      "rootDepth", ",", "\n", "      ", "packageDirectories", ",", "\n", 
      "      ", "packageContextPath"}], "\n", "      ", "}"}], ",", "\n", 
    "    ", 
    RowBox[{
     RowBox[{"rootDepth", " ", "=", " ", 
      RowBox[{"FileNameDepth", "@", "packagePackageRoot"}]}], ";", "\n", 
     "    ", 
     RowBox[{"packageDirectories", " ", "=", " ", 
      RowBox[{"FileNames", "[", 
       RowBox[{
       "\"\<*\>\"", ",", " ", "packagePackageRoot", ",", " ", "Infinity"}], 
       "]"}]}], ";", "\n", "    ", 
     RowBox[{"packageDirectories", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{"packageDirectories", ",", " ", "DirectoryQ"}], "]"}]}], ";", 
     "\n", "    ", 
     RowBox[{"packageDirectories", " ", "=", " ", "\n", "      ", 
      RowBox[{
       RowBox[{
        RowBox[{"StringReplace", "[", "\n", "        ", 
         RowBox[{
          RowBox[{"FileNameDrop", "[", 
           RowBox[{"#", ",", " ", "rootDepth"}], "]"}], ",", "\n", "        ", 
          RowBox[{"$PathnameSeparator", "->", "\"\<`\>\""}]}], "\n", 
         "        ", "]"}], "&"}], "/@", "packageDirectories"}]}], ";", "\n", 
     "    ", 
     RowBox[{"packageDirectories", " ", "=", " ", "\n", "      ", 
      RowBox[{"Select", "[", "\n", "        ", 
       RowBox[{"packageDirectories", ",", "\n", "        ", 
        RowBox[{"StringMatchQ", "[", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"\"\<$\>\"", "|", "WordCharacter"}], ")"}], ".."}], 
         "]"}]}], "\n", "        ", "]"}]}], ";", "\n", "    ", 
     RowBox[{"packageContextPath", " ", "=", " ", "\n", "      ", 
      RowBox[{"Join", "[", "\n", "        ", 
       RowBox[{"opath", ",", "\n", "        ", 
        RowBox[{
         RowBox[{
          RowBox[{"cont", "<>", "#"}], "&"}], "/@", "packageDirectories"}]}], 
       "\n", "        ", "]"}]}], ";", "\n", "    ", 
     RowBox[{"DeleteDuplicates", "[", "\n", "      ", 
      RowBox[{"packageContextPath", " ", "/.", " ", "contextRemapping"}], 
      "\n", "      ", "]"}]}]}], "\n", "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.782840772749861*^9, 3.7828408073820677`*^9}, {
   3.782840847133821*^9, 3.7828409020559673`*^9}, {3.782841436897382*^9, 
   3.782841454521022*^9}, {3.782841756078457*^9, 3.7828418089747887`*^9}, {
   3.7842419719978247`*^9, 3.78424250188667*^9}, {3.7842425526866426`*^9, 
   3.784242635404119*^9}, {3.784242679733954*^9, 3.78424274675837*^9}, {
   3.784242777535885*^9, 3.784242786202866*^9}, {3.784245383528768*^9, 
   3.7842455810642033`*^9}, 3.784247127613605*^9, {3.784247170976264*^9, 
   3.784247174491391*^9}, {3.784652952706842*^9, 
   3.784652953097719*^9}},ExpressionUUID->"f8a4d1d6-13c2-452d-8821-\
596414b63d20"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageRoot", "Subsubsection",ExpressionUUID->"1da4504f-0132-4f46-8ea6-599b4436fc3d"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Directory\>\"", ",", " ", "PackageRoot"}], "]"}]], "Code",
 CellChangeTimes->{{3.7855948680193377`*^9, 
  3.785594883466454*^9}},ExpressionUUID->"d59525cb-1bea-4589-bf20-\
ef911e185846"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageRoot", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"PackageFrameworkPackage", "[", "a_", "]"}], "?", 
      "PackageFrameworkPackageQ"}], ",", " ", 
     RowBox[{"Optional", "[", 
      RowBox[{"None", ",", " ", "None"}], "]"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageRoot", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"PackageFrameworkPackage", "[", "a_", "]"}], "?", 
     "PackageFrameworkPackageQ"}], ",", " ", "k_String"}], "]"}], ":=", "\n", 
  "  ", 
  RowBox[{"FileNameJoin", "@", 
   RowBox[{"{", "\n", "    ", 
    RowBox[{
     RowBox[{"a", "[", "\"\<Location\>\"", "]"}], ",", " ", "\n", "    ", 
     RowBox[{"Lookup", "[", 
      RowBox[{"a", ",", " ", 
       RowBox[{"k", "<>", "\"\<Root\>\""}], ",", " ", "k"}], "]"}]}], "\n", 
    "    ", "}"}]}]}]}], "Code",
 CellChangeTimes->{{3.785574394411448*^9, 
  3.785574399043674*^9}},ExpressionUUID->"2354f513-b75e-42a4-8eaf-\
3a699f5d6ab4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageFileNames", "Subsubsection",ExpressionUUID->"21eb5fe9-2c48-484c-8494-91085250672a"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<FileNames\>\"", ",", " ", "PackageFileNames"}], "]"}]], "Code",\

 CellChangeTimes->{{3.7855948680193377`*^9, 
  3.7855948725258512`*^9}},ExpressionUUID->"74935dab-db1d-4462-ac0b-\
fafe531eb203"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageFileNames", "[", "\n", "  ", 
   RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "\n", "  ", 
    RowBox[{"pattern_", "?", "StringPattern`StringPatternQ"}], ",", " ", "\n",
     "  ", 
    RowBox[{"root", ":", 
     RowBox[{"_String", "|", "None"}]}], ",", " ", "\n", "  ", "e___"}], "\n",
    "  ", "]"}], ":=", "\n", "  ", 
  RowBox[{"FileNames", "[", 
   RowBox[{"pattern", ",", " ", 
    RowBox[{"PackageRoot", "[", 
     RowBox[{"pkg", ",", " ", "root"}], "]"}]}], "]"}]}]], "Code",ExpressionUU\
ID->"30140845-7972-4cba-8e6e-a73f001738ad"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageFilePath", "Subsubsection",ExpressionUUID->"4f582000-e3ac-4fe9-a6f0-af01856440e1"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Path\>\"", ",", " ", "PackageFilePath"}], "]"}]], "Code",
 CellChangeTimes->{{3.785594849452814*^9, 3.785594861322401*^9}, {
   3.785595478296908*^9, 3.785595512805723*^9}, 
   3.78559560030462*^9},ExpressionUUID->"7dedb05d-f6bb-42db-b86e-\
488fdd993127"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageFilePath", "[", "\n", "  ", 
    RowBox[{
    "pkg_PackageFrameworkPackage", ",", "\n", "  ", "p_String", ",", "\n", 
     "  ", "r___String"}], "\n", "  ", "]"}], ":=", "\n", "  ", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", "\n", "    ", 
     RowBox[{
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"PackageRoot", "[", 
         RowBox[{"pkg", ",", " ", "p"}], "]"}], ",", " ", 
        RowBox[{"_Missing", "\[Rule]", "p"}]}], "]"}], ",", "\n", "    ", 
      "r"}], "\n", "    ", "}"}]}]}], ";"}]], "Code",
 CellChangeTimes->{
  3.785594847932673*^9, {3.785595444912829*^9, 3.7855954547205563`*^9}, {
   3.785595603328884*^9, 
   3.785595639630414*^9}},ExpressionUUID->"fe33438a-9910-4fac-9e42-\
ce36a7c62d87"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageFileContexts", "Subsubsection",
 CellChangeTimes->{{3.7842490058094273`*^9, 3.784249017313571*^9}, {
  3.785576063644094*^9, 3.7855760647243137`*^9}, {3.785594509915856*^9, 
  3.785594522130621*^9}},ExpressionUUID->"333b1698-b13c-47ea-837f-\
48af57f0911e"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "[", 
    RowBox[{
    "$PackageFileContexts", ",", " ", "\"\<FileContexts\>\"", ",", " ", 
     RowBox[{
      RowBox[{"PackageFileContexts", "[", "#", "]"}], "&"}]}], "]"}], ";"}], 
  "*)"}]], "Code",ExpressionUUID->"b4f83953-8324-4479-91d5-882e09399b5c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageFileContexts", "[", "pkg_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Replace", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"PropertyValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<FileContexts\>\""}], "]"}], ",", "\n", 
    "    ", 
    RowBox[{"_Missing", "\[RuleDelayed]", 
     RowBox[{"(", "\n", "      ", 
      RowBox[{
       RowBox[{"SetProperty", "[", 
        RowBox[{"pkg", ",", " ", 
         RowBox[{"\"\<FileContexts\>\"", "\[Rule]", 
          RowBox[{"<|", "|>"}]}]}], "]"}], ";", "\n", "      ", 
       RowBox[{"<|", "|>"}]}], "\n", "      ", ")"}]}]}], "\n", "    ", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7842482307838793`*^9, 3.784248313312016*^9}, {
   3.7842483461481256`*^9, 3.78424835809557*^9}, {3.78424863794867*^9, 
   3.784248659083941*^9}, {3.784248692139359*^9, 3.7842486925379457`*^9}, 
   3.7842493157239523`*^9, {3.78557622117027*^9, 3.785576225377582*^9}, {
   3.785594498120904*^9, 
   3.785594502031678*^9}},ExpressionUUID->"1be0f349-882e-4f96-8853-\
9242aaa79698"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageLoadedPackages", "Subsubsection",
 CellChangeTimes->{{3.785594512535343*^9, 
  3.785594527090418*^9}},ExpressionUUID->"543566b0-be5e-4919-83f7-\
efcfc3e3c5fb"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "[", 
    RowBox[{"$LoadedPackages", ",", " ", "\"\<LoadedPackages\>\"", ",", " ", 
     RowBox[{
      RowBox[{"PackageLoadedPackages", "[", "#", "]"}], "&"}]}], "]"}], ";"}],
   "*)"}]], "Code",
 CellChangeTimes->{
  3.785594507149581*^9},ExpressionUUID->"b445576a-1d88-4bd1-aef1-\
42f0fd77bdb3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageLoadedPackages", "[", "pkg_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Replace", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"PropertyValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<LoadedPackages\>\""}], "]"}], ",", "\n", 
    "    ", 
    RowBox[{"_Missing", "\[RuleDelayed]", 
     RowBox[{"(", "\n", "      ", 
      RowBox[{
       RowBox[{"SetProperty", "[", 
        RowBox[{"pkg", ",", " ", 
         RowBox[{"\"\<LoadedPackages\>\"", "\[Rule]", 
          RowBox[{"{", "}"}]}]}], "]"}], ";", "\n", "      ", 
       RowBox[{"{", "}"}]}], "\n", "      ", ")"}]}]}], "\n", "    ", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7842482307838793`*^9, 3.784248313312016*^9}, {
   3.7842483461481256`*^9, 3.78424835809557*^9}, {3.78424863794867*^9, 
   3.784248704443719*^9}, {3.784248937930167*^9, 3.78424897595112*^9}, 
   3.7842493157270193`*^9, {3.785576231697201*^9, 3.785576237920644*^9}, 
   3.785594504336426*^9},ExpressionUUID->"5cf0f232-9091-4663-9d52-\
f6c76b49e8f7"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageAddLoadedPackages", "Subsubsection",
 CellChangeTimes->{{3.7855952143403683`*^9, 
  3.785595219515819*^9}},ExpressionUUID->"7c5a3bbc-9abd-4fd5-8992-\
de7f1e78ba14"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageAddLoadedPackages", "[", 
   RowBox[{"pkg_", ",", " ", "pkgFiles_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"SetProperty", "[", 
   RowBox[{"pkg", ",", " ", "\n", "    ", 
    RowBox[{"\"\<LoadedPackages\>\"", "\[Rule]", 
     RowBox[{"DeleteDuplicates", "@", 
      RowBox[{"Flatten", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"PropertyValue", "[", 
          RowBox[{"pkg", ",", " ", "\"\<LoadedPackages\>\""}], "]"}], ",", 
         " ", "pkgFiles"}], "}"}], "]"}]}]}]}], "\n", "    ", "]"}]}]], "Code",\

 CellChangeTimes->{{3.785595220640527*^9, 
  3.785595244764112*^9}},ExpressionUUID->"6b224122-a9b0-4d16-96b1-\
1dcefe00f001"]
}, Open  ]],

Cell[CellGroupData[{

Cell["PackageFileContext", "Subsubsection",ExpressionUUID->"01f2d69f-e15d-4734-9bcf-0c2bc634d82c"],

Cell["\<\
Gotta make this more flexible.
The basic idea will be to allow the Package to declare its chosen \"root\" \
context, then we build off of that.
Subdirectory names _might_ be allowed to map themselves to a different \
context in the future?\
\>", "Text",ExpressionUUID->"9f4f52b4-8bac-4d49-a897-3969b6a40e75"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileContextPath", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"f_String", "?", "DirectoryQ"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"FileNameSplit", "[", "\n", "    ", 
    RowBox[{"FileNameDrop", "[", "\n", "      ", 
     RowBox[{"f", ",", "\n", "      ", 
      RowBox[{"FileNameDepth", "[", 
       RowBox[{"PackageRoot", "[", 
        RowBox[{"pkg", ",", " ", "\"\<Packages\>\""}], "]"}], "]"}]}], "\n", 
     "      ", "]"}], "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileContextPath", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"f_String", "?", "FileExistsQ"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageFileContextPath", "[", 
    RowBox[{"pkg", ",", " ", 
     RowBox[{"DirectoryName", "@", "f"}]}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.7842428234904013`*^9, 3.784242899079482*^9}, {
  3.785575273553591*^9, 3.7855752895555983`*^9}, {3.785576650716605*^9, 
  3.785576651556775*^9}},ExpressionUUID->"d9577696-7aa0-4ff2-86dc-\
14023a8efa1a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileContext", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"f_String", "?", "DirectoryQ"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"Module", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
       RowBox[{"s", "=", 
        RowBox[{"PackageFileContextPath", "[", 
         RowBox[{"pkg", ",", " ", "f"}], "]"}]}], ",", " ", "\n", "      ", 
       RowBox[{"root", "=", 
        RowBox[{"StringTrim", "[", 
         RowBox[{
          RowBox[{"PackageContext", "[", "pkg", "]"}], ",", " ", 
          "\"\<`\>\""}], "]"}]}], ",", "\n", "      ", 
       RowBox[{"contextRemapping", " ", "=", " ", 
        RowBox[{"PackageContextMapping", "[", "pkg", "]"}]}], ",", "\n", 
       "      ", "cont"}], "\n", "      ", "}"}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"cont", " ", "=", " ", 
       RowBox[{"StringRiffle", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Append", "[", "\"\<\>\"", "]"}], "@", 
          RowBox[{"Prepend", "[", 
           RowBox[{"s", ",", " ", "root"}], "]"}]}], ",", " ", "\"\<`\>\""}], 
        "]"}]}], ";", "\n", "    ", 
      RowBox[{"Replace", "[", 
       RowBox[{"cont", ",", " ", "contextRemapping"}], "]"}]}]}], "\n", 
    "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileContext", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"f_String", "?", "FileExistsQ"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageFileContext", "[", 
    RowBox[{"pkg", ",", " ", 
     RowBox[{"DirectoryName", "[", "f", "]"}]}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.7842428807212152`*^9, 3.784242887583555*^9}, {
  3.784651734949829*^9, 3.784651756307455*^9}, {3.7846529852213*^9, 
  3.784653028511571*^9}, {3.7846556129195766`*^9, 3.78465561795625*^9}, {
  3.785575281741531*^9, 3.785575297087962*^9}, {3.785575677321168*^9, 
  3.785575697473143*^9}, {3.785576658028261*^9, 
  3.785576663827491*^9}},ExpressionUUID->"e1b48ad2-9445-4a48-8db3-\
05371b9b465d"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFileFromName", "Subsubsection",
 CellChangeTimes->{{3.785426920737729*^9, 
  3.785426929833894*^9}},ExpressionUUID->"1d327e0b-3e86-4569-bacb-\
3d3f01ba0d7b"],

Cell[BoxData[{
 RowBox[{"PackageFileFromName", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFileFromName", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "f_"}], "]"}], ":=", 
   "\n", "  ", 
   RowBox[{"Module", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{"fBase", "=", "f"}], "\n", "      ", "}"}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "[", "fBase", "]"}]}], ",", "\n", "      ", 
        RowBox[{"fBase", " ", "=", " ", 
         RowBox[{"PackageFilePath", "[", 
          RowBox[{"pkg", ",", " ", "\"\<Packages\>\"", ",", " ", 
           RowBox[{"f", "<>", "\"\<.m\>\""}]}], "]"}]}]}], "\n", "      ", 
       "]"}], ";", "\n", "    ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "[", "fBase", "]"}]}], ",", "\n", "      ", 
        RowBox[{"fBase", " ", "=", " ", 
         RowBox[{"PackageFilePath", "[", 
          RowBox[{"pkg", ",", " ", "\"\<Packages\>\"", ",", " ", 
           RowBox[{"f", "<>", "\"\<.wl\>\""}]}], "]"}]}]}], "\n", "      ", 
       "]"}], ";", "\n", "    ", "fBase"}]}], "\n", "    ", "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.7854269385298967`*^9, 3.785426961132616*^9}, {
  3.7855773336573963`*^9, 
  3.785577359778008*^9}},ExpressionUUID->"466e419f-9617-43b5-8f2d-\
bc024a4beebe"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageExposeContexts", "Subsubsection",
 CellChangeTimes->{{3.78543197641471*^9, 
  3.7854319806270227`*^9}},ExpressionUUID->"fa96b918-ec42-494c-93da-\
254c704fe748"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageExposeContexts", "[", "pkg_", "]"}], ":=", "\n", "  ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"ListQ", "@", 
      RowBox[{"pkg", "[", "\"\<ExtraContexts\>\"", "]"}]}], ",", "\n", "    ", 
     RowBox[{"PackageExtendContextPath", "[", "\n", "      ", 
      RowBox[{"pkg", ",", "\n", "      ", 
       RowBox[{"pkg", "[", "\"\<ExtraContexts\>\"", "]"}]}], "\n", "      ", 
      "]"}]}], "\n", "    ", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.7854320092028923`*^9, 3.785432017313401*^9}, {
  3.785438066831483*^9, 
  3.785438080479823*^9}},ExpressionUUID->"d4f0dfa3-e797-42d8-b398-\
62671be0d301"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageExtendContextPath", "Subsubsection",ExpressionUUID->"5623aa66-8a9e-4991-81d8-a148654c964a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageExtendContextPath", "[", 
   RowBox[{"pkg_", ",", " ", 
    RowBox[{"cp", ":", 
     RowBox[{"{", "__String", "}"}]}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"SetProperty", "[", "\n", "    ", 
   RowBox[{"pkg", ",", "\n", "    ", 
    RowBox[{"\"\<Contexts\>\"", "->", "\n", "      ", 
     RowBox[{"DeleteCases", "[", "\n", "        ", 
      RowBox[{
       RowBox[{"DeleteDuplicates", "@", "\n", "          ", 
        RowBox[{"Join", "[", 
         RowBox[{
          RowBox[{"PackageContexts", "[", "pkg", "]"}], ",", " ", "cp"}], 
         "]"}]}], ",", "\n", "        ", 
       RowBox[{"\"\<System`\>\"", "|", "\"\<Global`\>\""}]}], "\n", 
      "        ", "]"}]}]}], "\n", "    ", "]"}]}]], "Code",
 CellChangeTimes->{{3.785432244113549*^9, 3.785432284128694*^9}, {
  3.7854323546581507`*^9, 
  3.7854323558600197`*^9}},ExpressionUUID->"59ef9591-9189-4516-ae3a-\
bea7dfb65253"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Loading Helpers", "Subsection",
 CellChangeTimes->{{3.784579970661565*^9, 3.784579972069564*^9}, {
  3.7854304600912848`*^9, 
  3.7854304637868347`*^9}},ExpressionUUID->"0c0b22c1-1507-4b7d-a7e3-\
a9ae28676cde"],

Cell[CellGroupData[{

Cell["PackageSymbols", "Subsubsection",
 CellChangeTimes->{
  3.785576955865362*^9},ExpressionUUID->"4dc0b781-506b-4246-ab9f-\
f8c4771de471"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "[", 
    RowBox[{"$PackageSymbols", ",", " ", "\"\<Symbols\>\"", ",", " ", 
     RowBox[{
      RowBox[{"PackageSymbols", "[", "#", "]"}], "&"}]}], "]"}], ";"}], 
  "*)"}]], "Code",
 CellChangeTimes->{{3.785594542950705*^9, 
  3.785594544092081*^9}},ExpressionUUID->"4113250c-b4e7-4f20-a086-\
3ee87afbb9a5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageSymbols", "[", "pkg_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Replace", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"PropertyValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<Symbols\>\""}], "]"}], ",", "\n", "    ", 
    RowBox[{"_Missing", "\[RuleDelayed]", 
     RowBox[{"(", "\n", "      ", 
      RowBox[{
       RowBox[{"SetProperty", "[", 
        RowBox[{"pkg", ",", " ", 
         RowBox[{"\"\<Symbols\>\"", "\[Rule]", 
          RowBox[{"{", "}"}]}]}], "]"}], ";", "\n", "      ", 
       RowBox[{"{", "}"}]}], "\n", "      ", ")"}]}]}], "\n", "    ", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7842482307838793`*^9, 3.784248313312016*^9}, {
   3.7842483461481256`*^9, 3.78424835809557*^9}, {3.78424863794867*^9, 
   3.784248704443719*^9}, {3.784248937930167*^9, 3.78424897595112*^9}, 
   3.7842493157270193`*^9, {3.785576231697201*^9, 3.785576237920644*^9}, {
   3.785576893225094*^9, 3.785576906752935*^9}, 
   3.785594535691965*^9},ExpressionUUID->"048813ae-4c65-46b6-a9ef-\
d7ef9566a55f"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageExecute", "Subsubsection",ExpressionUUID->"b43a03fc-2224-4eb2-befe-c2f2ebb09126"],

Cell[BoxData[{
 RowBox[{"PackageExecute", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageExecute", "[", "\n", "  ", 
    RowBox[{
    "pkg_PackageFrameworkPackage", ",", " ", "\n", "  ", "expr_", ",", " ", 
     "\n", "  ", 
     RowBox[{"context", ":", 
      RowBox[{"_String", "|", "Automatic"}], ":", "Automatic"}]}], "\n", "  ",
     "]"}], ":=", "\n", "  ", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"ctxs", "=", 
       RowBox[{"PackageContexts", "[", "pkg", "]"}]}], "}"}], ",", "\n", 
     "    ", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"$CurrentPackage", "=", "pkg"}], "}"}], ",", "\n", "      ", 
       RowBox[{"Internal`WithLocalSettings", "[", "\n", "        ", 
        RowBox[{
         RowBox[{
          RowBox[{"Begin", "[", 
           RowBox[{"Replace", "[", 
            RowBox[{"context", ",", " ", 
             RowBox[{"Automatic", "->", 
              RowBox[{"ctxs", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}]}], "]"}], "]"}], ";", "\n", 
          "        ", 
          RowBox[{"System`Private`NewContextPath", "@", "\n", "          ", 
           RowBox[{"Prepend", "[", 
            RowBox[{"ctxs", ",", " ", "\"\<System`\>\""}], "]"}]}], ";"}], 
         ",", "\n", "        ", "expr", ",", "\n", "  ", "      ", 
         RowBox[{
          RowBox[{"System`Private`RestoreContextPath", "[", "]"}], ";", "\n", 
          "  ", "  ", "    ", 
          RowBox[{"End", "[", "]"}], ";"}]}], "\n", "        ", "]"}]}], "\n",
       "      ", "]"}]}], "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{"PackageExecute", "~", "SetAttributes", "~", "HoldRest"}]}], "Code",
 CellChangeTimes->{{3.784580000527275*^9, 3.7845800107743893`*^9}, {
  3.78458129369566*^9, 3.7845813113324747`*^9}, {3.785573964366934*^9, 
  3.785573976535284*^9}, {3.785574007672876*^9, 3.785574009332053*^9}, {
  3.785577152474824*^9, 3.785577171034848*^9}, {3.785577436017756*^9, 
  3.785577511106038*^9}, {3.785577672674164*^9, 
  3.785577679400867*^9}},ExpressionUUID->"e25a42f9-fc9a-4b4f-ac48-\
8e9d51bdccfc"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackagePullDeclarations", "Subsubsection",ExpressionUUID->"f39b5e26-82fd-49bc-90a8-46c85b8b9626"],

Cell["\<\
This is another big place where we need to introduce greater flexibility
The current design looks for a few things:

Begin[...] / BeginPackage[...]

We need to add some flexbility to this design, though.

Any statement up until a Begin[\[OpenCurlyDoubleQuote]`Private*`\
\[CloseCurlyDoubleQuote]] should be allowed to operate as normal (but the \
number of necessary End[] and EndPackage[] statements should be incremented). \
The reason for this is that we\[CloseCurlyQuote]d like to be able to handle \
any type of auto-completion as longs as it\[CloseCurlyQuote]s generally \
within the traditional Mathematica package design framework.\
\>", "Text",
 CellChangeTimes->{{3.784242911697564*^9, 3.784243126221765*^9}, {
  3.7842434400604877`*^9, 
  3.784243440282777*^9}},ExpressionUUID->"c6b00877-4368-4462-94ae-\
4920f8679ca0"],

Cell["\<\
This basically means we need to handle a few distinct subcases of package \
layouts. We can have the classic:

  ExposedSymbolA::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];
  ExposedSymbolB::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];
  ExposedSymbolC::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];

  Begin[\[OpenCurlyDoubleQuote]`Private`\[CloseCurlyDoubleQuote]]
  (* End Here *)

But I\[CloseCurlyQuote]d also like to be able to appropriately handle the \
case of 

  BeginPackage[\[OpenCurlyDoubleQuote]MainPackageName`\[CloseCurlyDoubleQuote]]
  
  ExposedSymbolA::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];
  ExposedSymbolB::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];
  ExposedSymbolC::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];

  Begin[\[OpenCurlyDoubleQuote]`Private`\[CloseCurlyDoubleQuote]]
  (* End Here *)
  
On the other hand, we might also want to support something like:

  BeginPackage[\[OpenCurlyDoubleQuote]`SubPackageName`\[CloseCurlyDoubleQuote]]
  
  ExposedSymbolA::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];
  ExposedSymbolB::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];
  ExposedSymbolC::usage=\[CloseCurlyDoubleQuote]....\[CloseCurlyDoubleQuote];

  Begin[\[OpenCurlyDoubleQuote]`Private`\[CloseCurlyDoubleQuote]]
  (* End Here *)

but in that case there\[CloseCurlyQuote]s some question as to how we want to \
implement this. Should we be placing autocompletions onto these sub-symbols \
too?\
\>", "Text",
 CellChangeTimes->{{3.7842434424981623`*^9, 
  3.78424363720135*^9}},ExpressionUUID->"4c2754a2-3fec-4e0b-864d-\
cd9ca39942eb"],

Cell["\<\
Another question that arises: Should we be overloading stuff like Begin and \
BeginPackage in this initialization phase? That would make it possible to not \
have to catch every possible pattern inside PackagePullDeclarationsAction, \
but at the same time runs the risk of massive breakage if things go wrong.

Something to think about in the future...\
\>", "Text",
 CellChangeTimes->{{3.7842445692457323`*^9, 
  3.7842446657404337`*^9}},ExpressionUUID->"8d813911-e068-4537-a5b4-\
bd6bebb9e3df"],

Cell[BoxData[{
 RowBox[{"PackagePullDeclarationsAction", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackagePullDeclarationsAction", "[", "\n", "  ", 
    RowBox[{"a", ":", 
     RowBox[{"Hold", "[", "\n", "    ", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"h", ":", 
          RowBox[{"Begin", "|", "BeginPackage"}]}], ")"}], "[", 
        RowBox[{"e_", ",", " ", "r___"}], "]"}], "|", "\n", "    ", 
       RowBox[{"CompoundExpression", "[", "\n", "      ", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"h", ":", 
            RowBox[{"Begin", "|", "BeginPackage"}]}], ")"}], "[", 
          RowBox[{"e_", ",", " ", "r___"}], "]"}], ",", " ", "\n", "      ", 
         "___"}], "\n", "      ", "]"}]}], "\n", "    ", "]"}]}], "\n", "  ", 
    "]"}], ":=", "\n", "  ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"StringQ", "[", "e", "]"}], "&&", 
      RowBox[{"StringStartsQ", "[", 
       RowBox[{"e", ",", " ", "\"\<`Private\>\""}], "]"}]}], ",", "\n", 
     "    ", 
     RowBox[{"Throw", "[", 
      RowBox[{"End", ",", " ", 
       RowBox[{"$EndPackageDeclaration", "[", "$CurrentPackageFile", "]"}]}], 
      "]"}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"h", "[", 
       RowBox[{"e", ",", " ", "r"}], "]"}], ";", " ", 
      RowBox[{"(*", " ", 
       RowBox[{
       "allow", " ", "the", " ", "Begin", " ", "or", " ", "BeginPackage", " ",
         "to", " ", "activate"}], " ", "*)"}], "\n", "    ", 
      RowBox[{"Switch", "[", 
       RowBox[{"h", ",", " ", "\n", "      ", "Begin", ",", " ", 
        RowBox[{"$EndCallStack", " ", "=", " ", 
         RowBox[{"{", 
          RowBox[{"End", ",", " ", "$EndCallStack"}], "}"}]}], ",", "\n", 
        "      ", "BeginPackage", ",", " ", 
        RowBox[{"$EndCallStack", " ", "=", " ", 
         RowBox[{"{", 
          RowBox[{"EndPackage", ",", " ", "$EndCallStack"}], "}"}]}]}], "\n", 
       "      ", "]"}], ";", "\n", "    ", 
      RowBox[{"AssociateTo", "[", 
       RowBox[{"$PackageContexts", ",", " ", 
        RowBox[{"$Context", "\[Rule]", "None"}]}], "]"}]}]}], "\n", "    ", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackagePullDeclarationsAction", "[", "\n", "  ", 
    RowBox[{"a", ":", 
     RowBox[{"Hold", "[", "\n", "    ", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"h", ":", 
          RowBox[{"End", "|", "EndPackage"}]}], ")"}], "[", "]"}], "|", "\n", 
       "    ", 
       RowBox[{"CompoundExpression", "[", "\n", "      ", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"h", ":", 
            RowBox[{"End", "|", "EndPackage"}]}], ")"}], "[", "___", "]"}], 
         ",", " ", "\n", "      ", "___"}], "\n", "      ", "]"}]}], "\n", 
      "    ", "]"}]}], "\n", "  ", "]"}], ":=", "\n", "  ", 
   RowBox[{"(", "\n", "    ", 
    RowBox[{
     RowBox[{"h", "[", "]"}], ";", "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "@", "$EndCallStack"}], " ", "\[Equal]", " ", "2"}],
        ",", "\n", "  ", "    ", 
       RowBox[{"$EndCallStack", " ", "=", " ", 
        RowBox[{"$EndCallStack", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}]}], "\n", "      ", "]"}], ";"}], 
    "\n", "    ", ")"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"PackagePullDeclarationsAction", "[", "\n", "  ", 
     RowBox[{"p", ":", "\n", "    ", 
      RowBox[{"Hold", "[", "\n", "      ", 
       RowBox[{
       "_PackageFEHiddenBlock", "|", "_PackageScopeBlock", "|", "\n", 
        "      ", 
        RowBox[{"CompoundExpression", "[", "\n", "        ", 
         RowBox[{
          RowBox[{"_PackageFEHiddenBlock", "|", "_PackageScopeBlock"}], ",", 
          "\n", "        ", "___"}], "\n", "        ", "]"}]}], "\n", 
       "      ", "]"}]}], "\n", "  ", "]"}], "/;", 
    RowBox[{"TrueQ", "[", "$AllowPackageRescoping", "]"}]}], ":=", "\n", "  ", 
   RowBox[{"(", "\n", "    ", 
    RowBox[{
     RowBox[{"ReleaseHold", "[", "p", "]"}], ";", "\n", "    ", 
     RowBox[{"Sow", "[", "p", "]"}], ";"}], "\n", "    ", ")"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackagePullDeclarationsAction", "[", 
    RowBox[{"e", ":", 
     RowBox[{"Except", "[", 
      RowBox[{"Hold", "[", "Expression", "]"}], "]"}]}], "]"}], ":=", "\n", 
   "  ", 
   RowBox[{"Sow", "@", "e"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.7842431437190447`*^9, {3.7842431807200623`*^9, 3.784243207029396*^9}, {
   3.784243239533643*^9, 3.784243244045143*^9}, {3.7842433217881193`*^9, 
   3.7842434355036783`*^9}, {3.784244409521956*^9, 3.784244411376725*^9}, {
   3.7842444477630177`*^9, 3.784244506998498*^9}, {3.784244676718905*^9, 
   3.784244708993535*^9}, {3.784244747335374*^9, 3.784244936124118*^9}, {
   3.784244967883403*^9, 3.784244978124331*^9}, {3.7842450119568768`*^9, 
   3.784245145459869*^9}, {3.784245178338019*^9, 3.784245179073999*^9}, {
   3.785436725233363*^9, 3.785436730866485*^9}, {3.785576560408296*^9, 
   3.785576560959221*^9}},ExpressionUUID->"61ed70d6-0419-4fef-b28b-\
1fcd96735d4f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackagePullDeclarations", "[", 
   RowBox[{"pkg_", ",", " ", "pkgFile_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "decStatements", ",", " ", "stream", ",", " ", "packageSymbols"}], "}"}],
     ",", "\n", "  ", "  ", 
    RowBox[{"Block", "[", "\n", "  ", "    ", 
     RowBox[{
      RowBox[{"{", "\n", "  ", "      ", 
       RowBox[{
        RowBox[{"$EndCallStack", " ", "=", " ", 
         RowBox[{"{", "}"}]}], ",", " ", "\n", "  ", "  ", "      ", 
        RowBox[{"(*", " ", "\n", "  ", "  ", "        ", 
         RowBox[{
          RowBox[{"We", "'"}], "ll", " ", "sow", " ", "in", " ", "End", " ", 
          "and", " ", "EndPackage", " ", "statement", " ", "as", " ", 
          "necessary", " ", "so", " ", "that", " ", "we", " ", "can", " ", 
          "just", "\n", "  ", "  ", "        ", "map", " ", "over", " ", 
          "the", " ", "flattened", " ", "version", " ", "of", " ", "the", " ",
           "stack", " ", "after", " ", 
          RowBox[{"we", "'"}], "re", " ", "done", " ", "with", " ", "finding",
           " ", "all", "\n", "  ", "  ", "        ", "of", " ", "our", " ", 
          "package", " ", "declarations"}], "\n", "  ", "  ", "        ", 
         "*)"}], "\n", "  ", "      ", 
        RowBox[{
        "$PackageLoadedContexts", " ", "=", " ", "\n", "  ", "        ", 
         RowBox[{"<|", " ", 
          RowBox[{
           RowBox[{"PackageFileContext", "[", 
            RowBox[{"pkg", ",", " ", "pkgFile"}], "]"}], " ", "->", " ", 
           "None"}], " ", "|>"}]}], ",", "\n", "  ", "  ", "    ", 
        RowBox[{"$CurrentPackageFile", " ", "=", " ", "pkgFile"}]}], "\n", 
       "  ", "  ", "    ", "}"}], ",", "\n", "  ", "  ", "  ", 
      RowBox[{
       RowBox[{"Internal`WithLocalSettings", "[", "\n", "  ", "  ", "    ", 
        RowBox[{
         RowBox[{"stream", " ", "=", " ", 
          RowBox[{"OpenRead", "[", "pkgFile", "]"}]}], ",", "\n", "  ", "  ", 
         "    ", 
         RowBox[{"decStatements", " ", "=", " ", "\n", "  ", "  ", "      ", 
          RowBox[{
           RowBox[{"Reap", "[", "\n", "  ", "  ", "        ", 
            RowBox[{"Catch", "[", "\n", "  ", "  ", "          ", 
             RowBox[{
              RowBox[{"Do", "[", " ", "\n", "  ", "  ", "            ", 
               RowBox[{"(*", " ", 
                RowBox[{
                 RowBox[{"read", " ", "the", " ", "package", " ", "block"}], 
                 "-", "by", "-", 
                 RowBox[{
                 "block", " ", "and", " ", "cache", " ", "the", " ", 
                  "relevant", " ", "symbols"}]}], " ", "*)"}], "\n", "  ", 
               "  ", "            ", 
               RowBox[{
                RowBox[{"If", "[", "\n", "  ", "  ", "              ", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"Length", "[", "\n", "  ", "                  ", 
                    RowBox[{
                    "ReadList", "[", "\n", "  ", "                    ", 
                    RowBox[{"stream", ",", "\n", "  ", "                    ", 
                    RowBox[{"PackagePullDeclarationsAction", "@", 
                    RowBox[{"Hold", "[", "Expression", "]"}]}], ",", "\n", 
                    "  ", "  ", "  ", "                ", "1"}], "\n", "  ", 
                    "  ", "  ", "                ", "]"}], "\n", "  ", "  ", 
                    "  ", "              ", "]"}], "===", "0"}], ",", "\n", 
                  "                    ", 
                  RowBox[{"Throw", "[", "\n", "                      ", 
                   RowBox[{"EndOfFile", ",", "\n", "                      ", 
                    RowBox[{
                    "$EndPackageDeclaration", "[", "$CurrentPackageFile", 
                    "]"}]}], "\n", "                      ", "]"}]}], "\n", 
                 "                  ", "]"}], ",", "\n", "                ", 
                "Infinity"}], "\n", "                ", "]"}], ",", "\n", 
              "              ", 
              RowBox[{
              "$EndPackageDeclaration", "[", "$CurrentPackageFile", "]"}]}], 
             "\n", "             ", "]"}], "\n", "          ", "]"}], "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], ",", "\n", "        ", 
         RowBox[{
          RowBox[{"Close", "[", "stream", "]"}], ";", "\n", "  ", "  ", "  ", 
          "  ", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", "]"}], "&"}], ",", " ", 
            RowBox[{"Flatten", "@", "$EndCallStack"}]}], "]"}], ";"}]}], "\n",
         "  ", "      ", "]"}], ";", "\n", "  ", "  ", 
       RowBox[{"packageSymbols", "=", "\n", "  ", "    ", 
        RowBox[{"Cases", "[", "\n", "  ", "      ", 
         RowBox[{"decStatements", ",", "\n", "  ", "      ", 
          RowBox[{
           RowBox[{"s_Symbol", "?", 
            RowBox[{"(", "\n", "  ", "        ", 
             RowBox[{"Function", "[", "\n", "  ", "          ", 
              RowBox[{"Null", ",", "\n", "  ", "          ", 
               RowBox[{"Quiet", "[", 
                RowBox[{"KeyExistsQ", "[", 
                 RowBox[{"$PackageLoadedContexts", ",", " ", 
                  RowBox[{"Context", "[", "#", "]"}]}], "]"}], "]"}], ",", 
               "\n", "  ", "          ", "HoldAllComplete"}], "\n", "  ", 
              "          ", "]"}], "\n", "  ", "          ", ")"}]}], ":>", 
           "\n", "  ", "          ", 
           RowBox[{"HoldPattern", "[", "s", "]"}]}], ",", "\n", "  ", 
          "      ", "Infinity"}], "\n", "        ", "]"}]}], ";", "\n", 
       "    ", 
       RowBox[{"SetProperty", "[", 
        RowBox[{"pkg", ",", " ", "\n", "      ", 
         RowBox[{"\"\<Symbols\>\"", "\[Rule]", "\n", "        ", 
          RowBox[{"DeleteDuplicates", "@", 
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"PackageSymbols", "[", "pkg", "]"}], ",", " ", 
             "packageSymbols"}], "]"}]}]}]}], "\n", "      ", "]"}], ";", 
       "\n", "    ", 
       RowBox[{"SetProperty", "[", 
        RowBox[{"pkg", ",", " ", "\n", "      ", 
         RowBox[{"\"\<Contexts\>\"", "\[Rule]", "\n", "        ", 
          RowBox[{"DeleteDuplicates", "@", 
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"PackageContexts", "[", "pkg", "]"}], ",", " ", 
             RowBox[{"Keys", "@", "$PackageLoadedContexts"}]}], "]"}]}]}]}], 
        "\n", "      ", "]"}], ";", "\n", "    ", 
       RowBox[{"pkgFile", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Keys", "@", "$PackageLoadedContexts"}], ",", " ", 
          "packageSymbols"}], "}"}]}]}]}], "\n", "    ", "]"}]}], " ", "\n", 
   "  ", "]"}]}]], "Code",
 CellChangeTimes->{{3.784243665539208*^9, 3.784243860425351*^9}, {
  3.784243952589075*^9, 3.784244030438611*^9}, {3.784244076749217*^9, 
  3.784244103562853*^9}, {3.784244152890616*^9, 3.784244441692773*^9}, {
  3.784245226307745*^9, 3.7842452665621634`*^9}, {3.7854367548358517`*^9, 
  3.785436816370345*^9}, {3.785438109478943*^9, 3.785438114362195*^9}, {
  3.7855763803559113`*^9, 3.7855764237157373`*^9}, {3.785576459301104*^9, 
  3.785576480121994*^9}, {3.78557653851466*^9, 3.785576574203259*^9}, {
  3.785576804139927*^9, 3.785576818777769*^9}, {3.785576965857328*^9, 
  3.785577035974012*^9}},ExpressionUUID->"c06ec0f6-3718-4c24-8d74-\
2920a9be730c"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageAutoloadPackage", "Subsubsection",
 CellChangeTimes->{
  3.785436893510058*^9},ExpressionUUID->"daf3c6e3-e8a6-40fc-97df-\
9f76f3aec1e0"],

Cell["\<\
Handles the actual loading of a file. This is set up by the declarer to \
autoload all the package symbols.\
\>", "Text",
 CellChangeTimes->{{3.785436850928421*^9, 
  3.7854369101673307`*^9}},ExpressionUUID->"5a61fe20-6e59-4a69-b5a3-\
731a37739564"],

Cell[BoxData[{
 RowBox[{"PackageAutoloadPackage", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageAutoloadPackage", "[", 
    RowBox[{
    "pkg_PackageFrameworkPackage", ",", " ", "heldSym_", ",", " ", "context_",
      ",", " ", 
     RowBox[{"pkgFile_", "->", "syms_"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"Block", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
       RowBox[{"$loadingChain", "=", "\n", "        ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", 
           RowBox[{"AssociationQ", "@", "$inLoad"}]}], ",", " ", "\n", 
          "          ", 
          RowBox[{"$loadingChain", " ", "=", " ", 
           RowBox[{"<|", " ", 
            RowBox[{"pkg", " ", "\[Rule]", " ", 
             RowBox[{"{", "}"}]}], " ", "|>"}]}], ",", "\n", "          ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"!", 
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"$loadingChain", ",", " ", "pkg"}], "]"}]}], ",", "\n", 
            "            ", 
            RowBox[{"Append", "[", 
             RowBox[{"$loadingChain", ",", " ", 
              RowBox[{"pkg", "\[Rule]", 
               RowBox[{"{", "}"}]}]}], "]"}], ",", "\n", "            ", 
            "$loadingChain"}], "\n", "            ", "]"}]}], "\n", 
         "          ", "]"}]}], ",", "\n", "      ", 
       RowBox[{"$inLoad", "=", "\n", "        ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", 
           RowBox[{"AssociationQ", "@", "$inLoad"}]}], ",", " ", "\n", "  ", 
          "        ", 
          RowBox[{"<|", 
           RowBox[{"pkg", "\[Rule]", "False"}], "|>"}], ",", " ", "\n", 
          "          ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"!", 
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"$inLoad", ",", " ", "pkg"}], "]"}]}], ",", "\n", 
            "            ", 
            RowBox[{"Append", "[", 
             RowBox[{"$inLoad", ",", " ", 
              RowBox[{"pkg", "\[Rule]", "False"}]}], "]"}], ",", "\n", 
            "            ", 
            RowBox[{"TrueQ", "[", "$inLoad", "]"}]}], "\n", "            ", 
           "]"}]}], "\n", "          ", "]"}]}], ",", "\n", "      ", 
       RowBox[{"$$inLoad", "=", 
        RowBox[{"TrueQ", "[", 
         RowBox[{"$inLoad", "[", "pkg", "]"}], "]"}]}]}], "\n", "      ", 
      "}"}], ",", "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"MemberQ", "[", 
         RowBox[{
          RowBox[{"$loadingChain", "[", "pkg", "]"}], ",", " ", "pkgFile"}], 
         "]"}]}], ",", "\n", "      ", 
       RowBox[{
        RowBox[{"AppendTo", "[", 
         RowBox[{
          RowBox[{"$loadingChain", "[", "pkg", "]"}], ",", " ", "pkgFile"}], 
         "]"}], ";", "\n", "      ", 
        RowBox[{
         RowBox[{"$inLoad", "[", "pkg", "]"}], "=", "True"}], ";", "\n", 
        "      ", 
        RowBox[{"Internal`WithLocalSettings", "[", "\n", "        ", 
         RowBox[{"(*", " ", 
          RowBox[{
          "holds", " ", "the", " ", "CPath", " ", "so", " ", "it", " ", "can",
            " ", "be", " ", "restored", " ", "later"}], " ", "*)"}], "\n", 
         "        ", 
         RowBox[{
          RowBox[{"System`Private`NewContextPath", "@", "$ContextPath"}], ",",
           "\n", "        ", "\n", "        ", 
          RowBox[{"(*", " ", 
           RowBox[{"Clear", ",", " ", 
            RowBox[{"but", " ", "only", " ", "for", " ", "OwnValues"}]}], " ",
            "*)"}], "\n", "        ", 
          RowBox[{
           RowBox[{"Replace", "[", 
            RowBox[{"syms", ",", "\n", "          ", 
             RowBox[{
              RowBox[{"s_Symbol", "|", 
               RowBox[{
                RowBox[{"Verbatim", "[", "HoldPattern", "]"}], "[", 
                "s_Symbol", "]"}]}], ":>", "\n", "            ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"OwnValues", "[", "s", "]"}], "=", 
                RowBox[{"{", "}"}]}], ")"}]}], ",", "\n", "          ", "1"}],
             "\n", "          ", "]"}], ";", "\n", "        ", 
           RowBox[{"PackageEnsureLoad", "[", "pkg", "]"}], ";", "\n", 
           "        ", 
           RowBox[{"PackageFrameworkPackageGet", "[", 
            RowBox[{"pkg", ",", " ", 
             RowBox[{"context", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ",", " ", "pkgFile"}], "]"}], 
           ";", "\n", "        ", 
           RowBox[{"PackageAddLoadedPackage", "[", 
            RowBox[{"pkg", ",", " ", "pkgFile"}], "]"}]}], ",", "\n", 
          "          ", "\n", "        ", 
          RowBox[{"System`Private`RestoreContextPath", "[", "]"}]}], "\n", 
         "        ", "]"}], ";", "\n", "      ", 
        RowBox[{"ReleaseHold", "[", "heldSym", "]"}]}]}], "\n", "      ", 
      "]"}]}], "\n", "    ", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{
  3.784655835084011*^9, {3.785436826691964*^9, 3.7854368332110243`*^9}, 
   3.7854368935208473`*^9, {3.7854369365995617`*^9, 3.78543703074934*^9}, {
   3.785437070813781*^9, 3.785437109371377*^9}, {3.785437146513277*^9, 
   3.785437147911799*^9}, {3.78543717973741*^9, 3.785437326694243*^9}, {
   3.7855771961019907`*^9, 3.785577247195717*^9}, {3.785577287507351*^9, 
   3.7855772895107927`*^9}, {3.785577754632843*^9, 3.785577770830731*^9}, {
   3.785595175179587*^9, 
   3.785595184335047*^9}},ExpressionUUID->"32ee6b79-1b33-438b-aea7-\
7ad8c161ab2c"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageDeclarePackage", "Subsubsection",ExpressionUUID->"1fa5509c-ccde-4296-9755-aa41b7a6bd9f"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"CreatePackageSymbolInterface", "[", 
    RowBox[{
    "$DeclaredPackages", ",", " ", "\"\<DeclaredPackages\>\"", ",", " ", 
     RowBox[{
      RowBox[{"PackageDeclaredPackages", "[", "#", "]"}], "&"}]}], "]"}], 
   ";"}], "*)"}]], "Code",
 CellChangeTimes->{
  3.785594558613447*^9},ExpressionUUID->"070cf191-f4d6-4f25-aef6-\
d3820a3bb14b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageDeclaredPackages", "[", "pkg_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Replace", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"PropertyValue", "[", 
     RowBox[{"pkg", ",", " ", "\"\<DeclaredPackages\>\""}], "]"}], ",", "\n", 
    "    ", 
    RowBox[{"_Missing", "\[RuleDelayed]", 
     RowBox[{"(", "\n", "      ", 
      RowBox[{
       RowBox[{"SetProperty", "[", 
        RowBox[{"pkg", ",", " ", 
         RowBox[{"\"\<DeclaredPackages\>\"", "\[Rule]", 
          RowBox[{"<|", "|>"}]}]}], "]"}], ";", " ", "\n", "      ", 
       RowBox[{"<|", "|>"}]}], "\n", "      ", ")"}]}]}], "\n", "    ", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7842482307838793`*^9, 3.784248313312016*^9}, {
   3.7842483461481256`*^9, 3.78424835809557*^9}, {3.78424863794867*^9, 
   3.784248704443719*^9}, 3.784248937930167*^9, 3.784249315725505*^9, {
   3.784315269989403*^9, 3.7843152989635897`*^9}, {3.7855761999077272`*^9, 
   3.78557621231262*^9}, 
   3.7855945555125427`*^9},ExpressionUUID->"764e615d-0057-445a-8409-\
390a91fc041d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageDeclarePackage", "[", "\n", "  ", 
    RowBox[{"pkg_", ",", " ", "\n", "  ", 
     RowBox[{"pkgFile_", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"contexts_", ",", " ", "syms_"}], "}"}]}]}], "\n", "  ", "]"}],
    ":=", "\n", "  ", 
   RowBox[{"(", "\n", "    ", 
    RowBox[{
     RowBox[{"SetProperty", "[", 
      RowBox[{"pkg", ",", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<DeclaredPackages\>\"", ",", " ", "pkgFile"}], "}"}], "->",
         "syms"}]}], "]"}], ";", "\n", "    ", 
     RowBox[{"SetProperty", "[", 
      RowBox[{"pkg", ",", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<FileContexts\>\"", ",", " ", "pkgFile"}], "}"}], "->", 
        "contexts"}]}], "]"}], ";", "\n", "    ", 
     RowBox[{"Replace", "[", 
      RowBox[{"syms", ",", "\n", "      ", 
       RowBox[{
        RowBox[{"s_Symbol", "|", 
         RowBox[{
          RowBox[{"Verbatim", "[", "HoldPattern", "]"}], "[", "s_Symbol", 
          "]"}]}], ":>", "\n", "        ", 
        RowBox[{"SetDelayed", "[", "\n", "          ", 
         RowBox[{"s", ",", "\n", "          ", 
          RowBox[{"PackageAutoloadPackage", "[", 
           RowBox[{"pkg", ",", " ", 
            RowBox[{"HoldPattern", "[", "s", "]"}], ",", " ", "contexts", ",",
             " ", 
            RowBox[{"pkgFile", "->", "syms"}]}], "]"}]}], "\n", "          ", 
         "]"}]}], ",", "\n", "      ", "1"}], "\n", "      ", "]"}]}], "\n", 
    "    ", ")"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.78424735041973*^9, 3.784247351298188*^9}, {
   3.7843152245343657`*^9, 3.784315231837139*^9}, {3.7843153238373957`*^9, 
   3.784315348900762*^9}, {3.7843153823620977`*^9, 3.784315512265697*^9}, 
   3.785436893523357*^9, {3.785437343933606*^9, 
   3.785437365621024*^9}},ExpressionUUID->"9ec200c0-3a93-47f4-a057-\
acd5bc917928"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageLoadDeclare", "Subsubsection",ExpressionUUID->"a092d971-8a3e-445d-b777-cc86a2c7b803"],

Cell[BoxData[{
 RowBox[{"PackageLoadDeclare", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageLoadDeclare", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "pkgFile_String"}], 
    "]"}], ":=", "\n", "  ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"MemberQ", "[", 
       RowBox[{
        RowBox[{"PackageLoadedPackages", "[", "pkg", "]"}], ",", " ", 
        "pkgFile"}], "]"}]}], ",", "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"KeyMemberQ", "[", 
         RowBox[{
          RowBox[{"PackageDeclaredPackages", "[", "pkg", "]"}], ",", " ", 
          "pkgFile"}], "]"}]}], ",", "\n", "      ", 
       RowBox[{"PackageDeclarePackage", "[", "\n", "        ", 
        RowBox[{"pkg", ",", "\n", "        ", 
         RowBox[{"PackagePullDeclarations", "[", 
          RowBox[{"pkg", ",", " ", "pkgFile"}], "]"}]}], "\n", "        ", 
        "]"}]}], "\n", "      ", "]"}], ",", "\n", "    ", 
     RowBox[{"PackageFrameworkPackageGet", "[", 
      RowBox[{"pkg", ",", " ", "pkgFile"}], "]"}]}], "\n", "    ", "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{
  3.7846558350853653`*^9, {3.7855759333830013`*^9, 3.785575966625675*^9}, 
   3.785576009861709*^9, {3.785576089371448*^9, 
   3.785576129538383*^9}},ExpressionUUID->"2285ddfd-cc9e-4a9b-b5d8-\
f95d08aec268"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageLoad", "Subsubsection",
 CellChangeTimes->{3.784580110572234*^9, 3.7845815430432863`*^9, 
  3.784651366065585*^9},ExpressionUUID->"4f1e181b-eb02-4431-ae6b-\
aa518686a43c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"BindPackageMethod", "[", 
   RowBox[{"\"\<Load\>\"", ",", " ", "PackageFrameworkPackageLoad"}], "]"}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.784580072126865*^9, 3.7845800787561617`*^9}, 
   3.784580110578518*^9, 3.78458154304946*^9, 3.784651366070981*^9, {
   3.78465153943163*^9, 
   3.784651552545478*^9}},ExpressionUUID->"d6c2d450-15a9-4c74-9cf5-\
b2187a97cce8"],

Cell[BoxData[{
 RowBox[{"PackageFrameworkPackageLoad", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageLoad", "::", "doc"}], "=", 
   "\"\<\nLoops over all of the available files in the package and \\\n\
creates subcontexts for directories and configures auto-loading for the \
package files\n\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageLoad", "[", 
    RowBox[{
    "pkg_PackageFrameworkPackage", ",", " ", "dir_", ",", " ", "listing_"}], 
    "]"}], ":=", "\n", "  ", 
   RowBox[{"Module", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
       RowBox[{"fileNames", "=", "\n", "        ", 
        RowBox[{"Select", "[", "\n", "          ", 
         RowBox[{
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", " ", "dir"}], "]"}], ",", "\n", 
          "          ", 
          RowBox[{
           RowBox[{
            RowBox[{"DirectoryQ", "@", "#"}], "||", 
            RowBox[{"MatchQ", "[", 
             RowBox[{
              RowBox[{"FileExtension", "[", "#", "]"}], ",", " ", 
              RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}]}], "]"}]}], "&"}]}], 
         "\n", "          ", "]"}]}], ",", "\n", "       ", "preload", ",", 
       "\n", "       ", "packages", ",", "\n", "       ", "postload"}], "\n", 
      "      ", "}"}], ",", "\n", "    ", 
     RowBox[{"(*", " ", 
      RowBox[{"preloaded", " ", "packages"}], " ", "*)"}], "\n", "    ", 
     RowBox[{
      RowBox[{"preload", " ", "=", " ", "\n", "      ", 
       RowBox[{"Select", "[", 
        RowBox[{"fileNames", ",", " ", "\n", "        ", 
         RowBox[{
          RowBox[{"StringMatchQ", "[", "\n", "          ", 
           RowBox[{
            RowBox[{"ToLowerCase", "@", 
             RowBox[{"FileNameTake", "[", "#", "]"}]}], ",", "\n", 
            "          ", 
            RowBox[{"\"\<__pre__.\>\"", "~~", 
             RowBox[{"(", 
              RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}], ")"}]}]}], "\n", 
           "          ", "]"}], "&"}]}], "\n", "        ", "]"}]}], ";", "\n",
       "    ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "@", "preload"}], ">", "0"}], ",", " ", 
        RowBox[{"Get", "[", 
         RowBox[{"preload", "[", 
          RowBox[{"[", 
           RowBox[{"-", "1"}], "]"}], "]"}], "]"}]}], "]"}], ";", "\n", 
      "    ", 
      RowBox[{"(*", " ", 
       RowBox[{"normally", " ", "loaded", " ", "packages"}], " ", "*)"}], 
      "\n", "    ", 
      RowBox[{"packages", " ", "=", " ", 
       RowBox[{"Select", "[", 
        RowBox[{"fileNames", ",", " ", 
         RowBox[{
          RowBox[{"StringFreeQ", "[", "\"\<__\>\"", "]"}], "@*", 
          "FileBaseName"}]}], "]"}]}], ";", "\n", "    ", 
      RowBox[{"SetProperty", "[", 
       RowBox[{"pkg", ",", " ", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"\"\<PackageListing\>\"", ",", " ", "listing"}], "}"}], 
         "\[Rule]", "packages"}]}], "]"}], ";", "\n", "    ", 
      RowBox[{"PackageFrameworkPackageLoad", "[", 
       RowBox[{"pkg", ",", " ", "packages"}], "]"}], ";", "\n", "    ", 
      RowBox[{"(*", " ", 
       RowBox[{
       "packages", " ", "loaded", " ", "after", " ", "all", " ", "the", " ", 
        "others", " ", "at", " ", "that", " ", "level"}], " ", "*)"}], "\n", 
      "    ", 
      RowBox[{"postload", " ", "=", " ", "\n", "      ", 
       RowBox[{"Select", "[", 
        RowBox[{"fileNames", ",", " ", "\n", "        ", 
         RowBox[{
          RowBox[{"StringMatchQ", "[", "\n", "          ", 
           RowBox[{
            RowBox[{"ToLowerCase", "@", 
             RowBox[{"FileNameTake", "[", "#", "]"}]}], ",", "\n", 
            "          ", 
            RowBox[{"\"\<__post__.\>\"", "~~", 
             RowBox[{"(", 
              RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}], ")"}]}]}], "\n", 
           "          ", "]"}], "&"}]}], "\n", "        ", "]"}]}], ";", "\n",
       "    ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "@", "postload"}], ">", "0"}], ",", " ", 
        RowBox[{"Get", "[", 
         RowBox[{"postload", "[", 
          RowBox[{"[", 
           RowBox[{"-", "1"}], "]"}], "]"}], "]"}]}], "]"}], ";"}]}], "\n", 
    "    ", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.785575217089736*^9, 3.785575217770122*^9}, 
   3.785595192870676*^9},ExpressionUUID->"291c0da7-e8cd-44b9-b01e-\
a9aa2ee4d23d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageLoad", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"dir_String", "?", "DirectoryQ"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"With", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"baseContext", " ", "=", " ", 
       RowBox[{"PackageFileContext", "[", 
        RowBox[{"pkg", ",", " ", "dir"}], "]"}]}], "}"}], ",", "\n", "    ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"AllTrue", "[", 
        RowBox[{
         RowBox[{"StringSplit", "[", 
          RowBox[{"baseContext", ",", " ", "\"\<`\>\""}], "]"}], ",", " ", 
         RowBox[{"StringMatchQ", "[", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"WordCharacter", "|", "\"\<$\>\""}], ")"}], ".."}], 
          "]"}]}], "]"}], ",", "\n", "      ", 
       RowBox[{"Internal`WithLocalSettings", "[", "\n", "        ", 
        RowBox[{
         RowBox[{"Begin", "[", "baseContext", "]"}], ",", "\n", "        ", 
         RowBox[{
          RowBox[{"PackageAddContexts", "[", 
           RowBox[{"pkg", ",", " ", "baseContext"}], "]"}], ";", "\n", 
          "        ", 
          RowBox[{"PackageFrameworkPackageLoad", "[", "\n", "          ", 
           RowBox[{
           "pkg", ",", "\n", "          ", "dir", ",", " ", "\n", 
            "          ", 
            RowBox[{"FileNameDrop", "[", 
             RowBox[{"dir", ",", " ", 
              RowBox[{"FileNameDepth", "[", 
               RowBox[{"PackageRoot", "[", 
                RowBox[{"pkg", ",", " ", "\"\<Packages\>\""}], "]"}], "]"}]}],
              "]"}]}], "\n", "          ", "]"}]}], ",", "\n", "        ", 
         RowBox[{
          RowBox[{"End", "[", "]"}], ";"}]}], "\n", "        ", "]"}]}], "\n",
       "      ", "]"}]}], "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageLoad", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", 
     RowBox[{"file_String", "?", "FileExistsQ"}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageLoadDeclare", "[", 
    RowBox[{"pkg", ",", " ", "file"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
   "PackageFrameworkPackageLoad", "[", "pkg_PackageFrameworkPackage", "]"}], ":=",
    "\n", "  ", 
   RowBox[{"PackageExecute", "[", "\n", "    ", 
    RowBox[{"pkg", ",", "\n", "    ", 
     RowBox[{
      RowBox[{"SetProperty", "[", 
       RowBox[{"pkg", ",", " ", 
        RowBox[{"\"\<PackageListing\>\"", "\[Rule]", 
         RowBox[{"<|", "|>"}]}]}], "]"}], ";", "\n", "    ", 
      RowBox[{"PackageFrameworkPackageLoad", "[", "\n", "      ", 
       RowBox[{"pkg", ",", "\n", "      ", 
        RowBox[{"PackageRoot", "[", 
         RowBox[{"pkg", ",", " ", "\"\<Packages\>\""}], "]"}], ",", "\n", 
        "      ", 
        RowBox[{"PackageName", "[", "pkg", "]"}]}], "\n", "      ", "]"}]}]}],
     "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "PackageFrameworkPackageLoad", "~", "SetAttributes", "~", "Listable"}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.7845801105885277`*^9, 3.784580110595188*^9}, {
  3.784581497495577*^9, 3.784581510255724*^9}, {3.784581543060114*^9, 
  3.78458154306647*^9}, {3.7846513660808067`*^9, 3.7846513660881033`*^9}, {
  3.784651626225047*^9, 3.78465172295479*^9}, {3.784655660613092*^9, 
  3.784655790121389*^9}, {3.785429944330565*^9, 3.7854299517400503`*^9}, {
  3.7855747981621437`*^9, 3.785574799345292*^9}, {3.78557498186341*^9, 
  3.7855750399409103`*^9}, {3.78557514684415*^9, 3.785575157074422*^9}, {
  3.7855751982288017`*^9, 3.785575226580597*^9}, {3.785575745908741*^9, 
  3.785575793440835*^9}, {3.785575909497987*^9, 3.785575915902185*^9}, {
  3.785576727124487*^9, 3.7855767294830923`*^9}, {3.785595073593343*^9, 
  3.785595106335993*^9}},ExpressionUUID->"2fc91e62-afce-49f5-8e35-\
76b19b52df25"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageGet", "Subsubsection",
 CellChangeTimes->{
  3.784655835182488*^9},ExpressionUUID->"a6b7561f-68ee-4778-8caf-\
6e62169f71ef"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Get\>\"", ",", " ", "PackageFrameworkPackageGet"}], 
  "]"}]], "Code",
 CellChangeTimes->{{3.7846558046179657`*^9, 
  3.7846558174324636`*^9}},ExpressionUUID->"70dc0def-7669-41f4-ab36-\
fbd48dd39d4e"],

Cell[BoxData[{
 RowBox[{"PackageFrameworkPackageGet", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageGet", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "f_"}], "]"}], ":=", 
   "\n", "  ", 
   RowBox[{"PackageFrameworkPackageGet", "[", 
    RowBox[{"pkg", ",", " ", 
     RowBox[{"PackageFileContext", "[", 
      RowBox[{"pkg", ",", " ", "f"}], "]"}], ",", " ", "f"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageGet", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "c_", ",", " ", "f_"}], 
    "]"}], ":=", "\n", "  ", 
   RowBox[{"PackageExecute", "[", "\n", "      ", 
    RowBox[{"pkg", ",", "\n", "      ", 
     RowBox[{"Get", "@", 
      RowBox[{"PackageFileFromName", "[", 
       RowBox[{"pkg", ",", " ", "f"}], "]"}]}], ",", "\n", "      ", "c"}], 
    "\n", "      ", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.784655802430402*^9, 3.784656007261897*^9}, {
   3.7846560425858927`*^9, 3.784656257483433*^9}, {3.7854269785051203`*^9, 
   3.785426984205266*^9}, {3.78557727055443*^9, 3.785577283339218*^9}, {
   3.785577378775943*^9, 3.785577380191155*^9}, {3.785577414051351*^9, 
   3.7855774223364973`*^9}, {3.7855775556593113`*^9, 3.785577596490129*^9}, 
   3.785577665408114*^9},ExpressionUUID->"30ab4360-523b-4f1e-9836-\
8f9eb6148284"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageFrameworkPackageNeeds", "Subsubsection",
 CellChangeTimes->{3.785426862460137*^9, 
  3.785427062581524*^9},ExpressionUUID->"10480d70-4174-474a-bc16-\
dccc6b17a578"],

Cell[BoxData[
 RowBox[{"BindPackageMethod", "[", 
  RowBox[{"\"\<Needs\>\"", ",", " ", "PackageFrameworkPackageNeeds"}], 
  "]"}]], "Code",
 CellChangeTimes->{{3.784249214864252*^9, 3.784249254222575*^9}, 
   3.785426862466783*^9, 
   3.785427062589979*^9},ExpressionUUID->"0f7897f5-884b-47a0-b445-\
fddc80eefb20"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageNeeds", "[", 
    RowBox[{"pkg_", ",", " ", 
     RowBox[{"pkgFile_String", "?", "FileExistsQ"}]}], "]"}], ":=", "\n", 
   "  ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"MemberQ", "[", 
       RowBox[{
        RowBox[{"PackageLoadedPackages", "[", "pkg", "]"}], ",", " ", 
        "pkgFile"}], "]"}]}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"KeyMemberQ", "[", 
         RowBox[{
          RowBox[{"PackageDeclaredPackages", "[", "pkg", "]"}], ",", " ", 
          "pkgFile"}], "]"}], ",", "\n", "      ", 
        RowBox[{"PackageLoadDeclare", "[", 
         RowBox[{"pkg", ",", " ", "pkgFile"}], "]"}], ",", "\n", "      ", 
        RowBox[{"Do", "[", 
         RowBox[{
          RowBox[{"PackageLoadDeclare", "[", 
           RowBox[{"pkg", ",", " ", "pkgFile"}], "]"}], ",", " ", "2"}], 
         "]"}]}], " ", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"why", " ", "twice"}], "..."}], "?"}], " ", "*)"}], "\n", 
       "      ", "]"}], ";"}]}], "\n", "    ", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.7842493397686768`*^9, 3.7842493858706617`*^9}, 
   3.785426862470119*^9, 
   3.785427062592704*^9},ExpressionUUID->"fd5938f5-4f1c-4874-8a4f-\
00ac8a08f4d1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackageNeeds", "[", 
    RowBox[{"pkg_", ",", " ", "pkgName_String"}], "]"}], ":=", "\n", "  ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pf", "=", 
       RowBox[{"PackageFilePath", "[", 
        RowBox[{"pkg", ",", " ", "\"\<Packages\>\"", ",", " ", 
         RowBox[{"pkgName", "<>", "\"\<.m\>\""}]}], "]"}]}], "}"}], ",", "\n",
      "    ", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "@", "pf"}]}], ",", " ", 
        RowBox[{"PackageFilePath", "[", 
         RowBox[{"pkg", ",", " ", "\"\<Packages\>\"", ",", " ", 
          RowBox[{"pkgName", "<>", "\"\<.wl\>\""}]}], "]"}]}], "]"}], ";", 
      "\n", "    ", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"FileExistsQ", "@", "pf"}], ",", "\n", "      ", 
        RowBox[{"PackageFrameworkPackageNeeds", "[", 
         RowBox[{"pkg", ",", " ", "pf"}], "]"}], ",", 
        RowBox[{"\.00", "\.00", "\n", "      ", "$Failed"}]}], "\n", "      ",
        "]"}]}]}], "\n", "   ", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.784249394352325*^9, 3.784249477181999*^9}, {
  3.784297553346586*^9, 3.784297553565502*^9}, {3.78542686247577*^9, 
  3.7854268624781923`*^9}, {3.78542706259604*^9, 
  3.785427062597782*^9}},ExpressionUUID->"e28c01c1-ec74-42fc-96c5-\
1fb6afb800a9"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageEnsureLoad", "Subsubsection",ExpressionUUID->"4bc09ad0-b2f6-4841-b034-45e8b8b2cab1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageEnsureLoad", "[", "pkg_", "]"}], ":=", "\n", "  ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"TrueQ", "[", 
       RowBox[{"PropertyValue", "[", 
        RowBox[{"pkg", ",", " ", "\"\<LoadingFlag\>\""}], "]"}], "]"}]}], ",",
      "\n", "    ", 
     RowBox[{
      RowBox[{"SetProperty", "[", 
       RowBox[{"pkg", ",", " ", 
        RowBox[{"\"\<LoadingFlag\>\"", "\[Rule]", "True"}]}], "]"}], ";", 
      "\n", "    ", 
      RowBox[{"PackageEnsureLoadDependencies", "[", "pkg", "]"}], ";", "\n", 
      "    ", 
      RowBox[{"PackageExposeContexts", "[", "pkg", "]"}], ";"}]}], "\n", 
    "    ", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.784249160513814*^9, 
  3.784249201815929*^9}},ExpressionUUID->"ca365739-eb7d-4d09-8a35-\
096aa7b29dff"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageCompleteLoadProcess", "Subsubsection",
 CellChangeTimes->{
  3.785572519297481*^9},ExpressionUUID->"aacf88cb-673e-4ac5-adff-\
de30ebe3722f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageCompleteLoadProcess", "::", "docs"}], "=", 
   "\"\<\nExists in this version of the PackageFramework simply to indicate \
that the full version will \\\ndo more with this. At this point doesn't \
really do much.\n\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageCompleteLoadProcess", "[", "pkg_", "]"}], ":=", "\n", "  ",
    "pkg"}], ";"}]}], "Code",
 CellChangeTimes->{{3.78557252103708*^9, 3.785572523991081*^9}, {
  3.785572949786923*^9, 
  3.785573005121443*^9}},ExpressionUUID->"b1fad8b2-350b-4d7d-9cdd-\
7c0db02d7e0a"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Dependencies", "Subsection",
 CellChangeTimes->{{3.785432424321649*^9, 
  3.785432426690339*^9}},ExpressionUUID->"f9f84b06-4691-488a-b939-\
f70d95371cb5"],

Cell[CellGroupData[{

Cell["PackageDependencies", "Subsubsection",
 CellChangeTimes->{
  3.785577918933276*^9},ExpressionUUID->"ac03b8b2-12ae-4dbf-a54c-\
531a6ec32ae9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageDependencies", "[", "pkg_PackageFrameworkPackage", "]"}], ":=",
   "\n", "  ", 
  RowBox[{"pkg", "[", 
   RowBox[{"\"\<LoadInfo\>\"", ",", " ", "\"\<Dependencies\>\""}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.785577920220949*^9, 
  3.785577947024438*^9}},ExpressionUUID->"64ad562d-293d-409f-9e17-\
9c57322503f2"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageDependencyBase", "Subsubsection",
 CellChangeTimes->{
  3.785577999092144*^9},ExpressionUUID->"9e12d7e0-efc1-4a21-8e12-\
a86b9f75b746"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageDependencyBase", "[", "pkg_PackageFrameworkPackage", "]"}], 
  ":=", "\n", "  ", 
  RowBox[{"Replace", "[", "\n", "    ", 
   RowBox[{
    RowBox[{"pkg", "[", 
     RowBox[{"\"\<LoadInfo\>\"", ",", " ", "\"\<DependencyServer\>\""}], 
     "]"}], ",", "\n", "    ", 
    RowBox[{"_Missing", "\[Rule]", "Automatic"}]}], "\n", "    ", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.7855780073057756`*^9, 
  3.785578031415922*^9}},ExpressionUUID->"49a054da-6d7f-42fc-acee-\
3a289b8d284f"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageCheckPacletDependency", "Subsubsection",ExpressionUUID->"57de74da-5f5e-4cee-a1ec-042c166a41af"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageCheckPacletDependency", "[", "dep_", "]"}], ":=", "\n", 
  "  ", 
  RowBox[{
   RowBox[{"Length", "@", 
    RowBox[{"PacletManager`PacletFind", "[", 
     RowBox[{"StringDelete", "[", 
      RowBox[{"dep", ",", " ", "\"\<`\>\""}], "]"}], "]"}]}], ">", 
   "0"}]}]], "Code",
 CellChangeTimes->{{3.7854326711936483`*^9, 3.785432672041437*^9}, 
   3.785433264842643*^9},ExpressionUUID->"d6e808ae-f861-4c7a-9135-\
72d027adc03a"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageInstallPacletDependency", "Subsubsection",ExpressionUUID->"ce398156-83c3-409b-a4f9-9dd2ea8b95a6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "::", "nodep"}], "=", 
   "\"\<Couldn't load dependency `` of type ``\>\""}], ";"}]], "Code",
 CellChangeTimes->{{3.785432734760435*^9, 3.785432755404413*^9}, 
   3.785432947089381*^9},ExpressionUUID->"a23513f6-fcb4-48fc-9ff3-\
291529880a79"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "$PacletRepositoryServer", "=", 
   "\"\<http://raw.githubusercontent.com/paclets/PacletServer/master\>\""}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.78543280932201*^9, 
  3.7854328163522673`*^9}},ExpressionUUID->"ebb28f54-95c7-4e8c-a402-\
215f2346a2ac"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PackageInstallPacletDependency", "]"}], "=", "\n",
    "  ", 
   RowBox[{"Options", "[", "PacletManager`PacletInstall", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageInstallPacletDependency", "[", "\n", "  ", 
   RowBox[{
    RowBox[{"deps", ":", 
     RowBox[{"{", "\n", "    ", 
      RowBox[{"__String", "?", 
       RowBox[{"(", "\n", "      ", 
        RowBox[{"StringMatchQ", "[", "\n", "        ", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"LetterCharacter", "|", "\"\<_\>\"", "|", "\"\<`\>\""}], 
           ")"}], "~~", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"WordCharacter", "|", "\"\<_\>\"", "|", "\"\<`\>\""}], 
            ")"}], ".."}]}], "\n", "  ", "      ", "]"}], "\n", "    ", 
        ")"}]}], "}"}]}], ",", " ", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n", 
  "  ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"site", ",", " ", "pacs", ",", " ", "pac"}], "}"}], ",", "\n", 
    "    ", 
    RowBox[{
     RowBox[{"pacs", "=", "\n", "      ", 
      RowBox[{"StringDelete", "[", 
       RowBox[{"deps", ",", " ", "\"\<`\>\""}], "]"}]}], ";", "\n", "    ", 
     RowBox[{"site", "=", "\n", "      ", 
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<Site\>\"", "]"}], ",", "\n", 
        "        ", 
        RowBox[{"{", "\n", "          ", 
         RowBox[{
          RowBox[{
           RowBox[{"s_String", "?", 
            RowBox[{"(", "\n", "            ", 
             RowBox[{
              RowBox[{
               RowBox[{"URLParse", "[", 
                RowBox[{"#", ",", " ", "\"\<Domain\>\""}], "]"}], "===", 
               "\"\<github.com\>\""}], "&"}], "\n", "            ", ")"}]}], ":>",
            "\n", "          ", 
           RowBox[{"URLBuild", "@", "\n", "            ", 
            RowBox[{"<|", "\n", "              ", 
             RowBox[{
              RowBox[{"\"\<Scheme\>\"", "->", "\"\<http\>\""}], ",", "\n", 
              "              ", 
              RowBox[{
              "\"\<Domain\>\"", "->", "\"\<raw.githubusercontent.com\>\""}], 
              ",", "\n", "              ", 
              RowBox[{"\"\<Path\>\"", "->", "\n", "                ", 
               RowBox[{
                RowBox[{"Function", "[", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Length", "[", "#", "]"}], "==", "2"}], ",", " ", 
                   
                   RowBox[{"Append", "[", 
                    RowBox[{"#", ",", " ", "\"\<master\>\""}], "]"}], ",", 
                   " ", "#"}], "]"}], "]"}], "@", "\n", "                  ", 
                
                RowBox[{
                 RowBox[{"DeleteCases", "[", "\"\<\>\"", "]"}], "@", 
                 RowBox[{"URLParse", "[", 
                  RowBox[{"s", ",", " ", "\"\<Path\>\""}], "]"}]}]}]}]}], 
             "\n", "              ", "|>"}]}]}], ",", "\n", "          ", 
          RowBox[{"None", "->", "\n", "            ", "Automatic"}], ",", 
          "\n", "          ", 
          RowBox[{
           RowBox[{"Except", "[", "_String", "]"}], "->", "\n", 
           "            ", "$PacletRepositoryServer"}]}], "\n", "          ", 
         "}"}]}], "\n", "        ", "]"}]}], ";", "\n", "    ", 
     RowBox[{"pac", "=", 
      RowBox[{"First", "@", "pacs"}]}], ";", "\n", "    ", 
     RowBox[{"Monitor", "[", "\n", "      ", 
      RowBox[{
       RowBox[{"MapThread", "[", "\n", "        ", 
        RowBox[{
         RowBox[{
          RowBox[{"Check", "[", "\n", "          ", 
           RowBox[{
            RowBox[{
            "PacletManager`PacletInstall", "[", "\n", "            ", 
             RowBox[{
              RowBox[{"pac", "=", "#"}], ",", "\n", "            ", 
              RowBox[{"\"\<Site\>\"", "->", "site"}], ",", "\n", 
              "            ", "ops"}], "\n", "            ", "]"}], ",", "\n",
             "          ", 
            RowBox[{
             RowBox[{"Message", "[", 
              RowBox[{
               RowBox[{"PackageFrameworkPackage", "::", "nodep"}], ",", " ", 
               "#2", ",", " ", "\"\<Paclet\>\""}], "]"}], ";", "\n", 
             "          ", "$Failed"}]}], "\n", "          ", "]"}], "&"}], 
         ",", "\n", "        ", 
         RowBox[{"{", "\n", "          ", 
          RowBox[{"pacs", ",", "\n", "          ", "deps"}], "\n", 
          "          ", "}"}]}], "\n", "        ", "]"}], ",", "\n", "      ", 
       RowBox[{"Internal`LoadingPanel", "[", "\n", "        ", 
        RowBox[{"TemplateApply", "[", "\n", "          ", 
         RowBox[{
         "\"\<Loading paclet `` from site ``\>\"", ",", "\n", "          ", 
          RowBox[{"{", 
           RowBox[{"pac", ",", " ", "site"}], "}"}]}], "\n", "          ", 
         "]"}], "\n", "        ", "]"}]}], "\n", "      ", "]"}]}]}], "\n", 
   "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.785432726660515*^9, 3.785432729633581*^9}, {
   3.785432783171876*^9, 3.785432806651043*^9}, {3.78543301833706*^9, 
   3.785433021143984*^9}, 
   3.7854332491251583`*^9},ExpressionUUID->"fe27f241-ec42-4ff6-85c7-\
6e1ad2c4e7f5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageInstallPacletDependency", "[", "\n", "  ", 
   RowBox[{
    RowBox[{"dep", ":", 
     RowBox[{"_String", "?", 
      RowBox[{"(", "\n", "    ", 
       RowBox[{"StringMatchQ", "[", "\n", "      ", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"LetterCharacter", "|", "\"\<_\>\"", "|", "\"\<`\>\""}], 
          ")"}], "~~", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"WordCharacter", "|", "\"\<_\>\"", "|", "\"\<`\>\""}], 
           ")"}], ".."}]}], "\n", "      ", "]"}], "\n", "    ", ")"}]}]}], 
    ",", " ", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", 
  RowBox[{"First", "@", 
   RowBox[{"PackageInstallPacletDependency", "[", 
    RowBox[{
     RowBox[{"{", "dep", "}"}], ",", " ", "ops"}], "]"}]}]}]], "Code",
 CellChangeTimes->{{3.785432775146422*^9, 3.785432778545082*^9}, 
   3.78543324408426*^9},ExpressionUUID->"4dcb3bc1-161e-468d-b5b6-\
a043e67fcfce"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageUpdatePacletDependency", "Subsubsection",
 CellChangeTimes->{
  3.785432962875559*^9},ExpressionUUID->"1577ca0b-eafe-4d1a-8929-\
8ed73ea28a7a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PackageFrameworkPackage", "::", "nodup"}], "=", 
   "\"\<Couldn't update dependency `` of type ``\>\""}], ";"}]], "Code",
 CellChangeTimes->{
  3.785432961357203*^9},ExpressionUUID->"ff85ebfe-7893-4dfa-a237-\
d29df19774b1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PackageUpdatePacletDependency", "]"}], "=", "\n", 
   "  ", 
   RowBox[{"{", "\n", "    ", 
    RowBox[{"\"\<Sites\>\"", "->", "Automatic"}], "\n", "    ", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageUpdatePacletDependency", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"deps", ":", 
      RowBox[{"{", 
       RowBox[{"__String", "?", 
        RowBox[{"(", 
         RowBox[{"StringMatchQ", "[", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"LetterCharacter", "|", "\"\<_\>\""}], ")"}], "~~", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"WordCharacter", "|", "\"\<_\>\""}], ")"}], ".."}]}], 
          "]"}], ")"}]}], "}"}]}], ",", " ", "\n", "  ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n",
    "  ", 
   RowBox[{"Block", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
       RowBox[{"added", "=", 
        RowBox[{"<|", "|>"}]}], ",", "\n", "      ", 
       RowBox[{"ps", "=", 
        RowBox[{"PacletManager`PacletSites", "[", "]"}]}], ",", "\n", 
       "      ", "pac"}], "\n", "      ", "}"}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"Replace", "[", "\n", "      ", 
       RowBox[{
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<Sites\>\"", "]"}], ",", " ", 
          RowBox[{"Automatic", "\[RuleDelayed]", 
           RowBox[{"{", "$PacletRepositoryServer", "}"}]}]}], "]"}], ",", 
        "\n", "      ", 
        RowBox[{"{", "\n", "        ", 
         RowBox[{
          RowBox[{"s_String", ":>", "\n", "          ", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"MemberQ", "[", 
               RowBox[{"ps", ",", " ", 
                RowBox[{"PacletManager`PacletSite", "[", 
                 RowBox[{"s", ",", " ", "___"}], "]"}]}], "]"}]}], ",", "\n", 
             "            ", 
             RowBox[{
              RowBox[{"added", "[", "s", "]"}], "=", "True"}]}], "\n", 
            "            ", "]"}]}], ",", "\n", "        ", 
          RowBox[{
           RowBox[{"p", ":", 
            RowBox[{"PacletManager`PacletSite", "[", "__", "]"}]}], ":>", 
           "\n", "          ", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"MemberQ", "[", 
               RowBox[{"ps", ",", " ", "p"}], "]"}]}], ",", "\n", 
             "            ", 
             RowBox[{
              RowBox[{"added", "[", "p", "]"}], "=", "True"}]}], "\n", 
            "            ", "]"}]}]}], "\n", "        ", "}"}], ",", "\n", 
        "      ", "1"}], "\n", "      ", "]"}], ";", "\n", "    ", 
      RowBox[{"pac", "=", 
       RowBox[{"StringDelete", "[", 
        RowBox[{
         RowBox[{"deps", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", " ", "\"\<`\>\""}], "]"}]}], 
      ";", "\n", "    ", 
      RowBox[{"Internal`WithLocalSettings", "[", "\n", "      ", 
       RowBox[{
        RowBox[{"KeyMap", "[", 
         RowBox[{"PacletManager`PacletSiteAdd", ",", " ", "added"}], "]"}], 
        ",", "\n", "      ", 
        RowBox[{"Monitor", "[", "\n", "        ", 
         RowBox[{
          RowBox[{"MapThread", "[", "\n", "          ", 
           RowBox[{
            RowBox[{
             RowBox[{"Check", "[", "\n", "            ", 
              RowBox[{
               RowBox[{"PacletManager`PacletCheckUpdate", "[", 
                RowBox[{"pac", "=", "#"}], "]"}], ",", "\n", "            ", 
               RowBox[{
                RowBox[{"Message", "[", 
                 RowBox[{
                  RowBox[{"PackageFrameworkPackage", "::", "nodup"}], ",", 
                  " ", "#2", ",", " ", "\"\<Paclet\>\""}], "]"}], ";", "\n", 
                "            ", "$Failed"}]}], "\n", "            ", "]"}], 
             "&"}], ",", "\n", "          ", 
            RowBox[{"{", "\n", "            ", 
             RowBox[{
              RowBox[{"StringDelete", "[", 
               RowBox[{"deps", ",", " ", "\"\<`\>\""}], "]"}], ",", "\n", 
              "            ", "deps"}], "\n", "            ", "}"}]}], "\n", 
           "          ", "]"}], ",", "\n", "        ", 
          RowBox[{"Internal`LoadingPanel", "[", "\n", "          ", 
           RowBox[{
           "\"\<Updating paclet ``\>\"", "~", "TemplateApply", "~", "pac"}], 
           "\n", "          ", "]"}]}], "\n", "        ", "]"}], ",", "\n", 
        "      ", 
        RowBox[{"KeyMap", "[", 
         RowBox[{"PacletManager`PacletSiteRemove", ",", " ", "added"}], 
         "]"}]}], "\n", "      ", "]"}]}]}], "\n", "    ", "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.7854329692581387`*^9, 3.785432972782723*^9}, {
  3.785433202662058*^9, 
  3.7854332313086853`*^9}},ExpressionUUID->"56b929db-1259-487b-a6fd-\
f86f56acd181"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageUpdatePacletDependency", "[", "\n", "  ", 
   RowBox[{
    RowBox[{"dep", ":", 
     RowBox[{"_String", "?", 
      RowBox[{"(", 
       RowBox[{"StringMatchQ", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"LetterCharacter", "|", "\"\<_\>\""}], ")"}], "~~", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"WordCharacter", "|", "\"\<_\>\""}], ")"}], ".."}]}], 
        "]"}], ")"}]}]}], ",", " ", "\n", "  ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "  ", "]"}], ":=", "\n", 
  "  ", 
  RowBox[{"First", "@", 
   RowBox[{"PackageUpdatePacletDependency", "[", 
    RowBox[{
     RowBox[{"{", "dep", "}"}], ",", " ", "ops"}], "]"}]}]}]], "Code",Expressi\
onUUID->"c4ca83b4-9ac4-4a02-a2c8-cf2086df055a"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageLoadPacletDependency", "Subsubsection",ExpressionUUID->"63239067-6c72-45f1-a875-512c9d212264"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PackageLoadPacletDependency", "]"}], "=", "\n", 
   "  ", 
   RowBox[{"Join", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"Options", "[", "PackageInstallPacletDependency", "]"}], ",", 
     "\n", "    ", 
     RowBox[{"{", "\n", "      ", 
      RowBox[{"\"\<Update\>\"", "->", "False"}], "\n", "      ", "}"}]}], 
    "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageLoadPacletDependency", "[", 
   RowBox[{"pkg_", ",", " ", 
    RowBox[{"dep_String", "?", 
     RowBox[{"(", 
      RowBox[{"StringEndsQ", "[", "\"\<`\>\"", "]"}], ")"}]}], ",", " ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "  ", 
  RowBox[{"Internal`WithLocalSettings", "[", "\n", "    ", 
   RowBox[{
    RowBox[{
     RowBox[{"System`Private`NewContextPath", "[", 
      RowBox[{"{", 
       RowBox[{"dep", ",", " ", "\"\<System`\>\""}], "}"}], "]"}], ";"}], ",",
     "\n", "    ", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"PackageCheckPacletDependency", "[", 
        RowBox[{"pkg", ",", " ", "dep"}], "]"}], ",", "\n", "      ", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"TrueQ", "@", 
          RowBox[{"OptionValue", "[", "\"\<Update\>\"", "]"}]}], ",", "\n", 
         "        ", 
         RowBox[{"PackageUpdatePacletDependency", "[", "\n", "          ", 
          RowBox[{
          "pkg", ",", "\n", "          ", "dep", ",", "\n", "          ", 
           RowBox[{"\"\<Sites\>\"", "->", 
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"OptionValue", "[", "\"\<Site\>\"", "]"}], ",", " ", 
              RowBox[{"s_String", ":>", 
               RowBox[{"{", "s", "}"}]}]}], "]"}]}]}], "\n", "          ", 
          "]"}]}], "\n", "        ", "]"}], ",", "\n", "      ", 
       RowBox[{"PackageInstallPacletDependency", "[", "\n", "        ", 
        RowBox[{
        "pkg", ",", "\n", "        ", "dep", ",", " ", "\n", "        ", 
         RowBox[{"FilterRules", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", " ", 
           RowBox[{"Options", "@", "PackageInstallPacletDependency"}]}], 
          "]"}]}], "\n", "        ", "]"}]}], "\n", "      ", "]"}], ";", 
     "\n", "    ", 
     RowBox[{"Needs", "[", "dep", "]"}], ";", "\n", "    ", 
     RowBox[{"PackageExtendContextPath", "[", "\n", "      ", 
      RowBox[{"pkg", ",", "\n", "      ", 
       RowBox[{"Select", "[", 
        RowBox[{"$Packages", ",", " ", "\n", "        ", 
         RowBox[{
          RowBox[{
           RowBox[{"StringStartsQ", "[", 
            RowBox[{"#", ",", " ", "dep"}], "]"}], "&&", 
           RowBox[{"StringFreeQ", "[", 
            RowBox[{"#", ",", " ", "\"\<`*Private`\>\""}], "]"}]}], "&"}]}], 
        "\n", "        ", "]"}]}], "\n", "      ", "]"}], ";"}], ",", "\n", 
    "    ", 
    RowBox[{
     RowBox[{"System`Private`RestoreContextPath", "[", "]"}], ";"}]}], "\n", 
   "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.7854328439532013`*^9, 
  3.785432880015465*^9}},ExpressionUUID->"c5490027-7573-4b31-8ca0-\
64d3e1c821f0"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageEnsureLoadDependency", "Subsubsection",ExpressionUUID->"a9690c1e-54df-4e08-ac1d-9e3476202515"],

Cell[BoxData[
 RowBox[{
  RowBox[{"dependencyPackageMainPackageRoot", "[", "pkg_", "]"}], ":=", "\n", 
  "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "pfp", "}"}], ",", "\n", "    ", 
    RowBox[{
     RowBox[{"pfp", " ", "=", " ", "\n", "      ", 
      RowBox[{"SplitBy", "[", "\n", "        ", 
       RowBox[{
        RowBox[{"FileNameSplit", "[", 
         RowBox[{"PackageRoot", "[", "pkg", "]"}], "]"}], ",", "\n", 
        "        ", 
        RowBox[{
         RowBox[{"#", "===", "\"\<Dependencies\>\""}], "&"}]}], "\n", 
       "        ", "]"}]}], ";", "\n", "    ", 
     RowBox[{
      RowBox[{"Reap", "[", "\n", "      ", 
       RowBox[{"Fold", "[", "\n", "        ", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"#2", "===", "\"\<Dependencies\>\""}], ",", " ", "\n", 
             "          ", "Sow", ",", "\n", "          ", "Identity"}], "\n",
             "          ", "]"}], "@", "\n", "          ", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"Flatten", "@", 
             RowBox[{"{", 
              RowBox[{"#", ",", " ", "#2"}], "}"}]}]}]}], "&"}], ",", "\n", 
         "        ", "pfp"}], "\n", "        ", "]"}], "\n", "      ", "]"}], 
      "[", 
      RowBox[{"[", "2", "]"}], "]"}]}]}], "\n", "    ", "]"}]}]], "Code",
 CellChangeTimes->{{3.785434483603702*^9, 
  3.785434526312984*^9}},ExpressionUUID->"761e1d2b-578b-4103-9f6f-\
ba536d9e2280"],

Cell[BoxData[{
 RowBox[{"PackageEnsureLoadDependency", "//", "Clear"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PackageEnsureLoadDependency", "]"}], "=", "\n", 
   "  ", 
   RowBox[{"Join", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"Options", "@", "PackageLoadPacletDependency"}], ",", "\n", 
     "    ", 
     RowBox[{"{", "\n", "      ", 
      RowBox[{"\"\<Bundled\>\"", "->", "True"}], "\n", "      ", "}"}]}], 
    "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PackageEnsureLoadDependency", "[", 
    RowBox[{"pkg_PackageFrameworkPackage", ",", " ", "dep_", ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "  ", 
   RowBox[{"Module", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
      "depsDir", ",", "\n", "      ", "pfp", ",", "\n", "      ", "foundFile",
        ",", "\n", "      ", 
       RowBox[{"bund", "=", 
        RowBox[{"TrueQ", "@", 
         RowBox[{"Quiet", "@", 
          RowBox[{"OptionValue", "[", 
           RowBox[{
           "PackageEnsureLoadDependency", ",", " ", "ops", ",", " ", 
            "\"\<Bundled\>\""}], "]"}]}]}]}]}], "\n", "      ", "}"}], ",", 
     "\n", "     ", 
     RowBox[{
      RowBox[{"depsDir", "=", "\n", "       ", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"PackageLoadingMode", "[", "pkg", "]"}], "===", 
          "\"\<Dependency\>\""}], ",", "\n", "         ", 
         RowBox[{"DeleteDuplicates", "@", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "\n", "          ", 
            RowBox[{
             RowBox[{"ParentDirectory", "@", 
              RowBox[{"PackageRoot", "[", "pkg", "]"}]}], ",", "\n", 
             "          ", 
             RowBox[{"PackageRoot", "[", 
              RowBox[{"pkg", ",", " ", "\"\<Dependencies\>\""}], "]"}], ",", 
             "\n", "          ", 
             RowBox[{"dependencyPackageMainPackageRoot", "[", "pkg", "]"}]}], 
            "\n", "         ", "}"}]}]}], ",", "\n", "        ", 
         RowBox[{"{", 
          RowBox[{"PackageRoot", "[", 
           RowBox[{"pkg", ",", " ", "\"\<Dependencies\>\""}], "]"}], "}"}]}], 
        "\n", "        ", "]"}]}], ";", "\n", "     ", 
      RowBox[{"If", "[", 
       RowBox[{"bund", ",", "\n", "       ", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"AnyTrue", "[", 
            RowBox[{"depsDir", ",", " ", "DirectoryQ"}], "]"}], ",", "\n", 
           "         ", 
           RowBox[{
            RowBox[{"foundFile", "=", "\n", "           ", 
             RowBox[{"Block", "[", "\n", "             ", 
              RowBox[{
               RowBox[{"{", "\n", "               ", 
                RowBox[{
                 RowBox[{"$Path", "=", "depsDir"}], ",", "\n", 
                 "               ", "PacletManager`PacletManagerEnabled"}], 
                "\n", "               ", "}"}], ",", "\n", "             ", 
               RowBox[{"FindFile", "[", "dep", "]"}]}], "\n", "             ",
               "]"}]}], ";"}]}], "\n", "         ", "]"}], ";", "\n", 
         "       ", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"!", 
            RowBox[{"StringQ", "@", "foundFile"}]}], ",", " ", "\n", 
           "         ", 
           RowBox[{"foundFile", "=", 
            RowBox[{"FindFile", "[", "dep", "]"}]}]}], "\n", "         ", 
          "]"}], ";", "\n", "       ", 
         RowBox[{"bund", "=", 
          RowBox[{"StringQ", "@", "foundFile"}]}]}]}], "\n", "       ", "]"}],
       ";", "\n", "     ", 
      RowBox[{"Quiet", "[", 
       RowBox[{"(*", " ", 
        RowBox[{
        "this", " ", "is", " ", "a", " ", "temporary", " ", "hack", " ", 
         "until", " ", "WRI", " ", "fixes", " ", "a", " ", "$ContextPath", 
         " ", "bug"}], " ", "*)"}], "\n", "       ", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", "bund"}], ",", "\n", "         ", 
          RowBox[{"PackageLoadPacletDependency", "[", "\n", "           ", 
           RowBox[{"dep", ",", "\n", "           ", 
            RowBox[{"Sequence", "@@", "\n", "             ", 
             RowBox[{"FilterRules", "[", "\n", "               ", 
              RowBox[{
               RowBox[{"{", "\n", "                 ", 
                RowBox[{"ops", ",", "\n", "  ", "               ", 
                 RowBox[{"\"\<Update\>\"", "->", "True"}], ",", "\n", "  ", 
                 "               ", 
                 RowBox[{"\"\<Loading\>\"", "->", "Get"}]}], "\n", "  ", 
                "               ", "}"}], ",", "\n", "  ", "             ", 
               RowBox[{"Options", "@", "PackageLoadPacletDependency"}]}], 
              "\n", "  ", "             ", "]"}]}]}], "\n", "           ", 
           "]"}], ",", "\n", "         ", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{
             RowBox[{"Flatten", "@", 
              RowBox[{"{", "ops", "}"}]}], ",", " ", "\"\<Loading\>\"", ",", 
             " ", "Get"}], "]"}], "@", "foundFile"}]}], "\n", "         ", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
             "I", " ", "have", " ", "my", " ", "reasons", " ", "to", " ", 
              "do", " ", "this", " ", "rather", " ", "than", " ", "Needs"}], 
             "..."}], " ", "but", " ", "it", " ", "could", " ", "change"}], 
           "..."}], " ", "*)"}], "\n", "         ", "]"}], ",", "\n", 
        "      ", 
        RowBox[{"General", "::", "shdw"}]}], "\n", "      ", "]"}], ";"}]}], 
    "\n", "    ", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.785434392324595*^9, 3.785434415300626*^9}, {
  3.7854344520216103`*^9, 3.785434480301299*^9}, {3.785434530797922*^9, 
  3.7854345821077757`*^9}, {3.7855778322542257`*^9, 
  3.785577867353603*^9}},ExpressionUUID->"700dd5cb-43ab-4ec1-8f96-\
84f7e7a0d65b"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageEnsureLoadDependencies", "Subsubsection",ExpressionUUID->"27f8a18e-b860-4ab3-af32-5707708ab6ae"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
   "PackageEnsureLoadDependencies", "[", "pkg_PackageFrameworkPackage", "]"}],
    ":=", "\n", "  ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"TrueQ", "@", 
       RowBox[{"PropertyValue", "[", 
        RowBox[{"pkg", ",", " ", "\"\<DependenciesLoadedFlag\>\""}], 
        "]"}]}]}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"SetProperty", "[", 
       RowBox[{"pkg", ",", " ", 
        RowBox[{"\"\<DependenciesLoadedFlag\>\"", "\[Rule]", "True"}]}], 
       "]"}], ";", "\n", "    ", 
      RowBox[{"Module", "[", "\n", "      ", 
       RowBox[{
        RowBox[{"{", "\n", "        ", 
         RowBox[{
          RowBox[{"deps", "=", 
           RowBox[{"PackageDependencies", "[", "pkg", "]"}]}], ",", "\n", 
          "        ", 
          RowBox[{"site", "=", 
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"PackageDependencyBase", "[", "pkg", "]"}], ",", " ", 
             RowBox[{"Automatic", "\[Rule]", "$PacletRepositoryServer"}]}], 
            "]"}]}], ",", "\n", "        ", "ctx"}], "\n", "        ", "}"}], 
        ",", "\n", "       ", 
        RowBox[{"PackageExecute", "[", "\n", "         ", 
         RowBox[{"pkg", ",", "\n", "         ", 
          RowBox[{"Internal`WithLocalSettings", "[", "\n", "           ", 
           RowBox[{
            RowBox[{
             RowBox[{"ctx", " ", "=", " ", "$Context"}], ";", "\n", 
             "           ", 
             RowBox[{"Begin", "[", "\"\<`Dependencies`\>\"", "]"}]}], ",", 
            "\n", "           ", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{
               "PackageEnsureLoadDependency", "[", "\n", "             ", 
                RowBox[{"pkg", ",", "\n", "             ", 
                 RowBox[{"Sequence", "@@", 
                  RowBox[{"Flatten", "@", 
                   RowBox[{"{", 
                    RowBox[{"#", ",", " ", 
                    RowBox[{"\"\<Site\>\"", "->", "site"}]}], "}"}]}]}]}], 
                "\n", "             ", "]"}], "&"}], "/@", "deps"}], ";", 
             "\n", "           ", 
             RowBox[{"PackageExposeDependencies", "[", "pkg", "]"}]}], ",", 
            "\n", "           ", 
            RowBox[{
             RowBox[{"End", "[", "]"}], ";", " ", "\n", "           ", 
             RowBox[{"(*", " ", 
              RowBox[{
              "just", " ", "in", " ", "case", " ", "some", " ", "abort", " ", 
               "happened", " ", "in", " ", "a", " ", "dependency", " ", 
               "load"}], " ", "*)"}], "\n", "           ", 
             RowBox[{"$Context", " ", "=", " ", "ctx"}], ";"}]}], "\n", 
           "           ", "]"}]}], "\n", "         ", "]"}]}], "\n", "      ",
        "]"}], ";"}]}], "\n", "   ", "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.785433296930501*^9, 3.78543345375869*^9}, {
  3.78543460726372*^9, 3.7854346083582497`*^9}, {3.785438183685391*^9, 
  3.785438184867627*^9}, {3.785577877459066*^9, 3.785577881154891*^9}, {
  3.785578036811421*^9, 
  3.785578046840414*^9}},ExpressionUUID->"3bf75e18-ecb1-49d5-b489-\
b4c7fac5f85e"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageDependencyContexts", "Subsubsection",
 CellChangeTimes->{{3.785433630027293*^9, 
  3.7854336362199697`*^9}},ExpressionUUID->"0a3fd893-826f-4d73-abd6-\
0c6574b79172"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageDependencyContexts", "[", "pkg_", "]"}], ":=", "\n", "  ", 
  RowBox[{"Replace", "[", 
   RowBox[{
    RowBox[{"pkg", "[", 
     RowBox[{"\"\<LoadInfo\>\"", ",", " ", "\"\<DependencyContexts\>\""}], 
     "]"}], ",", " ", 
    RowBox[{"_Missing", "->", 
     RowBox[{"{", "}"}]}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.785433638547388*^9, 
  3.78543365787533*^9}},ExpressionUUID->"e8dea55c-3340-49bd-8c2d-\
e99d60e191d9"]
}, Closed]],

Cell[CellGroupData[{

Cell["PackageExposeDependencies", "Subsubsection",ExpressionUUID->"9279977f-b43e-4f7f-9557-6042d13e5287"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PackageExposeDependencies", "[", 
    RowBox[{"pkg_", ",", " ", "deps_", ",", " ", 
     RowBox[{"permanent", ":", 
      RowBox[{"True", "|", "False"}], ":", "False"}]}], "]"}], ":=", "\n", 
   "  ", 
   RowBox[{"Module", "[", "\n", "    ", 
    RowBox[{
     RowBox[{"{", "\n", "      ", 
      RowBox[{
      "cdeps", ",", "\n", "      ", "loadQ", ",", "\n", "      ", "depCs"}], 
      "\n", "      ", "}"}], ",", "\n", "    ", 
     RowBox[{
      RowBox[{"depCs", "=", "\n", "      ", 
       RowBox[{"{", "\n", "        ", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"PackageLoadingMode", "[", "pkg", "]"}], "===", 
            "\"\<Dependency\>\""}], ",", "\n", "          ", 
           RowBox[{
            RowBox[{
             RowBox[{"StringSplit", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"PackageContexts", "[", "pkg", "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
               "\"\<Dependencies`\>\"", ",", " ", "2"}], "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], "<>", "\n", "            ", 
            "\"\<Dependencies`\>\""}], ",", "\n", "          ", "Nothing"}], 
          "\n", "          ", "]"}], ",", "\n", "        ", 
         RowBox[{
          RowBox[{
           RowBox[{"PackageContexts", "[", "pkg", "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<Dependencies`\>\""}]}], 
        "\n", "        ", "}"}]}], ";", "\n", "    ", 
      RowBox[{"cdeps", "=", "\n", "      ", 
       RowBox[{
        RowBox[{
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ctx", "=", "#"}], "}"}], ",", "\n", "        ", 
           RowBox[{
            RowBox[{"SelectFirst", "[", "\n", "          ", 
             RowBox[{"depCs", ",", "\n", "          ", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "@", 
                 RowBox[{"Join", "[", 
                  RowBox[{
                   RowBox[{"Names", "[", 
                    RowBox[{"#", "<>", "ctx", "<>", "\"\<*\>\""}], "]"}], ",",
                    " ", 
                   RowBox[{"Names", "[", 
                    RowBox[{"#", "<>", "ctx", "<>", "\"\<*`*\>\""}], "]"}]}], 
                  "]"}]}], ">", "0"}], "&"}], ",", "\n", "          ", 
              "\"\<\>\""}], "\n", "          ", "]"}], "<>", "#"}]}], "\n", 
          "        ", "]"}], "&"}], "/@", "deps"}]}], ";", "\n", "    ", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
         RowBox[{
         "only", " ", "gonna", " ", "be", " ", "used", " ", "within", " ", 
          "PackageExecute"}], "..."}], "?"}], " ", "*)"}], "\n", "    ", 
      RowBox[{"$ContextPath", "=", "\n", "      ", 
       RowBox[{"DeleteDuplicates", "@", "\n", "        ", 
        RowBox[{"Join", "[", 
         RowBox[{"cdeps", ",", " ", "$ContextPath"}], "]"}]}]}], ";", "\n", 
      "    ", 
      RowBox[{"If", "[", 
       RowBox[{"permanent", ",", "\n", "      ", 
        RowBox[{"PackageExtendContextPath", "[", 
         RowBox[{"pkg", ",", " ", "cdeps"}], "]"}]}], "\n", "      ", "]"}], 
      ";", "\n", "    ", "cdeps"}]}], "\n", "    ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PackageExposeDependencies", "[", "pkg_", "]"}], ":=", " ", "\n", 
  "  ", 
  RowBox[{"PackageExposeDependencies", "[", "\n", "    ", 
   RowBox[{"pkg", ",", "\n", "    ", 
    RowBox[{"PackageDependencyContexts", "[", "pkg", "]"}], ",", "\n", "    ",
     "True"}], "\n", "    ", "]"}]}]}], "Code",
 CellChangeTimes->{{3.7854334754714212`*^9, 3.785433544574541*^9}, {
  3.7854335838995123`*^9, 
  3.785433621268187*^9}},ExpressionUUID->"3db288d6-a26b-47d7-b9a7-\
00c933cd9874"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Package Helpers", "Subsection",
 CellChangeTimes->{{3.785594019894664*^9, 
  3.7855940274623127`*^9}},ExpressionUUID->"bf5aeddd-0c95-4fa9-8eec-\
72a79fdbe620"],

Cell[CellGroupData[{

Cell["PackageConfigurePackageHelpers", "Subsubsection",
 CellChangeTimes->{
  3.785594483025785*^9},ExpressionUUID->"65ab29ca-3dc8-4e7e-b692-\
7d389c6f3b27"],

Cell["\<\
Originally these were the constants that every package set in its load script
Now that we're moving to a single loader _package_ these will all be \
references to a $CurrentPackage object
that will be bound by PackageFramework`LoadPackage[...], which will be the \
main entry point into loading
packages these days\
\>", "Text",ExpressionUUID->"28a4d5e9-a2af-4cf4-a587-7fd3b5c06799"],

Cell[BoxData[
 RowBox[{
  RowBox[{"makePackageScopeSymbol", "[", 
   RowBox[{"cont_", ",", " ", "name_"}], "]"}], ":=", "\n", "  ", 
  RowBox[{"ToExpression", "[", 
   RowBox[{
    RowBox[{"cont", "<>", "\"\<PackageScope`\>\"", "<>", "name"}], ",", " ", 
    "StandardForm", ",", " ", "\n", "    ", 
    RowBox[{"Function", "[", "\n", "      ", 
     RowBox[{"Null", ",", "\n", "      ", 
      RowBox[{
       RowBox[{"ClearAll", "[", "#", "]"}], ";", "\n", "      ", "#"}], ",", 
      "\n", "      ", "HoldAllComplete"}], "\n", "      ", "]"}]}], "\n", 
   "    ", "]"}]}]], "Code",
 CellChangeTimes->{{3.7855952901177807`*^9, 
  3.785595383801614*^9}},ExpressionUUID->"789bcb1e-d645-4d2d-9c40-\
b7c52ab32de4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageConfigurePackageHelpers", "[", "pkg_", "]"}], ":=", "\n", 
  "  ", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cont", "=", 
      RowBox[{"PackageContext", "[", "pkg", "]"}]}], "}"}], ",", "\n", "    ", 
    RowBox[{"With", "[", "\n", "      ", 
     RowBox[{
      RowBox[{"{", "\n", "        ", 
       RowBox[{
        RowBox[{"$PackageObject", "=", 
         RowBox[{"makePackageScopeSymbol", "[", 
          RowBox[{"cont", ",", " ", "\"\<$PackageObject\>\""}], "]"}]}], ",", 
        "\n", "        ", 
        RowBox[{"$PackageName", "=", 
         RowBox[{"makePackageScopeSymbol", "[", 
          RowBox[{"cont", ",", " ", "\"\<$PackageName\>\""}], "]"}]}], ",", 
        "\n", "        ", 
        RowBox[{"$PackageHead", "=", 
         RowBox[{"makePackageScopeSymbol", "[", 
          RowBox[{"cont", ",", " ", "\"\<$PackageHead\>\""}], "]"}]}], ",", 
        "\n", "        ", 
        RowBox[{"$PackageDirectory", "=", 
         RowBox[{"makePackageScopeSymbol", "[", 
          RowBox[{"cont", ",", " ", "\"\<$PackageDirectory\>\""}], "]"}]}]}], 
       "\n", "        ", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"$PackageContexts", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageContexts\>\""}], 
           "]"}]}], ",", "\n", "        ", 
         RowBox[{"$PackageSymbols", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageSymbols\>\""}], "]"}]}],
          ",", "\n", "        ", 
         RowBox[{"$PackageListing", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageListing\>\""}], "]"}]}],
          ",", "\n", "        ", 
         RowBox[{"$PackageFileContexts", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageFileContexts\>\""}], 
           "]"}]}], ",", "\n", "        ", 
         RowBox[{"$LoadedPackages", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$LoadedPackages\>\""}], "]"}]}],
          ",", "\n", "        ", 
         RowBox[{"$DeclaredPackages", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$DeclaredPackages\>\""}], 
           "]"}]}], ",", "\n", "        ", 
         RowBox[{"$PackageLoadingMode", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageLoadingMode\>\""}], 
           "]"}]}], ",", "\n", "        ", 
         RowBox[{"$PackageDependencies", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageDependencies\>\""}], 
           "]"}]}], ",", "\n", "        ", 
         RowBox[{"$PackageDependencyBase", "=", 
          RowBox[{"Symbol", "[", 
           RowBox[{"packageScope", "<>", "\"\<$PackageDependencyBase\>\""}], 
           "]"}]}]}], "*)"}], "\n", "        ", "}"}], ",", "\n", "        ", 
      
      RowBox[{"(*", " ", 
       RowBox[{"usage", " ", "messages"}], " ", "*)"}], "\n", "        ", 
      RowBox[{
       RowBox[{
        RowBox[{"$PackageObject", "::", "usage"}], "=", 
        "\"\<The PackageFrameworkPackage for this package\>\""}], ";", "\n", 
       "        ", 
       RowBox[{
        RowBox[{"$PackageHead", "::", "usage"}], "=", 
        "\"\<The manager symbol for this package\>\""}], ";", "\n", 
       "        ", 
       RowBox[{
        RowBox[{"$PackageName", "::", "usage"}], "=", 
        "\"\<Applies PackageName to $CurrentPackage\>\""}], ";", "\n", 
       "        ", 
       RowBox[{
        RowBox[{"$PackageDirectory", "::", "usage"}], "=", 
        "\"\<Applies PackageRoot to $CurrentPackage\>\""}], ";", "\n", 
       "        ", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{"$PackageListing", "::", "usage"}], "=", 
          "\"\<The listing of packages\>\""}], ";", "\n", "  ", "  ", "  ", 
         "  ", 
         RowBox[{
          RowBox[{"$PackageFileContexts", "::", "usage"}], "=", 
          "\"\<The contexts for files in $CurrentPackage\>\""}], ";", "\n", 
         "  ", "  ", "  ", "  ", 
         RowBox[{
          RowBox[{"$PackageSymbols", "::", "usage"}], "=", 
          "\"\<Applies PackageSymbols to $CurrentPackage\>\""}], ";", "\n", 
         "  ", "  ", "  ", "  ", 
         RowBox[{
          RowBox[{"$LoadedPackages", "::", "usage"}], "=", 
          "\"\<The set of loaded packages for $CurrentPackage\>\""}], ";", 
         "\n", "  ", "  ", "  ", "  ", 
         RowBox[{
          RowBox[{"$DeclaredPackages", "::", "usage"}], "=", 
          "\"\<The set of packages found and declared via the \
autoloader\>\""}], ";", "\n", "  ", "  ", "  ", "  ", 
         RowBox[{
          RowBox[{"$PackageLoadingMode", "::", "usage"}], "=", 
          "\"\<A flag that determines whether the package is primary or a \n\
dependency\>\""}], ";", "\n", "        ", 
         RowBox[{
          RowBox[{"$PackageDependencies", "::", "usage"}], "=", 
          "\"\<A set of dependencies for the package to load\>\""}], ";", 
         "\n", "  ", "  ", "  ", "  ", 
         RowBox[{
          RowBox[{"$PackageDependencyBase", "::", "usage"}], "=", 
          "\"\<The server from which dependencies should be loaded\>\""}], 
         ";", "\n", "  ", "  ", "  ", "  ", 
         RowBox[{
          RowBox[{"$PackageContexts", "::", "usage"}], "=", 
          "\"\<The set of Contexts used by $CurrentPackage\>\""}], ";"}], 
        "*)"}], "\n", "        ", 
       RowBox[{"(*", " ", "bindings", " ", "*)"}], "\n", "        ", 
       RowBox[{"$PackageObject", "=", "pkg"}], ";", "\n", "        ", 
       RowBox[{"$PackageHead", "=", 
        RowBox[{"PackageHead", "[", "pkg", "]"}]}], ";", "\n", "        ", 
       RowBox[{"$PackageName", "=", 
        RowBox[{"PackageName", "[", "pkg", "]"}]}], ";", "\n", "        ", 
       RowBox[{"$PackageDirectory", "=", 
        RowBox[{"PackageRoot", "[", "pkg", "]"}]}], ";"}]}], "\n", "        ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"$PackageListing", ":=", 
        RowBox[{"PackageListing", "[", "pkg", "]"}]}], ";", "\n", "        ", 
       
       RowBox[{"$PackageFileContexts", ":=", 
        RowBox[{"PackageFileContexts", "[", "pkg", "]"}]}], ";", "\n", 
       "        ", 
       RowBox[{"$PackageSymbols", ":=", 
        RowBox[{"PackageSymbols", "[", "pkg", "]"}]}], ";", "\n", "        ", 
       
       RowBox[{"$LoadedPackages", ":=", 
        RowBox[{"PackageLoadedPackages", "[", "pkg", "]"}]}], ";", "\n", 
       "        ", 
       RowBox[{"$DeclaredPackages", ":=", 
        RowBox[{"PackageSymbols", "[", "pkg", "]"}]}], ";"}], "*)"}], "\n", 
     "      ", "]"}]}], "\n", "    ", "]"}]}]], "Code",
 CellChangeTimes->{{3.785594028831218*^9, 3.785594038487279*^9}, {
   3.785594074486383*^9, 3.785594185631411*^9}, {3.785594433326172*^9, 
   3.78559447357757*^9}, {3.785594578975878*^9, 3.7855948201567907`*^9}, 
   3.785595029780549*^9, {3.785595279880245*^9, 3.785595286292902*^9}, {
   3.785595364183477*^9, 
   3.785595393231234*^9}},ExpressionUUID->"1c1bc9f5-905d-464c-b4fb-\
0c8dfa4ec467"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["End Private", "Subsection",
 CellChangeTimes->{{3.7827542377989407`*^9, 
  3.782754262767384*^9}},ExpressionUUID->"f08ba047-f89b-4d4d-8947-\
d1f2253b59fa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"End", "[", "]"}], ";"}]], "Code",
 CellChangeTimes->{
  3.7827542355675917`*^9},ExpressionUUID->"13c757ec-5357-45eb-8a50-\
c6be94470120"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["End Package", "Section",
 CellChangeTimes->{{3.784579903182823*^9, 
  3.784579935870764*^9}},ExpressionUUID->"29a282d6-7d53-4962-b4df-\
8e5add94e2ef"],

Cell[CellGroupData[{

Cell["EndPackage", "Subsection",
 CellChangeTimes->{{3.784579910727687*^9, 
  3.7845799120474*^9}},ExpressionUUID->"59d6dbff-6ff3-4050-ba50-53e04ba141de"],

Cell[BoxData[
 RowBox[{
  RowBox[{"EndPackage", "[", "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.784579914169182*^9, 
  3.784579915640308*^9}},ExpressionUUID->"2af6f224-a40d-405b-bc91-\
2aa9c8496dac"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
NotebookEventActions->{{"MenuCommand", "Save"} :> 
  EasyIDE`Notebooks`Manipulation`IDESave[
    EvaluationNotebook[]], 
  "MouseDown" :> (Needs["EasyIDE`"]; 
   EasyIDE`Notebooks`Manipulation`EnsureNotebookUpdated[
     EvaluationNotebook[]]), PassEventsDown -> True, EvaluationOrder -> After},
WindowSize->{939, 755},
WindowMargins->{{Automatic, 29}, {Automatic, 11}},
WindowTitle->"EasyIDE: PackageFramework",
TaggingRules->{
 "EasyIDE" -> {
   "Project" -> {
     "Directory" -> 
      "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/"}, 
    "Tabs" -> {
     "PackageFramework" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Packages/PackageFramework.wl", 
        "Modified" -> True}, 
      "Constants" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Packages/Operations/Constants.wl", 
        "Modified" -> True}, 
      "MainLoader" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Resources/MainLoader.wl", 
        "Modified" -> True}, 
      "PackageProcessing" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Packages/Operations/\
PackageProcessing.wl", "Modified" -> True}, 
      "Paths" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Packages/Operations/Paths.wl", 
        "Modified" -> True}, 
      "Loading" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Packages/Operations/Loading.wl", 
        "Modified" -> True}, 
      "Dependencies" -> {
       "File" -> 
        "/Users/Mark/Documents/Wolfram \
Mathematica/Applications/PackageFramework/Packages/Operations/Dependencies.\
wl", "Modified" -> True}}, "FileViewer" -> {"Visible" -> False}, 
    "Toolbars" -> {"Column" -> GridBox[{{
          GridBox[{{
             PaneBox["", ImageSize -> {0, 15}], 
             ButtonBox[
             "", BaseStyle -> "ToolbarShowButton", ButtonData -> "Package"]}},
            BaseStyle -> "ToolbarCell"]}}, BaseStyle -> "Toolbars"], 
      "Tags" -> {}, "Cells" -> {"Package" -> None}}, "ActiveTab" -> 
    "PackageFramework", 
    "Options" -> {
     WindowSize -> {808, 755}, 
      WindowMargins -> {{Automatic, 260}, {Automatic, 4}}, Visible -> False, 
      FrontEndVersion -> "12.0 for Mac OS X x86 (64-bit) (April 8, 2019)", 
      StyleDefinitions -> "Package.nb"}, 
    "Styles" -> {
     "UnthemedStylesheet" -> 
      FrontEnd`FileName[{"EasyIDE", "Extensions"}, "-Package.nb"], "Theme" -> 
      "DarkGUI", "StyleSheet" -> "Package"}, "FileToolbar" -> "Package", 
    "AutoGeneratePackage" -> False, "SavingAction" -> None}, 
  "IndentCharacter" -> "  "},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"EasyIDE", "Extensions", "DarkGUI"}, "Package.nb", 
       CharacterEncoding -> "UTF-8"]]]}, Visible -> False, 
  TaggingRules -> {"EasyIDE" -> {"FileViewer" -> {"Visible" -> False}}}, 
  FrontEndVersion -> "12.0 for Mac OS X x86 (64-bit) (April 8, 2019)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[619, 23, 163, 3, 98, "Title",ExpressionUUID->"ab17adfc-28fa-455f-8cac-78b331e7bc18"],
Cell[785, 28, 441, 9, 58, "Text",ExpressionUUID->"fa051721-9a84-4be9-b178-50a8ad877d6f"],
Cell[1229, 39, 406, 8, 58, "Text",ExpressionUUID->"376b8c61-aa04-4492-a96c-34aaca202c11"],
Cell[1638, 49, 214, 4, 49, "Code",ExpressionUUID->"61829561-0ae4-4a1c-9bfb-16ecc6d1ff4e"],
Cell[1855, 55, 234, 5, 71, "Code",ExpressionUUID->"698134b2-ee27-4bf3-8e4a-ab8547242add"],
Cell[CellGroupData[{
Cell[2114, 64, 160, 3, 45, "Subsubsection",ExpressionUUID->"adee1018-3ee9-4f4e-b3de-cdad4f5b6e4a"],
Cell[2277, 69, 263, 6, 35, "Text",ExpressionUUID->"9ec6fc6e-5913-4c53-8d60-a4bf73948dcd"],
Cell[2543, 77, 320, 6, 49, "Code",ExpressionUUID->"95da9d94-27df-4671-bee1-5551b409771d"],
Cell[2866, 85, 1047, 23, 134, "Code",ExpressionUUID->"d2716393-cf2a-4017-a37a-7fbcbb56dd04"],
Cell[3916, 110, 298, 6, 49, "Code",ExpressionUUID->"1ae7f244-f2d2-4c3f-892d-24a8f35b2759"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4251, 121, 161, 3, 45, "Subsubsection",ExpressionUUID->"e291567d-c5d2-456f-883a-5e614285203e"],
Cell[4415, 126, 612, 11, 150, "Text",ExpressionUUID->"f8aac176-8de9-40d9-8b39-e29dcf28d040"],
Cell[5030, 139, 299, 5, 49, "Code",ExpressionUUID->"d94fb49a-d633-4630-a9fe-46e776d41eef"],
Cell[5332, 146, 2047, 47, 260, "Code",ExpressionUUID->"d8d1af6f-bd3c-4f4f-92e8-7a4f383d015d"],
Cell[7382, 195, 183, 4, 49, "Code",ExpressionUUID->"a4ad798d-1a7e-4f76-bde1-51510f2ed103"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7602, 204, 206, 4, 45, "Subsubsection",ExpressionUUID->"616be079-6c54-405e-adac-96e01e94bfc9"],
Cell[7811, 210, 254, 5, 49, "Code",ExpressionUUID->"f275df58-c484-4c46-9d7a-7bcc1f4eca2c"],
Cell[8068, 217, 1434, 36, 176, "Code",ExpressionUUID->"aacc4f75-589d-479d-8aa5-f240a97cded4"],
Cell[9505, 255, 183, 4, 49, "Code",ExpressionUUID->"25a9e105-9014-4508-80b9-25a390d8bcd9"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9725, 264, 207, 4, 45, "Subsubsection",ExpressionUUID->"9ee901e7-fde3-4cf8-a3c5-a11845279c39"],
Cell[9935, 270, 206, 4, 49, "Code",ExpressionUUID->"84003fa0-da45-4b1b-88b1-405e46697a9f"],
Cell[10144, 276, 896, 21, 113, "Code",ExpressionUUID->"4e76c467-d276-4c28-a063-2c97d819ef48"],
Cell[11043, 299, 550, 16, 92, "Code",ExpressionUUID->"b6d552af-62e1-4b54-8407-0efb3f4378e3"],
Cell[11596, 317, 827, 19, 134, "Code",ExpressionUUID->"a7fa14b7-3d35-48aa-8fd0-cbe887b932f0"],
Cell[12426, 338, 203, 5, 49, "Code",ExpressionUUID->"6d91d411-95f5-421c-9ae4-778f0a20d989"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12666, 348, 164, 3, 45, "Subsubsection",ExpressionUUID->"c3b21416-fe73-44e1-b5c4-e8c75b2a748b"],
Cell[12833, 353, 396, 8, 58, "Text",ExpressionUUID->"a8b1bc46-08b2-4631-a930-2a99382abeaf"],
Cell[13232, 363, 260, 5, 49, "Code",ExpressionUUID->"caa24b3a-850f-41d0-bb77-0d3ac28d92cc"],
Cell[13495, 370, 425, 12, 92, "Code",ExpressionUUID->"e414930b-263a-4164-bad8-6a89eabfeee6"],
Cell[13923, 384, 232, 5, 49, "Code",ExpressionUUID->"770dc2f7-cde9-4dd1-89ae-a9c8011471fe"]
}, Closed]],
Cell[CellGroupData[{
Cell[14192, 394, 154, 3, 53, "Section",ExpressionUUID->"3f02229c-554d-474f-bf70-9c65895413e0"],
Cell[14349, 399, 148, 3, 49, "Code",ExpressionUUID->"78f543dd-3caa-4577-8ade-4b4b8986bc33"],
Cell[14500, 404, 635, 14, 197, "Code",ExpressionUUID->"70575816-496f-497a-82e3-0dd93eef798c"],
Cell[CellGroupData[{
Cell[15160, 422, 174, 3, 54, "Subsection",ExpressionUUID->"aef7efd4-755e-4f3b-903c-77f0f18b1e3f"],
Cell[CellGroupData[{
Cell[15359, 429, 152, 3, 45, "Subsubsection",ExpressionUUID->"e4247e85-0455-485f-a228-4ad3808c83e5"],
Cell[15514, 434, 413, 11, 92, "Code",ExpressionUUID->"470c36a0-042c-41d3-baf3-8d91187f1b90"]
}, Closed]],
Cell[CellGroupData[{
Cell[15964, 450, 157, 3, 37, "Subsubsection",ExpressionUUID->"58a7c64e-6282-4f6c-a678-66d59cb2a4e0"],
Cell[16124, 455, 411, 10, 71, "Code",ExpressionUUID->"8adfc7c2-d30e-4d08-8051-45076aa9b350"]
}, Closed]],
Cell[CellGroupData[{
Cell[16572, 470, 175, 3, 37, "Subsubsection",ExpressionUUID->"5921dec6-aad1-4065-a339-f004444a125b"],
Cell[16750, 475, 9640, 209, 1919, "Code",ExpressionUUID->"e4b8e3d6-a5fb-4223-854f-6856c9f7686a"]
}, Closed]],
Cell[CellGroupData[{
Cell[26427, 689, 103, 0, 37, "Subsubsection",ExpressionUUID->"9b8ed445-6de5-4a87-9304-44a727d4f5be"],
Cell[26533, 691, 6680, 148, 1604, "Code",ExpressionUUID->"c5bf68ff-b351-4ba1-aa9c-695c05ffb719"]
}, Open  ]],
Cell[CellGroupData[{
Cell[33250, 844, 160, 3, 45, "Subsubsection",ExpressionUUID->"0fff8786-432a-46b3-99d4-d003a76094ba"],
Cell[33413, 849, 1578, 38, 323, "Code",ExpressionUUID->"c918b925-6d27-4a36-83a4-6e91d743cab5"]
}, Closed]],
Cell[CellGroupData[{
Cell[35028, 892, 184, 3, 37, "Subsubsection",ExpressionUUID->"c13632db-f194-4457-a037-5666f7d1d6f5"],
Cell[35215, 897, 5564, 134, 1310, "Code",ExpressionUUID->"7a41c46e-12da-442d-9128-56a10462002a"]
}, Closed]],
Cell[CellGroupData[{
Cell[40816, 1036, 177, 3, 37, "Subsubsection",ExpressionUUID->"dd91bc7f-75da-4f61-9a03-614decdd2d94"],
Cell[40996, 1041, 579, 14, 92, "Code",ExpressionUUID->"302fe105-6262-462b-9617-b4ddb9c1b1f5"]
}, Closed]],
Cell[CellGroupData[{
Cell[41612, 1060, 364, 6, 37, "Subsubsection",ExpressionUUID->"c7ebdbaa-c175-4b19-a7d9-7684829b8b1f"],
Cell[41979, 1068, 494, 13, 92, "Code",ExpressionUUID->"9554b303-daab-4bbf-a1e9-e1f340b0670f"],
Cell[CellGroupData[{
Cell[42498, 1085, 226, 4, 30, "Subsubsubsubsection",ExpressionUUID->"79f08f85-80b1-4142-9eff-069f29fc91a2"],
Cell[42727, 1091, 654, 16, 113, "Code",ExpressionUUID->"4d3c7465-b8b7-4ea1-a718-a4f5ab340b47"]
}, Open  ]],
Cell[CellGroupData[{
Cell[43418, 1112, 216, 4, 30, "Subsubsubsubsection",ExpressionUUID->"1ce312e8-f8b0-4282-b1df-ac790e43f0c2"],
Cell[43637, 1118, 682, 18, 113, "Code",ExpressionUUID->"7c4b0107-03cd-4690-99a2-65632e059219"]
}, Open  ]],
Cell[CellGroupData[{
Cell[44356, 1141, 220, 4, 30, "Subsubsubsubsection",ExpressionUUID->"867b1653-37a4-46d9-8c95-4f66c86f6c03"],
Cell[44579, 1147, 419, 10, 71, "Code",ExpressionUUID->"d8aa679f-7321-48c6-aa59-8d077823a0cd"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45035, 1162, 219, 4, 30, "Subsubsubsubsection",ExpressionUUID->"fd266e62-1519-47f6-bb15-6cb4c1d12810"],
Cell[45257, 1168, 640, 16, 113, "Code",ExpressionUUID->"c835fa90-dc89-47d6-aa75-3156c81c76ec"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45934, 1189, 216, 4, 30, "Subsubsubsubsection",ExpressionUUID->"1dd872eb-5b5e-4173-a853-7e3b4c2b4b0e"],
Cell[46153, 1195, 565, 14, 113, "Code",ExpressionUUID->"207a8eec-79f2-4e89-ac16-f51608699f23"]
}, Open  ]],
Cell[CellGroupData[{
Cell[46755, 1214, 216, 4, 30, "Subsubsubsubsection",ExpressionUUID->"dce466bf-7bc8-4bd4-960b-e4d49f4e3d2f"],
Cell[46974, 1220, 326, 8, 71, "Code",ExpressionUUID->"d590a3b3-e598-4abf-aaed-67c9f15ee045"]
}, Open  ]],
Cell[CellGroupData[{
Cell[47337, 1233, 176, 3, 30, "Subsubsubsubsection",ExpressionUUID->"e542a28f-6dde-48ce-bdda-cb5dd1797b10"],
Cell[47516, 1238, 564, 15, 71, "Code",ExpressionUUID->"d357d1d9-dee5-43d4-bbfd-6357af06a00c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[48117, 1258, 170, 3, 30, "Subsubsubsubsection",ExpressionUUID->"b17ebbdb-bf3f-484b-a936-4da9586a16e2"],
Cell[48290, 1263, 1940, 53, 281, "Code",ExpressionUUID->"a46794d2-574d-4ab7-8d77-4bf0482fa683"],
Cell[50233, 1318, 1027, 20, 155, "Code",ExpressionUUID->"93823ffa-6119-4538-abc7-74064d8325cc"]
}, Open  ]],
Cell[CellGroupData[{
Cell[51297, 1343, 170, 3, 30, "Subsubsubsubsection",ExpressionUUID->"47d898a8-5cfb-46f5-bbdf-cb796d3cd063"],
Cell[51470, 1348, 2292, 56, 386, "Code",ExpressionUUID->"451da26a-dd3e-473c-9d0f-a6b283cebcf3"],
Cell[53765, 1406, 550, 11, 92, "Code",ExpressionUUID->"2fd92146-1a8f-4fcf-b797-5f36f695a9a9"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54352, 1422, 224, 4, 30, "Subsubsubsubsection",ExpressionUUID->"3c4a1d7c-56b1-4f39-89f1-a6378fb29c37"],
Cell[54579, 1428, 1081, 25, 218, "Code",ExpressionUUID->"97b9f9af-ed3a-4d18-9b7e-725fb6fa3072"],
Cell[55663, 1455, 526, 11, 92, "Code",ExpressionUUID->"0fb0b1c2-f579-43c8-9627-24e9fbb2d360"]
}, Open  ]],
Cell[CellGroupData[{
Cell[56226, 1471, 219, 4, 30, "Subsubsubsubsection",ExpressionUUID->"12662964-40c2-4a6f-8094-700efb7b783b"],
Cell[56448, 1477, 514, 13, 71, "Code",ExpressionUUID->"05c0a40e-c9d2-4bb7-aef9-623c20912443"],
Cell[56965, 1492, 465, 10, 92, "Code",ExpressionUUID->"8eb31fe9-2903-4398-b817-db5fab305a65"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[57479, 1508, 208, 3, 37, "Subsubsection",ExpressionUUID->"eae953bb-b91d-46e8-92fe-92a63e2bb811"],
Cell[57690, 1513, 1242, 27, 134, "Code",ExpressionUUID->"2a292a06-0df3-44ce-9d7f-a2a1b53dde35"]
}, Closed]],
Cell[CellGroupData[{
Cell[58969, 1545, 160, 3, 37, "Subsubsection",ExpressionUUID->"0d55628e-9658-420a-8d0d-75b51247b1fe"],
Cell[59132, 1550, 2130, 53, 344, "Code",ExpressionUUID->"97182ef2-0fa6-4e8f-a93c-44fb5d28fdfa"],
Cell[61265, 1605, 1662, 40, 176, "Code",ExpressionUUID->"a60013af-8e6d-40b9-9ac9-098820f91699"]
}, Closed]],
Cell[CellGroupData[{
Cell[62964, 1650, 156, 3, 37, "Subsubsection",ExpressionUUID->"9dda1dc7-abbc-456a-b11e-6da159eb04e2"],
Cell[63123, 1655, 1179, 27, 176, "Code",ExpressionUUID->"b9671ffd-d20f-439a-828f-230d25b3ea88"]
}, Closed]],
Cell[CellGroupData[{
Cell[64339, 1687, 177, 3, 37, "Subsubsection",ExpressionUUID->"9ad0b9f8-36d5-4449-8c3b-ace2009d9dbc"],
Cell[64519, 1692, 800, 15, 150, "Text",ExpressionUUID->"86ce1c15-e190-415b-83e1-984d6f012fd0"],
Cell[65322, 1709, 4045, 92, 659, "Code",ExpressionUUID->"28e24c42-4404-470f-a8be-a483d1c2f0e5"]
}, Closed]],
Cell[CellGroupData[{
Cell[69404, 1806, 144, 3, 37, "Subsubsection",ExpressionUUID->"6eff4122-ff46-4a2f-90bb-5bdaca831b7f"],
Cell[69551, 1811, 393, 8, 58, "Text",ExpressionUUID->"874b3c8c-39cf-4dd2-8613-6dcb93f2ca94"],
Cell[69947, 1821, 826, 21, 113, "Code",ExpressionUUID->"61dcf862-f5b9-436d-b391-96501a23abeb"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[70822, 1848, 160, 3, 54, "Subsection",ExpressionUUID->"9a9c247f-b714-43b6-9620-abc36dc5330c"],
Cell[CellGroupData[{
Cell[71007, 1855, 162, 3, 45, "Subsubsection",ExpressionUUID->"899e46da-e5d0-4c86-81df-942e9f1e2df5"],
Cell[71172, 1860, 360, 7, 35, "Text",ExpressionUUID->"0fcb172c-4aff-4410-87fd-1c7c92dcb568"],
Cell[71535, 1869, 282, 6, 58, "Text",ExpressionUUID->"76232475-5955-438d-b4bd-ca156e7e12a0"],
Cell[71820, 1877, 12616, 276, 2360, "Code",ExpressionUUID->"5144c926-68ee-4bf4-b78c-fa78069bd952"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[84485, 2159, 221, 4, 54, "Subsection",ExpressionUUID->"d414c240-9848-4587-9674-dce6e9864a88"],
Cell[CellGroupData[{
Cell[84731, 2167, 138, 3, 45, "Subsubsection",ExpressionUUID->"77ad7832-d49f-4cae-ac1d-57dc93317d32"],
Cell[84872, 2172, 343, 6, 49, "Code",ExpressionUUID->"c42e8fde-536a-4a29-99a7-d8f8d1c73dea"],
Cell[85218, 2180, 419, 10, 92, "Code",ExpressionUUID->"3595cc05-1840-4dd4-8bc2-568b74a7c0ce"]
}, Open  ]],
Cell[CellGroupData[{
Cell[85674, 2195, 145, 3, 45, "Subsubsection",ExpressionUUID->"5be38ac5-2f31-480d-b367-64c69247f81f"],
Cell[85822, 2200, 767, 17, 92, "Code",ExpressionUUID->"20ff49db-f271-4e0c-b94c-75b2b860599f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[86626, 2222, 141, 3, 45, "Subsubsection",ExpressionUUID->"7a0bcae8-784b-48a3-aa90-9800e695347a"],
Cell[86770, 2227, 327, 6, 49, "Code",ExpressionUUID->"26d48c84-e41b-4a44-ad62-f9cc21cf7eee"],
Cell[87100, 2235, 996, 24, 134, "Code",ExpressionUUID->"a9058758-d08c-4eb7-9932-6d5134b37fb8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[88133, 2264, 142, 3, 45, "Subsubsection",ExpressionUUID->"b9e074b7-e614-4f0a-be8d-fa156b4e3a3d"],
Cell[88278, 2269, 303, 6, 49, "Code",ExpressionUUID->"c350de4a-0081-408d-bc8e-ecef5edc7eb2"],
Cell[88584, 2277, 570, 12, 49, "Code",ExpressionUUID->"1cc0bb85-125e-41f7-ad1f-b839d8677e0a"],
Cell[89157, 2291, 829, 19, 134, "Code",ExpressionUUID->"2c1c4ec8-6bbe-4787-a9f1-4cde419f0537"]
}, Open  ]],
Cell[CellGroupData[{
Cell[90023, 2315, 145, 3, 45, "Subsubsection",ExpressionUUID->"c0523164-e314-43d8-be49-81af7d4088b5"],
Cell[90171, 2320, 586, 15, 71, "Code",ExpressionUUID->"94748698-1450-4750-939a-eaaf9d2e0a20"]
}, Open  ]],
Cell[CellGroupData[{
Cell[90794, 2340, 150, 3, 45, "Subsubsection",ExpressionUUID->"68965697-d0d3-4f5d-b7bd-a46fc5724b9a"],
Cell[90947, 2345, 358, 8, 71, "Code",ExpressionUUID->"bb11cc51-05f6-4d1c-97ea-7209d2b4eccd"]
}, Closed]],
Cell[CellGroupData[{
Cell[91342, 2358, 177, 3, 37, "Subsubsection",ExpressionUUID->"3dea2d7f-3612-4039-8f23-9474f7e4d263"],
Cell[91522, 2363, 5520, 108, 1268, "Code",ExpressionUUID->"f8a4d1d6-13c2-452d-8821-596414b63d20"]
}, Closed]],
Cell[CellGroupData[{
Cell[97079, 2476, 91, 0, 37, "Subsubsection",ExpressionUUID->"1da4504f-0132-4f46-8ea6-599b4436fc3d"],
Cell[97173, 2478, 251, 5, 49, "Code",ExpressionUUID->"d59525cb-1bea-4589-bf20-ef911e185846"],
Cell[97427, 2485, 1042, 28, 176, "Code",ExpressionUUID->"2354f513-b75e-42a4-8eaf-3a699f5d6ab4"]
}, Open  ]],
Cell[CellGroupData[{
Cell[98506, 2518, 96, 0, 45, "Subsubsection",ExpressionUUID->"21eb5fe9-2c48-484c-8494-91085250672a"],
Cell[98605, 2520, 260, 6, 49, "Code",ExpressionUUID->"74935dab-db1d-4462-ac0b-fafe531eb203"],
Cell[98868, 2528, 587, 13, 176, "Code",ExpressionUUID->"30140845-7972-4cba-8e6e-a73f001738ad"]
}, Open  ]],
Cell[CellGroupData[{
Cell[99492, 2546, 95, 0, 45, "Subsubsection",ExpressionUUID->"4f582000-e3ac-4fe9-a6f0-af01856440e1"],
Cell[99590, 2548, 320, 6, 49, "Code",ExpressionUUID->"7dedb05d-f6bb-42db-b86e-488fdd993127"],
Cell[99913, 2556, 791, 20, 218, "Code",ExpressionUUID->"fe33438a-9910-4fac-9e42-ce36a7c62d87"]
}, Open  ]],
Cell[CellGroupData[{
Cell[100741, 2581, 269, 4, 45, "Subsubsection",ExpressionUUID->"333b1698-b13c-47ea-837f-48af57f0911e"],
Cell[101013, 2587, 341, 8, 49, "Code",ExpressionUUID->"b4f83953-8324-4479-91d5-882e09399b5c"],
Cell[101357, 2597, 1046, 23, 197, "Code",ExpressionUUID->"1be0f349-882e-4f96-8853-9242aaa79698"]
}, Closed]],
Cell[CellGroupData[{
Cell[102440, 2625, 172, 3, 37, "Subsubsection",ExpressionUUID->"543566b0-be5e-4919-83f7-efcfc3e3c5fb"],
Cell[102615, 2630, 382, 10, 49, "Code",ExpressionUUID->"b445576a-1d88-4bd1-aef1-42f0fd77bdb3"],
Cell[103000, 2642, 1018, 22, 197, "Code",ExpressionUUID->"5cf0f232-9091-4663-9d52-f6c76b49e8f7"]
}, Open  ]],
Cell[CellGroupData[{
Cell[104055, 2669, 177, 3, 45, "Subsubsection",ExpressionUUID->"7c5a3bbc-9abd-4fd5-8992-de7f1e78ba14"],
Cell[104235, 2674, 693, 17, 113, "Code",ExpressionUUID->"6b224122-a9b0-4d16-96b1-1dcefe00f001"]
}, Open  ]],
Cell[CellGroupData[{
Cell[104965, 2696, 98, 0, 45, "Subsubsection",ExpressionUUID->"01f2d69f-e15d-4734-9bcf-0c2bc634d82c"],
Cell[105066, 2698, 318, 6, 81, "Text",ExpressionUUID->"9f4f52b4-8bac-4d49-a897-3969b6a40e75"],
Cell[105387, 2706, 1115, 24, 218, "Code",ExpressionUUID->"d9577696-7aa0-4ff2-86dc-14023a8efa1a"],
Cell[106505, 2732, 2077, 47, 302, "Code",ExpressionUUID->"e1b48ad2-9445-4a48-8db3-05371b9b465d"]
}, Closed]],
Cell[CellGroupData[{
Cell[108619, 2784, 170, 3, 37, "Subsubsection",ExpressionUUID->"1d327e0b-3e86-4569-bacb-3d3f01ba0d7b"],
Cell[108792, 2789, 1438, 34, 323, "Code",ExpressionUUID->"466e419f-9617-43b5-8f2d-bc024a4beebe"]
}, Closed]],
Cell[CellGroupData[{
Cell[110267, 2828, 173, 3, 37, "Subsubsection",ExpressionUUID->"fa96b918-ec42-494c-93da-254c704fe748"],
Cell[110443, 2833, 668, 15, 176, "Code",ExpressionUUID->"d4f0dfa3-e797-42d8-b398-62671be0d301"]
}, Closed]],
Cell[CellGroupData[{
Cell[111148, 2853, 104, 0, 37, "Subsubsection",ExpressionUUID->"5623aa66-8a9e-4991-81d8-a148654c964a"],
Cell[111255, 2855, 928, 21, 239, "Code",ExpressionUUID->"59ef9591-9189-4516-ae3a-bea7dfb65253"]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[112232, 2882, 216, 4, 54, "Subsection",ExpressionUUID->"0c0b22c1-1507-4b7d-a7e3-a9ae28676cde"],
Cell[CellGroupData[{
Cell[112473, 2890, 141, 3, 45, "Subsubsection",ExpressionUUID->"4dc0b781-506b-4246-ab9f-f8c4771de471"],
Cell[112617, 2895, 392, 10, 49, "Code",ExpressionUUID->"4113250c-b4e7-4f20-a086-3ee87afbb9a5"],
Cell[113012, 2907, 1042, 22, 197, "Code",ExpressionUUID->"048813ae-4c65-46b6-a9ef-d7ef9566a55f"]
}, Closed]],
Cell[CellGroupData[{
Cell[114091, 2934, 94, 0, 37, "Subsubsection",ExpressionUUID->"b43a03fc-2224-4eb2-befe-c2f2ebb09126"],
Cell[114188, 2936, 2110, 47, 428, "Code",ExpressionUUID->"e25a42f9-fc9a-4b4f-ac48-8e9d51bdccfc"]
}, Closed]],
Cell[CellGroupData[{
Cell[116335, 2988, 103, 0, 37, "Subsubsection",ExpressionUUID->"f39b5e26-82fd-49bc-90a8-46c85b8b9626"],
Cell[116441, 2990, 840, 18, 242, "Text",ExpressionUUID->"c6b00877-4368-4462-94ae-4920f8679ca0"],
Cell[117284, 3010, 1700, 40, 771, "Text",ExpressionUUID->"4c2754a2-3fec-4e0b-864d-cd9ca39942eb"],
Cell[118987, 3052, 506, 10, 127, "Text",ExpressionUUID->"8d813911-e068-4537-a5b4-bd6bebb9e3df"],
Cell[119496, 3064, 5131, 123, 1079, "Code",ExpressionUUID->"61ed70d6-0419-4fef-b28b-1fcd96735d4f"],
Cell[124630, 3189, 7462, 143, 1415, "Code",ExpressionUUID->"c06ec0f6-3718-4c24-8d74-2920a9be730c"]
}, Closed]],
Cell[CellGroupData[{
Cell[132129, 3337, 149, 3, 37, "Subsubsection",ExpressionUUID->"daf3c6e3-e8a6-40fc-97df-9f76f3aec1e0"],
Cell[132281, 3342, 259, 6, 35, "Text",ExpressionUUID->"5a61fe20-6e59-4a69-b5a3-731a37739564"],
Cell[132543, 3350, 5530, 124, 953, "Code",ExpressionUUID->"32ee6b79-1b33-438b-aea7-7ad8c161ab2c"]
}, Closed]],
Cell[CellGroupData[{
Cell[138110, 3479, 101, 0, 37, "Subsubsection",ExpressionUUID->"1fa5509c-ccde-4296-9755-aa41b7a6bd9f"],
Cell[138214, 3481, 394, 11, 49, "Code",ExpressionUUID->"070cf191-f4d6-4f25-aef6-d3820a3bb14b"],
Cell[138611, 3494, 1063, 23, 197, "Code",ExpressionUUID->"764e615d-0057-445a-8409-390a91fc041d"],
Cell[139677, 3519, 1894, 44, 365, "Code",ExpressionUUID->"9ec200c0-3a93-47f4-a057-acd5bc917928"]
}, Closed]],
Cell[CellGroupData[{
Cell[141608, 3568, 98, 0, 37, "Subsubsection",ExpressionUUID->"a092d971-8a3e-445d-b777-cc86a2c7b803"],
Cell[141709, 3570, 1370, 33, 260, "Code",ExpressionUUID->"2285ddfd-cc9e-4a9b-b5d8-f95d08aec268"]
}, Closed]],
Cell[CellGroupData[{
Cell[143116, 3608, 200, 3, 37, "Subsubsection",ExpressionUUID->"4f1e181b-eb02-4431-ae6b-aa518686a43c"],
Cell[143319, 3613, 403, 9, 49, "Code",ExpressionUUID->"d6c2d450-15a9-4c74-9cf5-b2187a97cce8"],
Cell[143725, 3624, 4492, 107, 869, "Code",ExpressionUUID->"291c0da7-e8cd-44b9-b01e-a9aa2ee4d23d"],
Cell[148220, 3733, 3861, 84, 638, "Code",ExpressionUUID->"2fc91e62-afce-49f5-8e35-76b19b52df25"]
}, Closed]],
Cell[CellGroupData[{
Cell[152118, 3822, 153, 3, 37, "Subsubsection",ExpressionUUID->"a6b7561f-68ee-4778-8caf-6e62169f71ef"],
Cell[152274, 3827, 265, 6, 49, "Code",ExpressionUUID->"70dc0def-7669-41f4-ab36-fbd48dd39d4e"],
Cell[152542, 3835, 1350, 29, 218, "Code",ExpressionUUID->"30ab4360-523b-4f1e-9836-8f9eb6148284"]
}, Closed]],
Cell[CellGroupData[{
Cell[153929, 3869, 177, 3, 37, "Subsubsection",ExpressionUUID->"10480d70-4174-474a-bc16-dccc6b17a578"],
Cell[154109, 3874, 314, 7, 49, "Code",ExpressionUUID->"0f7897f5-884b-47a0-b445-fddc80eefb20"],
Cell[154426, 3883, 1359, 36, 176, "Code",ExpressionUUID->"fd5938f5-4f1c-4874-8a4f-00ac8a08f4d1"],
Cell[155788, 3921, 1404, 33, 197, "Code",ExpressionUUID->"e28c01c1-ec74-42fc-96c5-1fb6afb800a9"]
}, Closed]],
Cell[CellGroupData[{
Cell[157229, 3959, 97, 0, 37, "Subsubsection",ExpressionUUID->"4bc09ad0-b2f6-4841-b034-45e8b8b2cab1"],
Cell[157329, 3961, 835, 22, 155, "Code",ExpressionUUID->"ca365739-eb7d-4d09-8a35-096aa7b29dff"]
}, Closed]],
Cell[CellGroupData[{
Cell[158201, 3988, 153, 3, 37, "Subsubsection",ExpressionUUID->"aacf88cb-673e-4ac5-adff-de30ebe3722f"],
Cell[158357, 3993, 594, 14, 155, "Code",ExpressionUUID->"b1fad8b2-350b-4d7d-9cdd-7c0db02d7e0a"]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[159000, 4013, 160, 3, 54, "Subsection",ExpressionUUID->"f9f84b06-4691-488a-b939-f70d95371cb5"],
Cell[CellGroupData[{
Cell[159185, 4020, 146, 3, 45, "Subsubsection",ExpressionUUID->"ac03b8b2-12ae-4dbf-a54c-531a6ec32ae9"],
Cell[159334, 4025, 359, 9, 71, "Code",ExpressionUUID->"64ad562d-293d-409f-9e17-9c57322503f2"]
}, Closed]],
Cell[CellGroupData[{
Cell[159730, 4039, 148, 3, 37, "Subsubsection",ExpressionUUID->"9e12d7e0-efc1-4a21-8e12-a86b9f75b746"],
Cell[159881, 4044, 523, 13, 134, "Code",ExpressionUUID->"49a054da-6d7f-42fc-acee-3a289b8d284f"]
}, Closed]],
Cell[CellGroupData[{
Cell[160441, 4062, 108, 0, 37, "Subsubsection",ExpressionUUID->"57de74da-5f5e-4cee-a1ec-042c166a41af"],
Cell[160552, 4064, 466, 12, 71, "Code",ExpressionUUID->"d6e808ae-f861-4c7a-9135-72d027adc03a"]
}, Closed]],
Cell[CellGroupData[{
Cell[161055, 4081, 110, 0, 37, "Subsubsection",ExpressionUUID->"ce398156-83c3-409b-a4f9-9dd2ea8b95a6"],
Cell[161168, 4083, 315, 7, 49, "Code",ExpressionUUID->"a23513f6-fcb4-48fc-9ff3-291529880a79"],
Cell[161486, 4092, 292, 8, 49, "Code",ExpressionUUID->"ebb28f54-95c7-4e8c-a402-215f2346a2ac"],
Cell[161781, 4102, 5332, 121, 1268, "Code",ExpressionUUID->"fe27f241-ec42-4ff6-85c7-6e1ad2c4e7f5"],
Cell[167116, 4225, 1006, 25, 197, "Code",ExpressionUUID->"4dcb3bc1-161e-468d-b5b6-a043e67fcfce"]
}, Closed]],
Cell[CellGroupData[{
Cell[168159, 4255, 156, 3, 37, "Subsubsection",ExpressionUUID->"1577ca0b-eafe-4d1a-8929-8ed73ea28a7a"],
Cell[168318, 4260, 270, 7, 49, "Code",ExpressionUUID->"ff85ebfe-7893-4dfa-a237-d29df19774b1"],
Cell[168591, 4269, 4956, 118, 1079, "Code",ExpressionUUID->"56b929db-1259-487b-a6fd-f86f56acd181"],
Cell[173550, 4389, 813, 22, 134, "Code",ExpressionUUID->"c4ca83b4-9ac4-4a02-a2c8-cf2086df055a"]
}, Closed]],
Cell[CellGroupData[{
Cell[174400, 4416, 107, 0, 37, "Subsubsection",ExpressionUUID->"63239067-6c72-45f1-a875-512c9d212264"],
Cell[174510, 4418, 3159, 74, 722, "Code",ExpressionUUID->"c5490027-7573-4b31-8ca0-64d3e1c821f0"]
}, Closed]],
Cell[CellGroupData[{
Cell[177706, 4497, 107, 0, 37, "Subsubsection",ExpressionUUID->"a9690c1e-54df-4e08-ac1d-9e3476202515"],
Cell[177816, 4499, 1496, 37, 407, "Code",ExpressionUUID->"761e1d2b-578b-4103-9f6f-ba536d9e2280"],
Cell[179315, 4538, 6004, 133, 1310, "Code",ExpressionUUID->"700dd5cb-43ab-4ec1-8f96-84f7e7a0d65b"]
}, Closed]],
Cell[CellGroupData[{
Cell[185356, 4676, 109, 0, 37, "Subsubsection",ExpressionUUID->"27f8a18e-b860-4ab3-af32-5707708ab6ae"],
Cell[185468, 4678, 3183, 71, 575, "Code",ExpressionUUID->"3bf75e18-ecb1-49d5-b489-b4c7fac5f85e"]
}, Closed]],
Cell[CellGroupData[{
Cell[188688, 4754, 178, 3, 37, "Subsubsection",ExpressionUUID->"0a3fd893-826f-4d73-abd6-0c6574b79172"],
Cell[188869, 4759, 467, 12, 71, "Code",ExpressionUUID->"e8dea55c-3340-49bd-8c2d-e99d60e191d9"]
}, Closed]],
Cell[CellGroupData[{
Cell[189373, 4776, 105, 0, 37, "Subsubsection",ExpressionUUID->"9279977f-b43e-4f7f-9557-6042d13e5287"],
Cell[189481, 4778, 3810, 88, 848, "Code",ExpressionUUID->"3db288d6-a26b-47d7-b9a7-00c933cd9874"]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[193340, 4872, 165, 3, 54, "Subsection",ExpressionUUID->"bf5aeddd-0c95-4fa9-8eec-72a79fdbe620"],
Cell[CellGroupData[{
Cell[193530, 4879, 157, 3, 45, "Subsubsection",ExpressionUUID->"65ab29ca-3dc8-4e7e-b692-7d389c6f3b27"],
Cell[193690, 4884, 393, 7, 104, "Text",ExpressionUUID->"28a4d5e9-a2af-4cf4-a587-7fd3b5c06799"],
Cell[194086, 4893, 713, 16, 218, "Code",ExpressionUUID->"789bcb1e-d645-4d2d-9c40-b7c52ab32de4"],
Cell[194802, 4911, 7181, 156, 974, "Code",ExpressionUUID->"1c1bc9f5-905d-464c-b4fb-0c8dfa4ec467"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[202032, 5073, 161, 3, 54, "Subsection",ExpressionUUID->"f08ba047-f89b-4d4d-8947-d1f2253b59fa"],
Cell[202196, 5078, 172, 5, 49, "Code",ExpressionUUID->"13c757ec-5357-45eb-8a50-c6be94470120"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[202417, 5089, 156, 3, 67, "Section",ExpressionUUID->"29a282d6-7d53-4962-b4df-8e5add94e2ef"],
Cell[CellGroupData[{
Cell[202598, 5096, 154, 2, 54, "Subsection",ExpressionUUID->"59d6dbff-6ff3-4050-ba50-53e04ba141de"],
Cell[202755, 5100, 201, 5, 49, "Code",ExpressionUUID->"2af6f224-a40d-405b-bc91-2aa9c8496dac"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

